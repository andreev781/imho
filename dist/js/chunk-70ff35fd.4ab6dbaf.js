(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-70ff35fd"],{"14a4":function(t,a,e){},"191e":function(t,a,e){"use strict";e("57d8")},2125:function(t,a){t.exports={functional:!0,render(t,a){const{_c:e,_v:s,data:i,children:n=[]}=a,{class:r,staticClass:l,style:c,staticStyle:o,attrs:u={},...g}=i;return e("svg",{class:[r,l],style:[c,o],attrs:Object.assign({width:"7",height:"11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u),...g},n.concat([e("path",{attrs:{d:"M1.72 10.29l4.083-4.083a1 1 0 000-1.414L1.72.709A.714.714 0 10.71 1.72l3.074 3.074a1 1 0 010 1.414L.709 9.281a.714.714 0 001.01 1.01z",fill:"#231F20"}})]))}}},4319:function(t,a,e){"use strict";var s=function(){var t=this,a=t._self._c;return a("div",{staticClass:"main-paginator"},[a("div",{staticClass:"main-paginator__content main-color main-table__column"},[a("div",{staticClass:"main-paginator__column"},[a("ul",{staticClass:"main-paginator__count"},t._l(t.viewItems,(function(e){return a("li",{key:e,on:{click:function(a){return t.changeItemsForViews(e)}}},[a("p",{staticClass:"main-paginator__number",class:{"main-paginator__number_active":t.currentCount==e}},[t._v(" "+t._s(e)+" ")])])})),0)]),a("div",{staticClass:"main-paginator__column"},[a("div",{staticClass:"main-paginator__arrow",class:{"main-paginator__arrow_disable":1==t.pages},on:{click:function(a){return t.switchPage("-")}}},[a("LeftArrowIcon")],1),a("ul",{staticClass:"main-paginator__pages"},[t._l(t.viewPages,(function(e){return a("li",{key:e,staticClass:"main-paginator__page",class:{"main-paginator__page_active":e==t.currentPage},on:{click:function(a){return t.pageClick(e)}}},[a("p",[t._v(t._s(e))])])})),a("li",[t.pages>1?a("p",{staticClass:"main-paginator__page"},[t._v(" ... ")]):t._e()])],2),a("div",{staticClass:"main-paginator__arrow",class:{"main-paginator__arrow_disable":1==t.pages.length},on:{click:function(a){return t.switchPage("+")}}},[a("RightArrowIcon")],1)]),a("div",{staticClass:"main-paginator__column"},[a("div",{staticClass:"main-paginator__view"},[a("p",[t._v(" Просмотр "+t._s(t.itemsPerPage*(t.currentPage-1)+1)+" - "+t._s(t.itemsPerPage*t.currentPage>t.items.length?t.items.length:t.itemsPerPage*t.currentPage)+" из "+t._s(t.items.length)+" ")])])])])])},i=[],n=(e("14d9"),e("ee93")),r=e.n(n),l=e("2125"),c=e.n(l),o={props:{items:{type:Array,default:()=>[]}},data(){return{currentPage:1,paginatedItems:[],itemsPerPage:50,firstPage:1,lastPage:5,currentCount:50}},components:{LeftArrowIcon:r.a,RightArrowIcon:c.a},mounted(){this.items&&this.sendData(this.items)},computed:{pages(){let t=[];for(let a=1;a<Math.ceil(this.items.length/this.itemsPerPage)+1;a++)t.push(a);return t},viewPages(){return this.pages.slice(this.firstPage-1,this.lastPage)},viewItems(){let t=[50];return this.items.length>50?t.push(100):this.items.length>100&&t.push(500),t.push("Все"),t}},methods:{pageClick(t){this.currentPage=t,this.sendData(this.items)},sendData(t=this.items){let a=[];if("Все"==this.itemsPerPage)this.itemsPerPage=t.length,this.currentPage=1,a=t;else{let e=(this.currentPage-1)*this.itemsPerPage,s=e+this.itemsPerPage;a=t.slice(e,s)}this.$emit("changePaginatedItems",a)},changeItemsForViews(t){this.itemsPerPage=t,this.currentCount=t,this.sendData()},switchPage(t){"+"==t?(this.currentPage=this.pages.length>1?this.currentPage==this.pages.length?this.currentPage:this.currentPage+=1:void 0,this.currentPage>this.lastPage&&(this.lastPage+=1,this.firstPage+=1)):(this.currentPage=this.pages.length>1?1==this.currentPage?this.currentPage:this.currentPage-=1:void 0,this.currentPage<this.firstPage&&(this.lastPage-=1,this.firstPage-=1)),this.sendData()}},watch:{items(t){this.sendData(t)},pages(t){1==t&&(this.currentPage=1,this.sendData())}}},u=o,g=(e("191e"),e("2877")),_=Object(g["a"])(u,s,i,!1,null,null,null);a["a"]=_.exports},"540c":function(t,a,e){t.exports=e.p+"assets/lat.e64fa7b2.svg"},"57d8":function(t,a,e){},6770:function(t,a,e){"use strict";e("14a4")},"6ad7":function(t,a,e){t.exports=e.p+"assets/mda.c05dff6d.svg"},"7abd":function(t,a,e){t.exports=e.p+"assets/est.ac5ab0f2.svg"},"9c27":function(t,a,e){var s={"./blr.svg":"9dec","./est.svg":"7abd","./kaz.svg":"c8d0","./lat.svg":"540c","./ltu.svg":"b8b7","./mda.svg":"6ad7","./pol.svg":"b9c1","./rus.svg":"c1ab","./ukr.svg":"af2f"};function i(t){var a=n(t);return e(a)}function n(t){if(!e.o(s,t)){var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}return s[t]}i.keys=function(){return Object.keys(s)},i.resolve=n,t.exports=i,i.id="9c27"},"9dec":function(t,a,e){t.exports=e.p+"assets/blr.7894adb8.svg"},a6f5:function(t,a,e){t.exports=e.p+"img/avatar2.b22cf13d.png"},af2f:function(t,a,e){t.exports=e.p+"assets/ukr.3f11e30b.svg"},b8b7:function(t,a,e){t.exports=e.p+"assets/ltu.9211055c.svg"},b9c1:function(t,a,e){t.exports=e.p+"assets/pol.80c4670c.svg"},bc13:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t._self._c;return a("div",{staticClass:"publications-new"},[t.Publications.length>=1?a("PublicationsTable",{attrs:{publications:t.Publications}}):t._e()],1)},i=[],n=function(){var t=this,a=t._self._c;return a("div",{staticClass:"publications-new-table main-content"},[t._m(0),a("div",{staticClass:"publications-new-table__body"},t._l(t.paginatedItems,(function(s){return a("router-link",{key:s.id,staticClass:"publications-new-table__row",attrs:{to:{name:"PublicationsArticle",params:{id:s.id}}}},[a("div",{staticClass:"publications-new-table__value main-table__column"},[a("p",[t._v(t._s(s.id.toLocaleString()))])]),a("div",{staticClass:"publications-new-table__value main-table__column"},[a("p",[t._v(t._s(s.title))])]),a("div",{staticClass:"publications-new-table__value main-table__column"},[a("ul",{staticClass:"main-table__list main-table__list_direction"},t._l(s.availableCountries,(function(s){return a("li",{key:s},[a("div",{staticClass:"main-table__icon"},[a("img",{attrs:{src:e("9c27")(`./${s.toLowerCase()}.svg`),alt:""}})]),a("p",{staticClass:"main-table__text main-table__text_bold"},[t._v(" "+t._s(s)+" ")])])})),0)]),a("div",{staticClass:"publications-new-table__value main-table__column"},[a("div",{staticClass:"main-table-author"},[a("div",{staticClass:"main-table-author__image"},[a("img",{attrs:{src:e("a6f5"),alt:"user"}})]),a("div",{staticClass:"main-table-author__info"},[a("p",{staticClass:"main-table-author__name"},[t._v(" "+t._s(t.getAuthor(s.authorId)?t.getAuthor(s.authorId).name:"")+" "+t._s(t.getAuthor(s.authorId)?t.getAuthor(s.authorId).surname:"")+" ")]),a("p",{staticClass:"main-table-author__tag"},[t._v(" "+t._s(t.getAuthor(s.authorId)?t.getAuthor(s.authorId).tag:"")+" ")]),a("ul",{staticClass:"main-table-author__list"},t._l(t.getAuthor(s.authorId)?t.getAuthor(s.authorId).roles:[],(function(e){return a("li",{key:e,style:["Лидер мнений"==e?{background:"#CEE9FF"}:{background:"#E2E2E2"}]},[a("p",[t._v(t._s(e))])])})),0)])])]),a("div",{staticClass:"publications-new-table__value main-table__column"},[a("p",[t._v(" "+t._s(new Date(s.publish).toLocaleDateString())+" "+t._s(new Date(s.publish).toLocaleTimeString().slice(0,-3))+" ")])]),a("div",{staticClass:"publications-new-table__value main-table__column"},[a("p",[t._v(t._s(new Date(s.created).toLocaleDateString()))])])])})),1),a("Paginator",{attrs:{items:t.filteredPublications},on:{changePaginatedItems:t.changeData}})],1)},r=[function(){var t=this,a=t._self._c;return a("div",{staticClass:"publications-new-table__top main-table_white"},[a("div",{staticClass:"publications-new-table__row"},[a("div",{staticClass:"publications-new-table__parameter main-table__column"},[a("p",[t._v("Id")])]),a("div",{staticClass:"publications-new-table__parameter main-table__column"},[a("p",[t._v("Заголовок")])]),a("div",{staticClass:"publications-new-table__parameter main-table__column"},[a("p",[t._v("Страны")])]),a("div",{staticClass:"publications-new-table__parameter main-table__column"},[a("p",[t._v("Автор")])]),a("div",{staticClass:"publications-new-table__parameter main-table__column"},[a("p",[t._v("Опубликовать")])]),a("div",{staticClass:"publications-new-table__parameter main-table__column"},[a("p",[t._v("Создано")])])])])}],l=e("2f62"),c=e("4319"),o={props:{publications:{type:Array,default:()=>[]}},data(){return{paginatedItems:[]}},mounted(){this.changePeriod()},components:{Paginator:c["a"]},computed:{...Object(l["c"])({getAuthor:"Main/getAuthorById",getRange:"Main/getRange",CurrentUser:"Users/getCurrentUser",getTextForPeriod:"Main/getTextForPeriod",availableCountries:"Main/getAvailableCountries"}),filteredPublications(){return this.publications.filter(t=>"undefined"==t.status&&t.availableCountries.some(t=>this.availableCountries.includes(t)))}},methods:{changeData(t){this.paginatedItems=t},changePeriod(){this.$store.commit("Main/changeRangeForPeriod",this.minmax(this.publications,this.getTextForPeriod))},minmax(t,a){const e=t.map(t=>new Date(t[a]).getTime());return{start:Math.min.apply(null,e),end:Math.max.apply(null,e)}}},watch:{getTextForPeriod(){this.changePeriod()}}},u=o,g=(e("6770"),e("2877")),_=Object(g["a"])(u,n,r,!1,null,null,null),p=_.exports,h={components:{PublicationsTable:p},computed:{...Object(l["c"])({Publications:"Main/getPublications"})}},m=h,d=Object(g["a"])(m,s,i,!1,null,null,null);a["default"]=d.exports},c1ab:function(t,a,e){t.exports=e.p+"assets/rus.fae0024c.svg"},c8d0:function(t,a,e){t.exports=e.p+"assets/kaz.1da5cdd3.svg"},ee93:function(t,a){t.exports={functional:!0,render(t,a){const{_c:e,_v:s,data:i,children:n=[]}=a,{class:r,staticClass:l,style:c,staticStyle:o,attrs:u={},...g}=i;return e("svg",{class:[r,l],style:[c,o],attrs:Object.assign({width:"7",height:"11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},u),...g},n.concat([e("path",{attrs:{d:"M5.28.71L1.198 4.792a1 1 0 000 1.414l4.084 4.084a.714.714 0 001.01-1.01L3.217 6.207a1 1 0 010-1.414l3.074-3.074A.714.714 0 105.28.71z",fill:"#231F20"}})]))}}}}]);
//# sourceMappingURL=chunk-70ff35fd.4ab6dbaf.js.map