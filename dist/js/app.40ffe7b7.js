(function(e){function n(n){for(var a,c,u=n[0],l=n[1],i=n[2],d=0,s=[];d<u.length;d++)c=u[d],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&s.push(o[c][0]),o[c]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);h&&h(n);while(s.length)s.shift()();return r.push.apply(r,i||[]),t()}function t(){for(var e,n=0;n<r.length;n++){for(var t=r[n],a=!0,c=1;c<t.length;c++){var u=t[c];0!==o[u]&&(a=!1)}a&&(r.splice(n--,1),e=l(l.s=t[0]))}return e}var a={},c={app:0},o={app:0},r=[];function u(e){return l.p+"js/"+({}[e]||e)+"."+{"chunk-0338759e":"6b8e9c5b","chunk-10efda2c":"d3d637d5","chunk-14f10a34":"47fab978","chunk-1cd5a7d8":"8b1adbb8","chunk-24104abf":"cfb17849","chunk-2d0d9fff":"eefd06b9","chunk-2d0e6875":"38bb140a","chunk-2d21f4b9":"4e93cb2f","chunk-2d22d598":"6ce50fef","chunk-2dfc58df":"c37ceb59","chunk-2f7f26c1":"6e1c43bb","chunk-3e9c6a62":"98f1750b","chunk-400ee78d":"763e4deb","chunk-2d0ab43e":"1188f4e1","chunk-2d0d0ee8":"e8947cf5","chunk-40da1004":"6afc96c6","chunk-49699498":"8cac08f2","chunk-5e49ea2a":"5ff7cb58","chunk-5ea18194":"d4bb5bac","chunk-65ca0045":"acced189","chunk-67b9a3b0":"8ea36874","chunk-68284929":"1c110312","chunk-6c59855e":"40ac1595","chunk-70ff35fd":"4ab6dbaf","chunk-7a797ecc":"ff3fe744","chunk-7ceca2d8":"b013e556","chunk-8ffd04bc":"26413e72","chunk-912481de":"78c6b3cf","chunk-a46cee0e":"0568f7c9","chunk-cd397d14":"664e92a7","chunk-d8d6852a":"d0089224","chunk-0270dbca":"cd579e50","chunk-1cd058ba":"37ff1175","chunk-e687461a":"e5289f60","chunk-2d2077d1":"08e44eea","chunk-2d224866":"3b5b9930","chunk-e9127896":"111fa6de"}[e]+".js"}function l(n){if(a[n])return a[n].exports;var t=a[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,l),t.l=!0,t.exports}l.e=function(e){var n=[],t={"chunk-0338759e":1,"chunk-10efda2c":1,"chunk-14f10a34":1,"chunk-1cd5a7d8":1,"chunk-24104abf":1,"chunk-2dfc58df":1,"chunk-2f7f26c1":1,"chunk-3e9c6a62":1,"chunk-400ee78d":1,"chunk-40da1004":1,"chunk-49699498":1,"chunk-5e49ea2a":1,"chunk-5ea18194":1,"chunk-65ca0045":1,"chunk-67b9a3b0":1,"chunk-68284929":1,"chunk-6c59855e":1,"chunk-70ff35fd":1,"chunk-7a797ecc":1,"chunk-7ceca2d8":1,"chunk-8ffd04bc":1,"chunk-912481de":1,"chunk-a46cee0e":1,"chunk-cd397d14":1,"chunk-0270dbca":1,"chunk-1cd058ba":1,"chunk-e687461a":1,"chunk-e9127896":1};c[e]?n.push(c[e]):0!==c[e]&&t[e]&&n.push(c[e]=new Promise((function(n,t){for(var a="css/"+({}[e]||e)+"."+{"chunk-0338759e":"f3938cd7","chunk-10efda2c":"8333a86e","chunk-14f10a34":"2d4a5305","chunk-1cd5a7d8":"4896b972","chunk-24104abf":"7b66a6be","chunk-2d0d9fff":"31d6cfe0","chunk-2d0e6875":"31d6cfe0","chunk-2d21f4b9":"31d6cfe0","chunk-2d22d598":"31d6cfe0","chunk-2dfc58df":"648e0c35","chunk-2f7f26c1":"452134e5","chunk-3e9c6a62":"d174f0bc","chunk-400ee78d":"a3a0e5a4","chunk-2d0ab43e":"31d6cfe0","chunk-2d0d0ee8":"31d6cfe0","chunk-40da1004":"648e0c35","chunk-49699498":"5844348b","chunk-5e49ea2a":"13947df1","chunk-5ea18194":"4bae145c","chunk-65ca0045":"464be0b8","chunk-67b9a3b0":"95be1990","chunk-68284929":"648e0c35","chunk-6c59855e":"c1158c8d","chunk-70ff35fd":"c6960f9f","chunk-7a797ecc":"648e0c35","chunk-7ceca2d8":"ca620ccc","chunk-8ffd04bc":"648e0c35","chunk-912481de":"61550112","chunk-a46cee0e":"648e0c35","chunk-cd397d14":"bc06d551","chunk-d8d6852a":"31d6cfe0","chunk-0270dbca":"5fca7c48","chunk-1cd058ba":"be86f6cd","chunk-e687461a":"8847b530","chunk-2d2077d1":"31d6cfe0","chunk-2d224866":"31d6cfe0","chunk-e9127896":"648e0c35"}[e]+".css",o=l.p+a,r=document.getElementsByTagName("link"),u=0;u<r.length;u++){var i=r[u],d=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(d===a||d===o))return n()}var s=document.getElementsByTagName("style");for(u=0;u<s.length;u++){i=s[u],d=i.getAttribute("data-href");if(d===a||d===o)return n()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=n,h.onerror=function(n){var a=n&&n.target&&n.target.src||o,r=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=a,delete c[e],h.parentNode.removeChild(h),t(r)},h.href=o;var f=document.getElementsByTagName("head")[0];f.appendChild(h)})).then((function(){c[e]=0})));var a=o[e];if(0!==a)if(a)n.push(a[2]);else{var r=new Promise((function(n,t){a=o[e]=[n,t]}));n.push(a[2]=r);var i,d=document.createElement("script");d.charset="utf-8",d.timeout=120,l.nc&&d.setAttribute("nonce",l.nc),d.src=u(e);var s=new Error;i=function(n){d.onerror=d.onload=null,clearTimeout(h);var t=o[e];if(0!==t){if(t){var a=n&&("load"===n.type?"missing":n.type),c=n&&n.target&&n.target.src;s.message="Loading chunk "+e+" failed.\n("+a+": "+c+")",s.name="ChunkLoadError",s.type=a,s.request=c,t[1](s)}o[e]=void 0}};var h=setTimeout((function(){i({type:"timeout",target:d})}),12e4);d.onerror=d.onload=i,document.head.appendChild(d)}return Promise.all(n)},l.m=e,l.c=a,l.d=function(e,n,t){l.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,n){if(1&n&&(e=l(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(l.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var a in e)l.d(t,a,function(n){return e[n]}.bind(null,a));return t},l.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(n,"a",n),n},l.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},l.p="/",l.oe=function(e){throw console.error(e),e};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],d=i.push.bind(i);i.push=n,i=i.slice();for(var s=0;s<i.length;s++)n(i[s]);var h=d;r.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("56d7")},"0709":function(e,n,t){"use strict";t("2cf5")},"0e46":function(e,n,t){},"2cf5":function(e,n,t){},"56d7":function(e,n,t){"use strict";t.r(n),t.d(n,"vm",(function(){return w}));var a=t("2b0e"),c=function(){var e=this,n=e._self._c;return n("div",{attrs:{id:"app"}},[n(e.layout,{tag:"component"},[n("router-view")],1)],1)},o=[],r=t("2f62"),u={mounted(){this.GET_USERS_FROM_API(),this.GET_PUBLICATIONS_FROM_API(),this.GET_AUTHORS_FROM_API(),this.GET_THEMES_FROM_API(),this.GET_ARCHIVE_FROM_API(),localStorage.user&&this.$store.commit("Users/changeUserByLocalStorage"),this.currentMode&&document.body.classList.add("dark")},computed:{layout(){const e=this.$route.meta.layout||"Empty";return()=>t("a449")(`./${e}.vue`)},...Object(r["c"])({CurrentUser:"Users/getCurrentUser"}),currentMode(){return JSON.parse(localStorage.getItem("mode"))}},methods:{...Object(r["b"])("Users",["GET_USERS_FROM_API"]),...Object(r["b"])("Main",["GET_PUBLICATIONS_FROM_API","GET_AUTHORS_FROM_API","GET_THEMES_FROM_API","GET_ARCHIVE_FROM_API"])}},l=u,i=(t("0709"),t("2877")),d=Object(i["a"])(l,c,o,!1,null,null,null),s=d.exports;const h={listOfUsers:[],currentUser:null};var f=h,m={SET_USERS(e,n){e.listOfUsers=n},changeCurrentUser(e,n){e.currentUser=n},changeUserByLocalStorage(e){e.currentUser=JSON.parse(localStorage.getItem("user"))}},b=(t("14d9"),t("cee4")),p={auth({state:e,commit:n},t){return new Promise((a,c)=>{const o={loginIsError:!1,passwordIsError:!1},r=e.listOfUsers.find(e=>e.login==t.login)||e.listOfUsers.find(e=>e.email==t.login);void 0==r?(o.loginIsError=!0,c(o)):r.password!=t.password?(o.passwordIsError=!0,c(o)):(n("changeCurrentUser",r),localStorage.setItem("user",JSON.stringify(r)),a(!0))})},logout({commit:e}){e("changeCurrentUser",null),localStorage.clear(),w.$router.push({name:"Login"})},GET_USERS_FROM_API({commit:e}){return Object(b["a"])(a["default"].prototype.$hostname+"/users",{method:"GET"}).then(n=>{e("SET_USERS",n.data)})},CREATE_USER({state:e},n){b["a"].post(a["default"].prototype.$hostname+"/users",n).then(()=>{alert("Успешно")}).catch(n=>{console.log(e),console.error(n)})},CHANGE_USER({s:e},n){console.log(e),fetch(a["default"].prototype.$hostname+"/users",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then(e=>console.log(e)).then(e=>console.log(e))}},k={getCurrentUser(e){return e.currentUser||void 0},getCountries(e){return e.listOfCountries||void 0},getListOfUsers(e){return e.listOfUsers},getUserById(e){return n=>e.listOfUsers.find(e=>e.id==n)}},g={namespaced:!0,state:f,mutations:m,getters:k,actions:p},y={availableCountries:["RUS"],listOfAuthors:[],listOfPublications:[],listOfThemes:[],listOfArchive:[],rangeForPeriod:{start:new Date(2023,4,2),end:new Date(2023,4,12)},textForPeriod:"publish",mainContainer:"",nightMode:!1},O={changeAvailableCountries(e,n){let t=()=>{e.availableCountries.splice(0,e.availableCountries.length)};if(Array.isArray(n))e.availableCountries=[...n];else{if(e.availableCountries.includes(n)&&1==e.availableCountries.length)return;t(),e.availableCountries.push(n)}},changeSizeOfContainer(e,n){e.mainContainer=n},SET_AUTHORS(e,n){e.listOfAuthors=n},SET_PUBLICATIONS(e,n){e.listOfPublications=n},SET_THEMES(e,n){e.listOfThemes=n},SET_ARCHIVE(e,n){e.listOfArchive=n},changeRangeForPeriod(e,n){e.rangeForPeriod=n},changeTextForPeriod(e,n){e.textForPeriod=n},changeMode(e,n){n?document.body.classList.add("dark"):document.body.classList.remove("dark"),localStorage.setItem("mode",JSON.stringify(n))}},A={GET_AUTHORS_FROM_API({commit:e}){return Object(b["a"])(a["default"].prototype.$hostname+"/authors",{method:"GET"}).then(n=>{e("SET_AUTHORS",n.data)})},GET_PUBLICATIONS_FROM_API({commit:e}){return Object(b["a"])(a["default"].prototype.$hostname+"/publications",{method:"GET"}).then(n=>{e("SET_PUBLICATIONS",n.data)})},GET_THEMES_FROM_API({commit:e}){return Object(b["a"])(a["default"].prototype.$hostname+"/themes",{method:"GET"}).then(n=>{e("SET_THEMES",n.data)})},GET_ARCHIVE_FROM_API({commit:e}){return Object(b["a"])(a["default"].prototype.$hostname+"/archivePublications",{method:"GET"}).then(n=>{e("SET_ARCHIVE",n.data)})},getUserById({state:e},n){return e.listOfAuthors.find(e=>e.id==n)}},E={getAvailableCountries(e){return e.availableCountries},getAuthors(e){return e.listOfAuthors},getPublications(e){return e.listOfPublications},getArchive(e){return e.listOfArchive},getAllPublications(e){return e.listOfPublications.concat(e.listOfArchive)},getThemes(e){return e.listOfThemes},getAuthorById(e){return n=>e.listOfAuthors.find(e=>e.id==n)},getPublicationById(e){return n=>e.listOfPublications.find(e=>e.id==n)},getRange(e){return e.rangeForPeriod},getTextForPeriod(e){return e.textForPeriod},getSizeOfContainer(e){return e.mainContainer},getCurrentMode(){return JSON.parse(localStorage.getItem("mode"))}},P={namespaced:!0,state:y,mutations:O,getters:E,actions:A};a["default"].use(r["a"]);const v=new r["a"].Store({modules:{Users:g,Main:P}});var T=v,_=t("8c4f");a["default"].use(_["a"]);const S=[{path:"/login",name:"Login",component:()=>t.e("chunk-67b9a3b0").then(t.bind(null,"a55b")),meta:{layout:"Empty"}},{path:"/admin",name:"MainAdmin",component:()=>t.e("chunk-2d22d598").then(t.bind(null,"f6b4")),children:[{path:"employees",name:"AdminEmployees",component:()=>t.e("chunk-3e9c6a62").then(t.bind(null,"ba48")),children:[{path:"list",name:"AdminEmployeesTable",component:()=>t.e("chunk-1cd5a7d8").then(t.bind(null,"fc34")),meta:{layout:"Default"}},{path:"view/:id",name:"AdminEmployeesView",component:()=>Promise.all([t.e("chunk-400ee78d"),t.e("chunk-2d0ab43e")]).then(t.bind(null,"1515")),meta:{layout:"Default"}},{path:"create",name:"AdminEmployeesCreateEmployeer",component:()=>Promise.all([t.e("chunk-400ee78d"),t.e("chunk-2d0d0ee8")]).then(t.bind(null,"69a0")),meta:{layout:"Default"}}]},{path:"analytics",name:"AdminAnalyticsMain",component:()=>t.e("chunk-5ea18194").then(t.bind(null,"a377")),children:[{path:"graph",name:"AdminAnalyticsPage",component:()=>Promise.all([t.e("chunk-d8d6852a"),t.e("chunk-1cd058ba")]).then(t.bind(null,"b97e")),meta:{layout:"Default"}},{path:"authors",name:"AdminAnalyticsAuthorsPage",component:()=>t.e("chunk-0338759e").then(t.bind(null,"3149")),meta:{layout:"Default"}},{path:"publications",name:"AdminAnalyticsPublicationsPage",component:()=>t.e("chunk-6c59855e").then(t.bind(null,"a88e")),meta:{layout:"Default"}},{path:"users",name:"AdminAnalyticsUsersPage",component:()=>t.e("chunk-cd397d14").then(t.bind(null,"8824")),meta:{layout:"Default"}}]}]},{path:"/article/:id",name:"PublicationsArticle",component:()=>t.e("chunk-7ceca2d8").then(t.bind(null,"00b4")),meta:{layout:"Default"}},{path:"/publications/table",name:"PublicationsTable",component:()=>Promise.all([t.e("chunk-e687461a"),t.e("chunk-2d224866")]).then(t.bind(null,"e104")),children:[{path:"new",name:"ModeratorPublicationsTableNew",component:()=>t.e("chunk-70ff35fd").then(t.bind(null,"bc13")),meta:{layout:"Default"}},{path:"approved",name:"ModeratorPublicationsTableApproved",component:()=>t.e("chunk-65ca0045").then(t.bind(null,"68c1")),meta:{layout:"Default"}},{path:"rejected",name:"ModeratorPublicationsTableRejected",component:()=>t.e("chunk-912481de").then(t.bind(null,"00b0")),meta:{layout:"Default"}},{path:"archive",name:"ModeratorPublicationsTableArchive",component:()=>t.e("chunk-24104abf").then(t.bind(null,"53c9")),meta:{layout:"Default"}},{path:"editorial",name:"ModeratorPublicationsTableEditorial",component:()=>t.e("chunk-2f7f26c1").then(t.bind(null,"7eb9")),meta:{layout:"Default"}},{path:"hot",name:"ModeratorPublicationsTableHot",component:()=>t.e("chunk-5e49ea2a").then(t.bind(null,"7442")),meta:{layout:"Default"}},{path:"all",name:"ModeratorPublicationsTableAll",component:()=>t.e("chunk-14f10a34").then(t.bind(null,"f706")),meta:{layout:"Default"}}]},{path:"/publications/calendar",name:"PublicationsCalendar",component:()=>Promise.all([t.e("chunk-e687461a"),t.e("chunk-2d2077d1")]).then(t.bind(null,"a16a")),children:[{path:"new",name:"ModeratorPublicationsCalendarNew",component:()=>t.e("chunk-8ffd04bc").then(t.bind(null,"d608")),meta:{layout:"Default"}},{path:"approved",name:"ModeratorPublicationsCalendarApproved",component:()=>t.e("chunk-a46cee0e").then(t.bind(null,"167be")),meta:{layout:"Default"}},{path:"rejected",name:"ModeratorPublicationsCalendarRejected",component:()=>t.e("chunk-e9127896").then(t.bind(null,"96f0")),meta:{layout:"Default"}},{path:"archive",name:"ModeratorPublicationsCalendarArchive",component:()=>t.e("chunk-40da1004").then(t.bind(null,"0482")),meta:{layout:"Default"}},{path:"editorial",name:"ModeratorPublicationsCalendarEditorial",component:()=>t.e("chunk-7a797ecc").then(t.bind(null,"ecd6")),meta:{layout:"Default"}},{path:"hot",name:"ModeratorPublicationsCalendarHot",component:()=>t.e("chunk-68284929").then(t.bind(null,"2f87")),meta:{layout:"Default"}},{path:"all",name:"ModeratorPublicationsCalendarAll",component:()=>t.e("chunk-2dfc58df").then(t.bind(null,"fa02")),meta:{layout:"Default"}}]},{path:"/user",name:"User",component:()=>t.e("chunk-2d0d9fff").then(t.bind(null,"6a75")),children:[{path:"settings",name:"UserSettings",component:()=>t.e("chunk-49699498").then(t.bind(null,"38c4")),meta:{layout:"Default"}},{path:"kpi",name:"UserKpi",component:()=>Promise.all([t.e("chunk-d8d6852a"),t.e("chunk-0270dbca")]).then(t.bind(null,"e531")),meta:{layout:"Default"}}]}],C=new _["a"]({mode:"history",base:"/",routes:S});C.beforeEach((e,n,t)=>{let a=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):null,c=a?a.roles.includes("администратор")?"AdminEmployeesTable":"ModeratorPublicationsTableNew":null;"Login"!=e.name&&null==a?t({name:"Login"}):"Login"==e.name&&null!=a?t({name:c}):null!=a&&a.roles.includes("администратор")&&null!=e.name?(window.scrollTo(0,0),t()):null!=a&&!a.roles.includes("администратор")&&e.name.includes("Admin")||null==e.name?t({name:c}):(window.scrollTo(0,0),t())});var M=C,U=t("5887"),I=t.n(U);t("0e46");a["default"].prototype.$hostname="http://195.133.201.24:3000",a["default"].use(I.a),a["default"].config.productionTip=!1;const w=new a["default"]({store:T,router:M,render:e=>e(s)}).$mount("#app")},a449:function(e,n,t){var a={"./AdminLayout.vue":["f6b4","chunk-2d22d598"],"./Default.vue":["ea2a","chunk-10efda2c"],"./Empty.vue":["98aa","chunk-2d0e6875"],"./ModeratorLayout.vue":["d8e4","chunk-2d21f4b9"]};function c(e){if(!t.o(a,e))return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}));var n=a[e],c=n[0];return t.e(n[1]).then((function(){return t(c)}))}c.keys=function(){return Object.keys(a)},c.id="a449",e.exports=c}});
//# sourceMappingURL=app.40ffe7b7.js.map