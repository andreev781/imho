{"remainingRequest":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\src\\components\\main\\Paginator.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\src\\components\\main\\Paginator.vue","mtime":1686925400318},{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686771862028},{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\babel-loader\\lib\\index.js","mtime":1686771872096},{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686771862028},{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\vue-loader\\lib\\index.js","mtime":1686771882662}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBMZWZ0QXJyb3dJY29uIGZyb20gIkAvYXNzZXRzL2ltYWdlcy9pY29ucy9hcnJvd0xlZnQuc3ZnP2lubGluZSI7CmltcG9ydCBSaWdodEFycm93SWNvbiBmcm9tICJAL2Fzc2V0cy9pbWFnZXMvaWNvbnMvYXJyb3dSaWdodC5zdmc/aW5saW5lIjsKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICBpdGVtczogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgZGVmYXVsdDogKCkgPT4gewogICAgICAgIHJldHVybiBbXTsKICAgICAgfSwKICAgIH0sCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY3VycmVudFBhZ2U6IDEsCiAgICAgIHBhZ2luYXRlZEl0ZW1zOiBbXSwKICAgICAgaXRlbXNQZXJQYWdlOiA1MCwKICAgICAgZmlyc3RQYWdlOiAxLAogICAgICBsYXN0UGFnZTogNSwKICAgICAgY3VycmVudENvdW50OiA1MCwKICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBMZWZ0QXJyb3dJY29uLAogICAgUmlnaHRBcnJvd0ljb24sCiAgfSwKICBtb3VudGVkKCkgewogICAgaWYgKHRoaXMuaXRlbXMpIHRoaXMuc2VuZERhdGEodGhpcy5pdGVtcyk7CiAgfSwKICBjb21wdXRlZDogewogICAgcGFnZXMoKSB7CiAgICAgIGxldCByZXN1bHQgPSBbXTsKICAgICAgZm9yICgKICAgICAgICBsZXQgaSA9IDE7CiAgICAgICAgaSA8IE1hdGguY2VpbCh0aGlzLml0ZW1zLmxlbmd0aCAvIHRoaXMuaXRlbXNQZXJQYWdlKSArIDE7CiAgICAgICAgaSsrCiAgICAgICkgewogICAgICAgIHJlc3VsdC5wdXNoKGkpOwogICAgICB9CiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9LAogICAgdmlld1BhZ2VzKCkgewogICAgICByZXR1cm4gdGhpcy5wYWdlcy5zbGljZSh0aGlzLmZpcnN0UGFnZSAtIDEsIHRoaXMubGFzdFBhZ2UpOwogICAgfSwKICAgIHZpZXdJdGVtcygpIHsKICAgICAgbGV0IHJlc3VsdCA9IFs1MF07CiAgICAgIGlmICh0aGlzLml0ZW1zLmxlbmd0aCA+IDUwKSB7CiAgICAgICAgcmVzdWx0LnB1c2goMTAwKTsKICAgICAgfSBlbHNlIGlmICh0aGlzLml0ZW1zLmxlbmd0aCA+IDEwMCkgewogICAgICAgIHJlc3VsdC5wdXNoKDUwMCk7CiAgICAgIH0KICAgICAgcmVzdWx0LnB1c2goItCS0YHQtSIpOwogICAgICByZXR1cm4gcmVzdWx0OwogICAgfSwKICB9LAogIG1ldGhvZHM6IHsKICAgIHBhZ2VDbGljayhwYWdlKSB7CiAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSBwYWdlOwogICAgICB0aGlzLnNlbmREYXRhKHRoaXMuaXRlbXMpOwogICAgfSwKICAgIHNlbmREYXRhKGRhdGEgPSB0aGlzLml0ZW1zKSB7CiAgICAgIGxldCByZXN1bHQgPSBbXTsKICAgICAgaWYgKHRoaXMuaXRlbXNQZXJQYWdlID09ICLQktGB0LUiKSB7CiAgICAgICAgdGhpcy5pdGVtc1BlclBhZ2UgPSBkYXRhLmxlbmd0aDsKICAgICAgICB0aGlzLmN1cnJlbnRQYWdlID0gMTsKICAgICAgICByZXN1bHQgPSBkYXRhOwogICAgICB9IGVsc2UgewogICAgICAgIGxldCBmcm9tID0gKHRoaXMuY3VycmVudFBhZ2UgLSAxKSAqIHRoaXMuaXRlbXNQZXJQYWdlOwogICAgICAgIGxldCB0byA9IGZyb20gKyB0aGlzLml0ZW1zUGVyUGFnZTsKICAgICAgICByZXN1bHQgPSBkYXRhLnNsaWNlKGZyb20sIHRvKTsKICAgICAgfQogICAgICB0aGlzLiRlbWl0KCJjaGFuZ2VQYWdpbmF0ZWRJdGVtcyIsIHJlc3VsdCk7IC8v0J7RgtC/0YDQsNCy0LvRj9C10Lwg0LTQsNC90L3Ri9C1INCyINGA0L7QtNC40YLQtdC70YzRgdC60LjQuSDQutC+0LzQv9C+0L3QtdC90YIKICAgIH0sCiAgICBjaGFuZ2VJdGVtc0ZvclZpZXdzKGNvdW50KSB7CiAgICAgIHRoaXMuaXRlbXNQZXJQYWdlID0gY291bnQ7CiAgICAgIHRoaXMuY3VycmVudENvdW50ID0gY291bnQ7CiAgICAgIHRoaXMuc2VuZERhdGEoKTsKICAgIH0sCiAgICBzd2l0Y2hQYWdlKGFycm93KSB7CiAgICAgIGlmIChhcnJvdyA9PSAiKyIpIHsKICAgICAgICB0aGlzLmN1cnJlbnRQYWdlID0KICAgICAgICAgIHRoaXMucGFnZXMubGVuZ3RoID4gMQogICAgICAgICAgICA/IHRoaXMuY3VycmVudFBhZ2UgPT0gdGhpcy5wYWdlcy5sZW5ndGgKICAgICAgICAgICAgICA/IHRoaXMuY3VycmVudFBhZ2UKICAgICAgICAgICAgICA6ICh0aGlzLmN1cnJlbnRQYWdlICs9IDEpCiAgICAgICAgICAgIDogdW5kZWZpbmVkOwogICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYWdlID4gdGhpcy5sYXN0UGFnZSkgewogICAgICAgICAgdGhpcy5sYXN0UGFnZSArPSAxOwogICAgICAgICAgdGhpcy5maXJzdFBhZ2UgKz0gMTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5jdXJyZW50UGFnZSA9CiAgICAgICAgICB0aGlzLnBhZ2VzLmxlbmd0aCA+IDEKICAgICAgICAgICAgPyB0aGlzLmN1cnJlbnRQYWdlID09IDEKICAgICAgICAgICAgICA/IHRoaXMuY3VycmVudFBhZ2UKICAgICAgICAgICAgICA6ICh0aGlzLmN1cnJlbnRQYWdlIC09IDEpCiAgICAgICAgICAgIDogdW5kZWZpbmVkOwogICAgICAgIGlmICh0aGlzLmN1cnJlbnRQYWdlIDwgdGhpcy5maXJzdFBhZ2UpIHsKICAgICAgICAgIHRoaXMubGFzdFBhZ2UgLT0gMTsKICAgICAgICAgIHRoaXMuZmlyc3RQYWdlIC09IDE7CiAgICAgICAgfQogICAgICB9CiAgICAgIHRoaXMuc2VuZERhdGEoKTsKICAgIH0sCiAgfSwKICB3YXRjaDogewogICAgaXRlbXMobmV3VmFsdWUpIHsKICAgICAgdGhpcy5zZW5kRGF0YShuZXdWYWx1ZSk7CiAgICB9LAogICAgcGFnZXMobmV3VmFsdWUpIHsKICAgICAgaWYgKG5ld1ZhbHVlID09IDEpIHsKICAgICAgICB0aGlzLmN1cnJlbnRQYWdlID0gMTsKICAgICAgICB0aGlzLnNlbmREYXRhKCk7CiAgICAgIH0KICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["Paginator.vue"],"names":[],"mappings":";AAsEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Paginator.vue","sourceRoot":"src/components/main","sourcesContent":["<template>\n  <div class=\"main-paginator\">\n    <div class=\"main-paginator__content main-color main-table__column\">\n      <div class=\"main-paginator__column\">\n        <ul class=\"main-paginator__count\">\n          <li\n            v-for=\"count in viewItems\"\n            :key=\"count\"\n            @click=\"changeItemsForViews(count)\"\n          >\n            <p\n              class=\"main-paginator__number\"\n              :class=\"{\n                'main-paginator__number_active': currentCount == count,\n              }\"\n            >\n              {{ count }}\n            </p>\n          </li>\n        </ul>\n      </div>\n      <div class=\"main-paginator__column\">\n        <div\n          class=\"main-paginator__arrow\"\n          @click=\"switchPage('-')\"\n          :class=\"{ 'main-paginator__arrow_disable': pages == 1 }\"\n        >\n          <LeftArrowIcon />\n        </div>\n        <ul class=\"main-paginator__pages\">\n          <li\n            class=\"main-paginator__page\"\n            :class=\"{ 'main-paginator__page_active': page == currentPage }\"\n            v-for=\"page in viewPages\"\n            :key=\"page\"\n            @click=\"pageClick(page)\"\n          >\n            <p>{{ page }}</p>\n          </li>\n          <li>\n            <p class=\"main-paginator__page\" v-if=\"pages > 1\">\n              ...\n            </p>\n          </li>\n        </ul>\n        <div\n          class=\"main-paginator__arrow\"\n          @click=\"switchPage('+')\"\n          :class=\"{ 'main-paginator__arrow_disable': pages.length == 1 }\"\n        >\n          <RightArrowIcon />\n        </div>\n      </div>\n      <div class=\"main-paginator__column\">\n        <div class=\"main-paginator__view\">\n          <p>\n            Просмотр {{ itemsPerPage * (currentPage - 1) + 1 }} -\n            {{\n              itemsPerPage * currentPage > items.length\n                ? items.length\n                : itemsPerPage * currentPage\n            }}\n            из {{ items.length }}\n          </p>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport LeftArrowIcon from \"@/assets/images/icons/arrowLeft.svg?inline\";\nimport RightArrowIcon from \"@/assets/images/icons/arrowRight.svg?inline\";\nexport default {\n  props: {\n    items: {\n      type: Array,\n      default: () => {\n        return [];\n      },\n    },\n  },\n  data() {\n    return {\n      currentPage: 1,\n      paginatedItems: [],\n      itemsPerPage: 50,\n      firstPage: 1,\n      lastPage: 5,\n      currentCount: 50,\n    };\n  },\n  components: {\n    LeftArrowIcon,\n    RightArrowIcon,\n  },\n  mounted() {\n    if (this.items) this.sendData(this.items);\n  },\n  computed: {\n    pages() {\n      let result = [];\n      for (\n        let i = 1;\n        i < Math.ceil(this.items.length / this.itemsPerPage) + 1;\n        i++\n      ) {\n        result.push(i);\n      }\n      return result;\n    },\n    viewPages() {\n      return this.pages.slice(this.firstPage - 1, this.lastPage);\n    },\n    viewItems() {\n      let result = [50];\n      if (this.items.length > 50) {\n        result.push(100);\n      } else if (this.items.length > 100) {\n        result.push(500);\n      }\n      result.push(\"Все\");\n      return result;\n    },\n  },\n  methods: {\n    pageClick(page) {\n      this.currentPage = page;\n      this.sendData(this.items);\n    },\n    sendData(data = this.items) {\n      let result = [];\n      if (this.itemsPerPage == \"Все\") {\n        this.itemsPerPage = data.length;\n        this.currentPage = 1;\n        result = data;\n      } else {\n        let from = (this.currentPage - 1) * this.itemsPerPage;\n        let to = from + this.itemsPerPage;\n        result = data.slice(from, to);\n      }\n      this.$emit(\"changePaginatedItems\", result); //Отправляем данные в родительский компонент\n    },\n    changeItemsForViews(count) {\n      this.itemsPerPage = count;\n      this.currentCount = count;\n      this.sendData();\n    },\n    switchPage(arrow) {\n      if (arrow == \"+\") {\n        this.currentPage =\n          this.pages.length > 1\n            ? this.currentPage == this.pages.length\n              ? this.currentPage\n              : (this.currentPage += 1)\n            : undefined;\n        if (this.currentPage > this.lastPage) {\n          this.lastPage += 1;\n          this.firstPage += 1;\n        }\n      } else {\n        this.currentPage =\n          this.pages.length > 1\n            ? this.currentPage == 1\n              ? this.currentPage\n              : (this.currentPage -= 1)\n            : undefined;\n        if (this.currentPage < this.firstPage) {\n          this.lastPage -= 1;\n          this.firstPage -= 1;\n        }\n      }\n      this.sendData();\n    },\n  },\n  watch: {\n    items(newValue) {\n      this.sendData(newValue);\n    },\n    pages(newValue) {\n      if (newValue == 1) {\n        this.currentPage = 1;\n        this.sendData();\n      }\n    },\n  },\n};\n</script>\n<style lang=\"scss\">\n.main-paginator {\n  &__content,\n  &__column,\n  &__count,\n  &__pages {\n    display: flex;\n    align-items: center;\n  }\n  &__content {\n    background: #fff;\n    padding: 8px;\n    justify-content: space-between;\n    border-radius: 0px 0px 8px 8px;\n  }\n  &__count {\n    li {\n      position: relative;\n      &:not(:last-child) {\n        margin-right: 18px;\n        &::after {\n          content: \"\";\n          position: absolute;\n          top: -2px;\n          right: -9px;\n          height: 30px;\n          width: 2px;\n          background: #f4f4f4;\n        }\n      }\n    }\n  }\n  &__number,\n  &__arrow,\n  &__page {\n    cursor: pointer;\n  }\n  &__number {\n    padding: 2px 8px;\n    font-size: 12px;\n    line-height: 20px;\n    font-weight: 700;\n    color: #b90c0c;\n    border-radius: 8px;\n\n    &_active,\n    &:hover {\n      background: #e11b1b !important;\n      color: #fff;\n      border-radius: 8px;\n    }\n  }\n  &__arrow {\n    padding: 7px 9px;\n    border: 1px solid #f4f4f4;\n    border-radius: 8px;\n    &:hover {\n      background: #e11b1b;\n      path {\n        fill: #fff;\n      }\n    }\n    &_disable {\n      background: none;\n      border-color: rgba(192, 192, 192, 0.5);\n      pointer-events: none;\n      path {\n        fill: rgba(192, 192, 192, 1);\n      }\n    }\n  }\n  &__page {\n    font-size: 12px;\n    font-weight: 700;\n    line-height: 20px;\n    padding: 2px 8px;\n    margin: 0 8px;\n    border-radius: 8px;\n    &_active,\n    &:hover {\n      color: #fff;\n      background: #e11b1b !important;\n    }\n  }\n  &__view {\n    font-size: 12px;\n    font-weight: 400;\n    line-height: 18px;\n  }\n}\n</style>"]}]}