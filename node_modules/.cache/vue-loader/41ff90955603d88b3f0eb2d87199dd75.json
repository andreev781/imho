{"remainingRequest":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\src\\components\\main\\AutoComplete.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\src\\components\\main\\AutoComplete.vue","mtime":1686568669000},{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686771862028},{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\babel-loader\\lib\\index.js","mtime":1686771872096},{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686771862028},{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\vue-loader\\lib\\index.js","mtime":1686771882662}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBDbG9zZUljb24gZnJvbSAiQC9hc3NldHMvaW1hZ2VzL2ljb25zL2Nsb3NlLnN2Zz9pbmxpbmUiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlNlYXJjaEF1dG9jb21wbGV0ZSIsCiAgcHJvcHM6IHsKICAgIGl0ZW1zOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIGRlZmF1bHQ6ICgpID0+IFtdLAogICAgfSwKICAgIGlzQXN5bmM6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICBkZWZhdWx0OiBmYWxzZSwKICAgIH0sCiAgICBwbGFjZWhvbGRlcjogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmU6IGZhbHNlLAogICAgICBkZWZhdWx0OiAoKSA9PiAiIiwKICAgIH0sCiAgICBpc0Rpc2FibGVkOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIHJlcXVpcmU6IGZhbHNlLAogICAgICBkZWZhdWx0OiBmYWxzZSwKICAgIH0sCiAgICB2YWx1ZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmU6IGZhbHNlLAogICAgICBkZWZhdWx0OiAoKSA9PiAiIiwKICAgIH0sCiAgICBmb2N1czogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICByZXF1aXJlOiBmYWxzZSwKICAgICAgZGVmYXVsdDogZmFsc2UsCiAgICB9LAogICAgY2xvc2U6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgcmVxdWlyZTogZmFsc2UsCiAgICAgIGRlZmF1bHQ6IGZhbHNlLAogICAgfSwKICAgIGluZGV4OiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgcmVxdWlyZTogdHJ1ZSwKICAgICAgZGVmYXVsdDogMCwKICAgIH0sCiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBDbG9zZUljb24sCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXNPcGVuOiBmYWxzZSwKICAgICAgcmVzdWx0czogW10sCiAgICAgIHNlYXJjaDogIiIsCiAgICAgIGlzTG9hZGluZzogZmFsc2UsCiAgICAgIGFycm93Q291bnRlcjogLTEsCiAgICB9OwogIH0sCiAgd2F0Y2g6IHsKICAgIGl0ZW1zOiBmdW5jdGlvbiAodmFsdWUsIG9sZFZhbHVlKSB7CiAgICAgIGlmICh2YWx1ZS5sZW5ndGggIT09IG9sZFZhbHVlLmxlbmd0aCkgewogICAgICAgIHRoaXMucmVzdWx0cyA9IHZhbHVlOwogICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgfSwKICBtb3VudGVkKCkgewogICAgaWYgKHRoaXMuZm9jdXMpIHsKICAgICAgdGhpcy4kZWwuY2hpbGROb2Rlc1sxXS5mb2N1cygpOwogICAgfQogICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCB0aGlzLmhhbmRsZUNsaWNrT3V0c2lkZSk7CiAgfSwKICBkZXN0cm95ZWQoKSB7CiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJjbGljayIsIHRoaXMuaGFuZGxlQ2xpY2tPdXRzaWRlKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHNldFJlc3VsdChyZXN1bHQpIHsKICAgICAgdGhpcy5zZWFyY2ggPSByZXN1bHQ7CiAgICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7CiAgICAgIHRoaXMuc3VibWl0KCk7CiAgICB9LAogICAgZmlsdGVyUmVzdWx0cygpIHsKICAgICAgdGhpcy5yZXN1bHRzID0gdGhpcy5pdGVtcy5maWx0ZXIoKGl0ZW0pID0+IHsKICAgICAgICByZXR1cm4gaXRlbS50b0xvd2VyQ2FzZSgpLmluZGV4T2YodGhpcy5zZWFyY2gudG9Mb3dlckNhc2UoKSkgPiAtMTsKICAgICAgfSk7CiAgICB9LAogICAgb25DaGFuZ2UoZXZlbnQpIHsKICAgICAgdGhpcy5zZWFyY2ggPSBldmVudC50YXJnZXQudmFsdWU7CiAgICAgIGlmICh0aGlzLmlzQXN5bmMpIHsKICAgICAgICB0aGlzLmlzTG9hZGluZyA9IHRydWU7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5zZWFyY2ggIT0gbnVsbCkgewogICAgICAgIHRoaXMuZmlsdGVyUmVzdWx0cygpOwogICAgICAgIHRoaXMuaXNPcGVuID0gdHJ1ZTsKICAgICAgfQogICAgfSwKICAgIGhhbmRsZUNsaWNrT3V0c2lkZShldmVudCkgewogICAgICBpZiAoIXRoaXMuJGVsLmNvbnRhaW5zKGV2ZW50LnRhcmdldCkpIHsKICAgICAgICB0aGlzLmlzT3BlbiA9IGZhbHNlOwogICAgICAgIHRoaXMuYXJyb3dDb3VudGVyID0gLTE7CiAgICAgIH0KICAgIH0sCiAgICBvbkFycm93RG93bigpIHsKICAgICAgaWYgKHRoaXMuYXJyb3dDb3VudGVyIDwgdGhpcy5yZXN1bHRzLmxlbmd0aCkgewogICAgICAgIHRoaXMuYXJyb3dDb3VudGVyID0gdGhpcy5hcnJvd0NvdW50ZXIgKyAxOwogICAgICB9CiAgICB9LAogICAgb25BcnJvd1VwKCkgewogICAgICBpZiAodGhpcy5hcnJvd0NvdW50ZXIgPiAwKSB7CiAgICAgICAgdGhpcy5hcnJvd0NvdW50ZXIgPSB0aGlzLmFycm93Q291bnRlciAtIDE7CiAgICAgIH0KICAgIH0sCiAgICBvbkVudGVyKGV2ZW50KSB7CiAgICAgIHRoaXMuc2VhcmNoID0gdGhpcy5yZXN1bHRzW3RoaXMuYXJyb3dDb3VudGVyXTsKICAgICAgdGhpcy5pc09wZW4gPSBmYWxzZTsKICAgICAgdGhpcy5hcnJvd0NvdW50ZXIgPSAtMTsKICAgICAgdGhpcy5zdWJtaXQoZXZlbnQpOwogICAgfSwKICAgIHN1Ym1pdCgpIHsKICAgICAgdGhpcy4kZW1pdCgic2VsZWN0IiwgdGhpcy5zZWFyY2gpOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["AutoComplete.vue"],"names":[],"mappings":";AAkCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AutoComplete.vue","sourceRoot":"src/components/main","sourcesContent":["<template>\n  <div class=\"autocomplete\">\n    <CloseIcon\n      @click=\"$emit('close', index)\"\n      v-if=\"close\"\n      class=\"autocomplete__icon\"\n    />\n    <input\n      :disabled=\"isDisabled\"\n      type=\"text\"\n      :value=\"value != '' ? value : search\"\n      @input=\"onChange\"\n      @keydown.down=\"onArrowDown\"\n      @keydown.up=\"onArrowUp\"\n      @keydown.enter=\"onEnter\"\n      :placeholder=\"placeholder\"\n    />\n    <ul id=\"autocomplete-results\" v-show=\"isOpen\" class=\"autocomplete-results\">\n      <li class=\"loading\" v-if=\"isLoading\">Loading results...</li>\n      <li\n        v-else\n        v-for=\"(result, i) in results\"\n        :key=\"i\"\n        @click=\"setResult(result)\"\n        class=\"autocomplete-result\"\n        :class=\"{ 'is-active': i === arrowCounter }\"\n      >\n        {{ result }}\n      </li>\n    </ul>\n  </div>\n</template>\n  \n<script>\nimport CloseIcon from \"@/assets/images/icons/close.svg?inline\";\nexport default {\n  name: \"SearchAutocomplete\",\n  props: {\n    items: {\n      type: Array,\n      required: false,\n      default: () => [],\n    },\n    isAsync: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n    placeholder: {\n      type: String,\n      require: false,\n      default: () => \"\",\n    },\n    isDisabled: {\n      type: Boolean,\n      require: false,\n      default: false,\n    },\n    value: {\n      type: String,\n      require: false,\n      default: () => \"\",\n    },\n    focus: {\n      type: Boolean,\n      require: false,\n      default: false,\n    },\n    close: {\n      type: Boolean,\n      require: false,\n      default: false,\n    },\n    index: {\n      type: Number,\n      require: true,\n      default: 0,\n    },\n  },\n  components: {\n    CloseIcon,\n  },\n  data() {\n    return {\n      isOpen: false,\n      results: [],\n      search: \"\",\n      isLoading: false,\n      arrowCounter: -1,\n    };\n  },\n  watch: {\n    items: function (value, oldValue) {\n      if (value.length !== oldValue.length) {\n        this.results = value;\n        this.isLoading = false;\n      }\n    },\n  },\n  mounted() {\n    if (this.focus) {\n      this.$el.childNodes[1].focus();\n    }\n    document.addEventListener(\"click\", this.handleClickOutside);\n  },\n  destroyed() {\n    document.removeEventListener(\"click\", this.handleClickOutside);\n  },\n  methods: {\n    setResult(result) {\n      this.search = result;\n      this.isOpen = false;\n      this.submit();\n    },\n    filterResults() {\n      this.results = this.items.filter((item) => {\n        return item.toLowerCase().indexOf(this.search.toLowerCase()) > -1;\n      });\n    },\n    onChange(event) {\n      this.search = event.target.value;\n      if (this.isAsync) {\n        this.isLoading = true;\n      } else if (this.search != null) {\n        this.filterResults();\n        this.isOpen = true;\n      }\n    },\n    handleClickOutside(event) {\n      if (!this.$el.contains(event.target)) {\n        this.isOpen = false;\n        this.arrowCounter = -1;\n      }\n    },\n    onArrowDown() {\n      if (this.arrowCounter < this.results.length) {\n        this.arrowCounter = this.arrowCounter + 1;\n      }\n    },\n    onArrowUp() {\n      if (this.arrowCounter > 0) {\n        this.arrowCounter = this.arrowCounter - 1;\n      }\n    },\n    onEnter(event) {\n      this.search = this.results[this.arrowCounter];\n      this.isOpen = false;\n      this.arrowCounter = -1;\n      this.submit(event);\n    },\n    submit() {\n      this.$emit(\"select\", this.search);\n    },\n  },\n};\n</script>\n  \n  <style>\n.autocomplete {\n  position: relative;\n}\n\n.autocomplete-results {\n  position: absolute;\n\n  padding: 0;\n  margin: 0;\n  border: 1px solid #eeeeee;\n  max-height: 200px;\n  width: 300px;\n  background: #fff;\n  z-index: 999;\n  overflow: auto;\n  color: #231f20;\n  font-size: 12px;\n  font-weight: 700;\n}\n.autocomplete__icon {\n  position: absolute;\n  left: 5px;\n  top: 50%;\n  transform: translateY(-50%);\n  cursor: pointer;\n}\n.autocomplete-result {\n  list-style: none;\n  text-align: left;\n  padding: 10px 4px;\n  cursor: pointer;\n}\n\n.autocomplete-result.is-active,\n.autocomplete-result:hover {\n  background-color: #b90c0c;\n  color: white;\n}\n</style>"]}]}