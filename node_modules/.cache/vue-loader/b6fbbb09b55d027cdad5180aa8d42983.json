{"remainingRequest":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\src\\views\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\src\\views\\Login.vue","mtime":1686568669000},{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686771862028},{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\babel-loader\\lib\\index.js","mtime":1686771872096},{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686771862028},{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\vue-loader\\lib\\index.js","mtime":1686771882662}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBTdGFySWNvbiBmcm9tICJAL2Fzc2V0cy9pbWFnZXMvaWNvbnMvc3Rhci5zdmc/aW5saW5lIjsKaW1wb3J0IEVycm9ySWNvbiBmcm9tICJAL2Fzc2V0cy9pbWFnZXMvaWNvbnMvZXJyb3Iuc3ZnP2lubGluZSI7CmltcG9ydCB7IG1hcEFjdGlvbnMgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGVycm9yczogewogICAgICAgIGxvZ2luSXNFcnJvcjogZmFsc2UsCiAgICAgICAgcGFzc3dvcmRJc0Vycm9yOiBmYWxzZSwKICAgICAgfSwKICAgICAgY3VycmVudExvZ2luOiAiIiwKICAgICAgY3VycmVudFBhc3N3b3JkOiAiIiwKICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBTdGFySWNvbiwKICAgIEVycm9ySWNvbiwKICB9LAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBHZXR0ZXJzKHsKICAgICAgdXNlcjogIlVzZXJzL2dldEN1cnJlbnRVc2VyIiwKICAgIH0pLAogIH0sCiAgbWV0aG9kczogewogICAgLi4ubWFwQWN0aW9ucygiVXNlcnMiLCBbImF1dGgiXSksCiAgICBzdWJtaXRMb2dpbkZvcm0oZSkgewogICAgICBlLnByZXZlbnREZWZhdWx0KCk7CgogICAgICBsZXQgZGF0YSA9IHsKICAgICAgICBsb2dpbjogdGhpcy5jdXJyZW50TG9naW4sCiAgICAgICAgcGFzc3dvcmQ6IHRoaXMuY3VycmVudFBhc3N3b3JkLAogICAgICB9OwogICAgICB0aGlzLmF1dGgoZGF0YSkudGhlbigKICAgICAgICAoKSA9PiB7CiAgICAgICAgICBpZiAodGhpcy51c2VyLnJvbGVzLmluY2x1ZGVzKCLQvNC+0LTQtdGA0LDRgtC+0YAiKSkgewogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IG5hbWU6ICJNb2RlcmF0b3JQdWJsaWNhdGlvbnNUYWJsZU5ldyIgfSk7CiAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMudXNlci5yb2xlcy5pbmNsdWRlcygi0LDQtNC80LjQvdC40YHRgtGA0LDRgtC+0YAiKSkgewogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IG5hbWU6ICJBZG1pbkVtcGxveWVlc1RhYmxlIiB9KTsKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMuY2xlYXJFcnJvcnMoKTsKICAgICAgICB9LAogICAgICAgIChlcnJvcikgPT4gewogICAgICAgICAgdGhpcy5lcnJvcnMubG9naW5Jc0Vycm9yID0gZXJyb3IubG9naW5Jc0Vycm9yOwogICAgICAgICAgdGhpcy5lcnJvcnMucGFzc3dvcmRJc0Vycm9yID0gZXJyb3IucGFzc3dvcmRJc0Vycm9yOwogICAgICAgIH0KICAgICAgKTsKICAgIH0sCiAgICBjbGVhckVycm9ycygpIHsKICAgICAgdGhpcy5lcnJvcnMubG9naW5Jc0Vycm9yID0gZmFsc2U7CiAgICAgIHRoaXMuZXJyb3JzLnBhc3N3b3JkID0gZmFsc2U7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";AA2CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"login\">\n    <div class=\"login__content\">\n      <div class=\"login__logo\">\n        <img src=\"@/assets/images/logo.png\" alt=\"logo\" />\n      </div>\n      <form action=\"#\" class=\"login__form\" @submit=\"submitLoginForm\">\n        <div\n          class=\"login__field\"\n          :class=\"{ login__field_error: errors.loginIsError }\"\n        >\n          <StarIcon class=\"login__icon\" />\n          <input\n            type=\"text\"\n            class=\"login__input\"\n            placeholder=\"Логин или E-mail\"\n            required\n            v-model=\"currentLogin\"\n            @input=\"errors.loginIsError = false\"\n          />\n          <ErrorIcon class=\"login__error\" />\n        </div>\n        <div\n          class=\"login__field\"\n          :class=\"{ login__field_error: errors.passwordIsError }\"\n        >\n          <StarIcon class=\"login__icon\" />\n          <input\n            type=\"password\"\n            class=\"login__input login__input_error\"\n            placeholder=\"Пароль\"\n            required\n            v-model=\"currentPassword\"\n            @input=\"errors.passwordIsError = false\"\n          />\n          <ErrorIcon class=\"login__error\" />\n        </div>\n        <button type=\"submit\" class=\"login__button\">Войти</button>\n      </form>\n    </div>\n  </div>\n</template>\n<script>\nimport StarIcon from \"@/assets/images/icons/star.svg?inline\";\nimport ErrorIcon from \"@/assets/images/icons/error.svg?inline\";\nimport { mapActions } from \"vuex\";\nimport { mapGetters } from \"vuex\";\nexport default {\n  data() {\n    return {\n      errors: {\n        loginIsError: false,\n        passwordIsError: false,\n      },\n      currentLogin: \"\",\n      currentPassword: \"\",\n    };\n  },\n  components: {\n    StarIcon,\n    ErrorIcon,\n  },\n  computed: {\n    ...mapGetters({\n      user: \"Users/getCurrentUser\",\n    }),\n  },\n  methods: {\n    ...mapActions(\"Users\", [\"auth\"]),\n    submitLoginForm(e) {\n      e.preventDefault();\n\n      let data = {\n        login: this.currentLogin,\n        password: this.currentPassword,\n      };\n      this.auth(data).then(\n        () => {\n          if (this.user.roles.includes(\"модератор\")) {\n            this.$router.push({ name: \"ModeratorPublicationsTableNew\" });\n          } else if (this.user.roles.includes(\"администратор\")) {\n            this.$router.push({ name: \"AdminEmployeesTable\" });\n          }\n          this.clearErrors();\n        },\n        (error) => {\n          this.errors.loginIsError = error.loginIsError;\n          this.errors.passwordIsError = error.passwordIsError;\n        }\n      );\n    },\n    clearErrors() {\n      this.errors.loginIsError = false;\n      this.errors.password = false;\n    },\n  },\n};\n</script>\n<style lang=\"scss\">\n.login {\n  background: rgba(226, 226, 226, 1);\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  min-height: 100vh;\n  &__content {\n    padding: 24px 23px;\n    margin: 0 auto;\n    width: 523px;\n    background: #fff;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    border-radius: 24px;\n  }\n  &__form {\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    margin-top: 24px;\n  }\n  &__field {\n    display: flex;\n    position: relative;\n\n    &:first-child {\n      margin-bottom: 16px;\n    }\n    &_error {\n      input {\n        color: #b90c0c;\n        border-color: #b90c0c;\n      }\n      .login__icon {\n        path {\n          fill: #b90c0c;\n        }\n      }\n      .login__error {\n        display: block;\n      }\n    }\n  }\n  &__error {\n    position: absolute;\n    right: 10px;\n    top: 50%;\n    transform: translateY(-50%);\n    display: none;\n  }\n  &__input {\n    width: 100%;\n    padding: 10px 14px;\n    border: 1px solid #c0c0c0;\n    border-radius: 8px;\n    color: #231f20;\n    font-weight: 700;\n    text-indent: 15px;\n    &::placeholder {\n      font-size: 14px;\n      font-weight: 700;\n      color: #c0c0c0;\n    }\n  }\n  &__icon {\n    position: absolute;\n    left: 10px;\n    top: 50%;\n    transform: translateY(-50%);\n  }\n  &__button {\n    margin-top: 90px;\n    text-align: center;\n    padding: 12px 0;\n    font-size: 16px;\n    font-weight: 700;\n    color: #231f20;\n    background: none;\n    border: 2px solid #c0c0c0;\n    border-radius: 8px;\n    cursor: pointer;\n  }\n  @media screen and (min-width: 320px) and (max-width: 744px) {\n    &__content {\n      width: 100%;\n      padding: 14px 13px;\n    }\n  }\n}\n</style>"]}]}