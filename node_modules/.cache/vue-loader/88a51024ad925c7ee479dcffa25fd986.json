{"remainingRequest":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\src\\components\\main\\PublicationsModal.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\src\\components\\main\\PublicationsModal.vue","mtime":1686876653132},{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686771862028},{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\babel-loader\\lib\\index.js","mtime":1686771872096},{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686771862028},{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\vue-loader\\lib\\index.js","mtime":1686771882662}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAidnVleCI7DQpleHBvcnQgZGVmYXVsdCB7DQogIHByb3BzOiB7DQogICAgY3VycmVudEFydGljbGU6IHsNCiAgICAgIHR5cGU6IE9iamVjdCwNCiAgICAgIGRlZmF1bHQ6ICgpID0+IHt9LA0KICAgIH0sDQogICAgY2xhc3NPZlBhcmVudDogew0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgZGVmYXVsdDogKCkgPT4gIiIsDQogICAgfSwNCiAgICBwb3NpdGlvbjogew0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgZGVmYXVsdDogKCkgPT4gIiIsDQogICAgfSwNCiAgfSwNCiAgbW91bnRlZCgpIHsNCiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIChlbGVtZW50KSA9PiB7DQogICAgICBbXS5mb3JFYWNoLmNhbGwoDQogICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIi5wdWJsaWNhdGlvbnMtbW9kYWwiKSwNCiAgICAgICAgZnVuY3Rpb24gKGVsKSB7DQogICAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZSgicHVibGljYXRpb25zLW1vZGFsX2xlZnQiKTsNCiAgICAgICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKCJwdWJsaWNhdGlvbnMtbW9kYWxfcmlnaHQiKTsNCiAgICAgICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKCJwdWJsaWNhdGlvbnMtbW9kYWxfdG9wIik7DQogICAgICAgIH0NCiAgICAgICk7DQogICAgICBpZiAoZWxlbWVudC50YXJnZXQuY2xvc2VzdChgLiR7dGhpcy5jbGFzc09mUGFyZW50fWApID09IG51bGwpIHsNCiAgICAgICAgdGhpcy4kZW1pdCgiY2xvc2VNb2RhbCIsIG51bGwpOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgbGV0IGNoaWxkID0gZWxlbWVudC50YXJnZXQucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKA0KICAgICAgICAgICIucHVibGljYXRpb25zLW1vZGFsIg0KICAgICAgICApOw0KICAgICAgICBsZXQgcGFyZW50ID0gdGhpcy5Db250YWluZXI7DQogICAgICAgIC8vINCj0LTQsNC70Y/QtdC8INGDINCy0YHQtdGFINC80L7QtNCw0LvQvtC6INC60LvQsNGB0YHRiyAiX3JpZ2h0IiDQuCAiX2xlZnQiDQogICAgICAgIGlmICh0aGlzLnBvc2l0aW9uID09ICJ0b3AiKSB7DQogICAgICAgICAgY2hpbGQuY2xhc3NMaXN0LmFkZCgicHVibGljYXRpb25zLW1vZGFsX3RvcCIpOw0KICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgICAgICBpZiAodGhpcy5Db250YWluZXIud2lkdGggPj0gNjMyKSB7DQogICAgICAgICAgLy8g0J/RgNC+0LLQtdGA0Y/QtdC8LCDQstGL0YXQvtC00LjRgiDQu9C4INC80L7QtNCw0LvQutCwINC30LAg0L/RgNC10LTQtdC70Ysg0LrQvtC90YLQtdC50L3QtdGA0LANCiAgICAgICAgICBpZiAocGFyZW50LnJpZ2h0IDw9IGNoaWxkLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnJpZ2h0KSB7DQogICAgICAgICAgICBjaGlsZC5jbGFzc0xpc3QuYWRkKCJwdWJsaWNhdGlvbnMtbW9kYWxfbGVmdCIpOw0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBjaGlsZC5jbGFzc0xpc3QuYWRkKCJwdWJsaWNhdGlvbnMtbW9kYWxfcmlnaHQiKTsNCiAgICAgICAgICB9DQogICAgICAgICAgaWYgKHBhcmVudC5sZWZ0ID4gY2hpbGQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCkgew0KICAgICAgICAgICAgY2hpbGQuY2xhc3NMaXN0LnJlbW92ZSgicHVibGljYXRpb25zLW1vZGFsX2xlZnQiKTsNCiAgICAgICAgICAgIGNoaWxkLmNsYXNzTGlzdC5hZGQoInB1YmxpY2F0aW9ucy1tb2RhbF9yaWdodCIpOw0KICAgICAgICAgIH0NCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBjaGlsZC5jbGFzc0xpc3QuYWRkKCJwdWJsaWNhdGlvbnMtbW9kYWxfdG9wIik7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9KTsNCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICAuLi5tYXBHZXR0ZXJzKHsNCiAgICAgIGdldEF1dGhvcjogIk1haW4vZ2V0QXV0aG9yQnlJZCIsDQogICAgICBVc2VyQnlJZDogIlVzZXJzL2dldFVzZXJCeUlkIiwNCiAgICAgIENvbnRhaW5lcjogIk1haW4vZ2V0U2l6ZU9mQ29udGFpbmVyIiwNCiAgICB9KSwNCiAgfSwNCn07DQo="},{"version":3,"sources":["PublicationsModal.vue"],"names":[],"mappings":";AA2LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PublicationsModal.vue","sourceRoot":"src/components/main","sourcesContent":["<template>\r\n  <div class=\"publications-modal\">\r\n    <div class=\"publications-modal__content\">\r\n      <div class=\"publications-modal__row\">\r\n        <div class=\"publications-modal__parameter\">\r\n          <p>ID</p>\r\n        </div>\r\n        <div class=\"publications-modal__value\">\r\n          <p>{{ currentArticle.id }}</p>\r\n        </div>\r\n      </div>\r\n      <div class=\"publications-modal__row\">\r\n        <div class=\"publications-modal__parameter\">\r\n          <p>Заголовок</p>\r\n        </div>\r\n        <div class=\"publications-modal__value\">\r\n          <p>{{ currentArticle.title }}</p>\r\n        </div>\r\n      </div>\r\n      <div class=\"publications-modal__row\">\r\n        <div class=\"publications-modal__parameter\">\r\n          <p>Автор</p>\r\n        </div>\r\n        <div class=\"publications-modal__value\">\r\n          <div class=\"main-table-author\">\r\n            <div class=\"main-table-author__image\">\r\n              <img\r\n                :src=\"require('@/assets/images/users/avatar2.png')\"\r\n                alt=\"user\"\r\n              />\r\n            </div>\r\n            <div class=\"main-table-author__info\">\r\n              <p class=\"main-table-author__name\">\r\n                {{\r\n                  getAuthor(currentArticle.authorId)\r\n                    ? getAuthor(currentArticle.authorId).name\r\n                    : \"\"\r\n                }}\r\n                {{\r\n                  getAuthor(currentArticle.authorId)\r\n                    ? getAuthor(currentArticle.authorId).surname\r\n                    : \"\"\r\n                }}\r\n              </p>\r\n              <p class=\"main-table-author__tag\">\r\n                {{\r\n                  getAuthor(currentArticle.authorId)\r\n                    ? getAuthor(currentArticle.authorId).tag\r\n                    : \"\"\r\n                }}\r\n              </p>\r\n              <ul class=\"main-table-author__list\">\r\n                <li\r\n                  v-for=\"role in getAuthor(currentArticle.authorId)\r\n                    ? getAuthor(currentArticle.authorId).roles\r\n                    : []\"\r\n                  :key=\"role\"\r\n                  :style=\"[\r\n                    role == 'Лидер мнений'\r\n                      ? { background: '#CEE9FF' }\r\n                      : { background: '#E2E2E2' },\r\n                  ]\"\r\n                >\r\n                  <p>{{ role }}</p>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"publications-modal__row\">\r\n        <div class=\"publications-modal__parameter\">\r\n          <p>Создано</p>\r\n        </div>\r\n        <div class=\"publications-modal__value\">\r\n          <p>{{ currentArticle.created }}</p>\r\n        </div>\r\n      </div>\r\n      <div class=\"publications-modal__row\">\r\n        <div class=\"publications-modal__parameter\">\r\n          <p>Страны</p>\r\n        </div>\r\n        <div class=\"publications-modal__value\">\r\n          <ul class=\"main-table__list\">\r\n            <li\r\n              v-for=\"country in currentArticle.availableCountries\"\r\n              :key=\"country\"\r\n            >\r\n              <div class=\"main-table__icon\">\r\n                <img\r\n                  :src=\"\r\n                    require(`@/assets/images/icons/flags/${country.toLowerCase()}.svg`)\r\n                  \"\r\n                  alt=\"\"\r\n                />\r\n              </div>\r\n              <p class=\"main-table__text main-table__text_bold\">\r\n                {{ country }}\r\n              </p>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n      <div class=\"publications-modal__row\">\r\n        <div class=\"publications-modal__parameter\">\r\n          <p>Дата публикации</p>\r\n        </div>\r\n        <div class=\"publications-modal__value\">\r\n          <p>\r\n            {{ currentArticle.publish[0] }}\r\n            {{ currentArticle.publish[1] }}\r\n          </p>\r\n        </div>\r\n      </div>\r\n      <div class=\"publications-modal__row\">\r\n        <div class=\"publications-modal__parameter\">\r\n          <p>Статус</p>\r\n        </div>\r\n        <div class=\"publications-modal__value\">\r\n          <p\r\n            v-if=\"currentArticle.status == 'approved'\"\r\n            class=\"publications-modal__status publications-modal__status_green\"\r\n          >\r\n            Одобрено\r\n          </p>\r\n          <p\r\n            v-else-if=\"currentArticle.status == 'rejected'\"\r\n            class=\"publications-modal__status publications-modal__status_red\"\r\n          >\r\n            Не одобрено\r\n          </p>\r\n          <p\r\n            v-else-if=\"currentArticle.status == 'undefined'\"\r\n            class=\"publications-modal__status publications-modal__status_purple\"\r\n          >\r\n            Новый\r\n          </p>\r\n        </div>\r\n      </div>\r\n      <div class=\"publications-modal__row\">\r\n        <div class=\"publications-modal__parameter\">\r\n          <p>Причина</p>\r\n        </div>\r\n        <div class=\"publications-modal__value\">\r\n          <p>{{ currentArticle.reason || \"-\" }}</p>\r\n        </div>\r\n      </div>\r\n      <div class=\"publications-modal__row\">\r\n        <div class=\"publications-modal__parameter\">\r\n          <p>Тип</p>\r\n        </div>\r\n        <div class=\"publications-modal__value\">\r\n          <ul class=\"main-table__list\">\r\n            <li v-for=\"elem in currentArticle.type\" :key=\"elem\">\r\n              <div class=\"main-table__icon publications-approved-table__type\">\r\n                <img\r\n                  :src=\"\r\n                    require(`@/assets/images/icons/${elem.toLowerCase()}.svg`)\r\n                  \"\r\n                  alt=\"\"\r\n                />\r\n              </div>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n      <div\r\n        class=\"publications-modal__row\"\r\n        v-if=\"UserById(currentArticle.moderId)\"\r\n      >\r\n        <div class=\"publications-modal__parameter\">\r\n          <p>Модератор</p>\r\n        </div>\r\n        <div class=\"publications-modal__value\">\r\n          <div class=\"publications-modal__moderator\">\r\n            <img src=\"@/assets/images/users/avatar1.png\" alt=\"\" />\r\n            <p>\r\n              {{ UserById(currentArticle.moderId).name }}\r\n              {{ UserById(currentArticle.moderId).surname }}\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mapGetters } from \"vuex\";\r\nexport default {\r\n  props: {\r\n    currentArticle: {\r\n      type: Object,\r\n      default: () => {},\r\n    },\r\n    classOfParent: {\r\n      type: String,\r\n      default: () => \"\",\r\n    },\r\n    position: {\r\n      type: String,\r\n      default: () => \"\",\r\n    },\r\n  },\r\n  mounted() {\r\n    document.addEventListener(\"click\", (element) => {\r\n      [].forEach.call(\r\n        document.querySelectorAll(\".publications-modal\"),\r\n        function (el) {\r\n          el.classList.remove(\"publications-modal_left\");\r\n          el.classList.remove(\"publications-modal_right\");\r\n          el.classList.remove(\"publications-modal_top\");\r\n        }\r\n      );\r\n      if (element.target.closest(`.${this.classOfParent}`) == null) {\r\n        this.$emit(\"closeModal\", null);\r\n      } else {\r\n        let child = element.target.parentNode.querySelector(\r\n          \".publications-modal\"\r\n        );\r\n        let parent = this.Container;\r\n        // Удаляем у всех модалок классы \"_right\" и \"_left\"\r\n        if (this.position == \"top\") {\r\n          child.classList.add(\"publications-modal_top\");\r\n          return;\r\n        }\r\n        if (this.Container.width >= 632) {\r\n          // Проверяем, выходит ли модалка за пределы контейнера\r\n          if (parent.right <= child.getBoundingClientRect().right) {\r\n            child.classList.add(\"publications-modal_left\");\r\n          } else {\r\n            child.classList.add(\"publications-modal_right\");\r\n          }\r\n          if (parent.left > child.getBoundingClientRect().left) {\r\n            child.classList.remove(\"publications-modal_left\");\r\n            child.classList.add(\"publications-modal_right\");\r\n          }\r\n        } else {\r\n          child.classList.add(\"publications-modal_top\");\r\n        }\r\n      }\r\n    });\r\n  },\r\n  computed: {\r\n    ...mapGetters({\r\n      getAuthor: \"Main/getAuthorById\",\r\n      UserById: \"Users/getUserById\",\r\n      Container: \"Main/getSizeOfContainer\",\r\n    }),\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\">\r\n.publications-modal {\r\n  position: absolute;\r\n  top: -50px;\r\n  // left: 100%;\r\n  padding: 8px;\r\n  width: 400px;\r\n  z-index: 999;\r\n  background: #fff;\r\n  border: 2px solid #b90c0c;\r\n  border-radius: 8px;\r\n  &_right {\r\n    left: 100%;\r\n    .publications-modal__content {\r\n      &::after,\r\n      &::before {\r\n        right: 102.1%;\r\n      }\r\n      &::after {\r\n        border-right-color: #fff;\r\n      }\r\n      &::before {\r\n        border-right-color: #b90c0c;\r\n      }\r\n    }\r\n  }\r\n  &_left {\r\n    right: 100%;\r\n    .publications-modal__content {\r\n      &::after,\r\n      &::before {\r\n        left: 102.1%;\r\n      }\r\n      &::after {\r\n        border-left-color: #fff;\r\n      }\r\n      &::before {\r\n        border-left-color: #b90c0c;\r\n      }\r\n    }\r\n  }\r\n  &_top {\r\n    top: 100%;\r\n    .publications-modal__content {\r\n      &::after,\r\n      &::before {\r\n        top: -40px;\r\n        left: 30px;\r\n      }\r\n      &::after {\r\n        border-bottom-color: #fff;\r\n        border-width: 31px;\r\n        margin-top: -29px;\r\n      }\r\n      &::before {\r\n        border-bottom-color: #b90c0c;\r\n        border-width: 31px;\r\n        margin-top: -31px;\r\n      }\r\n    }\r\n  }\r\n  &__content {\r\n    position: relative;\r\n    padding: 4px;\r\n    width: 100%;\r\n    &:after,\r\n    &:before {\r\n      top: 60px;\r\n      border: solid transparent;\r\n      content: \"\";\r\n      height: 0;\r\n      width: 0;\r\n      position: absolute;\r\n      pointer-events: none;\r\n    }\r\n\r\n    &:after {\r\n      border-color: rgba(136, 183, 213, 0);\r\n      border-width: 30px;\r\n      margin-top: -30px;\r\n    }\r\n    &:before {\r\n      border-color: rgba(194, 225, 245, 0);\r\n      border-width: 32px;\r\n      margin-top: -32px;\r\n    }\r\n  }\r\n  &__row {\r\n    display: grid;\r\n    grid-template-columns: 2fr 4fr;\r\n  }\r\n  &__parameter {\r\n    font-weight: 700;\r\n  }\r\n  &__value {\r\n    font-weight: 500;\r\n  }\r\n  &__parameter,\r\n  &__value {\r\n    display: flex;\r\n    align-items: center;\r\n    padding: 4px;\r\n    border: 1px solid #c0c0c0;\r\n    p {\r\n      color: #353132;\r\n      font-size: 11px !important;\r\n    }\r\n  }\r\n  &__status {\r\n    text-transform: uppercase;\r\n    font-weight: 700 !important;\r\n    &_green {\r\n      color: #009688;\r\n    }\r\n    &_red {\r\n      color: #e11b1b;\r\n    }\r\n    &_purple {\r\n      color: #7b61ff;\r\n    }\r\n  }\r\n  &__moderator {\r\n    display: flex;\r\n    align-items: center;\r\n    img {\r\n      margin-right: 5px;\r\n    }\r\n  }\r\n  @media screen and (min-device-width: 1280px) and (max-device-width: 1599px) {\r\n    right: -320%;\r\n  }\r\n  @media screen and (min-width: 320px) and (max-width: 744px) {\r\n    width: 310px;\r\n  }\r\n}\r\n</style>"]}]}