{"remainingRequest":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\src\\components\\main\\AutoComplete.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\src\\components\\main\\AutoComplete.vue","mtime":1688427851091},{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686771862028},{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\babel-loader\\lib\\index.js","mtime":1686771872096},{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686771862028},{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\vue-loader\\lib\\index.js","mtime":1686771882662}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBDbG9zZUljb24gZnJvbSAiQC9hc3NldHMvaW1hZ2VzL2ljb25zL2Nsb3NlLnN2Zz9pbmxpbmUiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlNlYXJjaEF1dG9jb21wbGV0ZSIsCiAgcHJvcHM6IHsKICAgIGl0ZW1zOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIGRlZmF1bHQ6ICgpID0+IFtdLAogICAgfSwKICAgIGlzQXN5bmM6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgcmVxdWlyZWQ6IGZhbHNlLAogICAgICBkZWZhdWx0OiBmYWxzZSwKICAgIH0sCiAgICBwbGFjZWhvbGRlcjogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmU6IGZhbHNlLAogICAgICBkZWZhdWx0OiAoKSA9PiAiIiwKICAgIH0sCiAgICBpc0Rpc2FibGVkOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIHJlcXVpcmU6IGZhbHNlLAogICAgICBkZWZhdWx0OiBmYWxzZSwKICAgIH0sCiAgICB2YWx1ZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmU6IGZhbHNlLAogICAgICBkZWZhdWx0OiAoKSA9PiAiIiwKICAgIH0sCiAgICBmb2N1czogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICByZXF1aXJlOiBmYWxzZSwKICAgICAgZGVmYXVsdDogZmFsc2UsCiAgICB9LAogICAgY2xvc2U6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgcmVxdWlyZTogZmFsc2UsCiAgICAgIGRlZmF1bHQ6IGZhbHNlLAogICAgfSwKICAgIGluZGV4OiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgcmVxdWlyZTogdHJ1ZSwKICAgICAgZGVmYXVsdDogMCwKICAgIH0sCiAgICByZWFkb25seTogewogICAgICB0eW9lOiBCb29sZWFuLAogICAgICByZXF1aXJlOiBmYWxzZSwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0KICB9LAogIGNvbXBvbmVudHM6IHsKICAgIENsb3NlSWNvbiwKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpc09wZW46IGZhbHNlLAogICAgICByZXN1bHRzOiBbXSwKICAgICAgc2VhcmNoOiAiIiwKICAgICAgaXNMb2FkaW5nOiBmYWxzZSwKICAgICAgYXJyb3dDb3VudGVyOiAtMSwKICAgIH07CiAgfSwKICB3YXRjaDogewogICAgaXRlbXM6IGZ1bmN0aW9uICh2YWx1ZSwgb2xkVmFsdWUpIHsKICAgICAgaWYgKHZhbHVlLmxlbmd0aCAhPT0gb2xkVmFsdWUubGVuZ3RoKSB7CiAgICAgICAgdGhpcy5yZXN1bHRzID0gdmFsdWU7CiAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTsKICAgICAgfQogICAgfSwKICB9LAogIG1vdW50ZWQoKSB7CiAgICBpZiAodGhpcy5mb2N1cykgewogICAgICB0aGlzLiRlbC5jaGlsZE5vZGVzWzFdLmZvY3VzKCk7CiAgICB9CiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsIHRoaXMuaGFuZGxlQ2xpY2tPdXRzaWRlKTsKICB9LAogIGRlc3Ryb3llZCgpIHsKICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoImNsaWNrIiwgdGhpcy5oYW5kbGVDbGlja091dHNpZGUpOwogIH0sCiAgbWV0aG9kczogewogICAgc2V0UmVzdWx0KHJlc3VsdCkgewogICAgICB0aGlzLnNlYXJjaCA9IHJlc3VsdDsKICAgICAgdGhpcy5pc09wZW4gPSBmYWxzZTsKICAgICAgdGhpcy5zdWJtaXQoKTsKICAgIH0sCiAgICBmaWx0ZXJSZXN1bHRzKCkgewogICAgICB0aGlzLnJlc3VsdHMgPSB0aGlzLml0ZW1zLmZpbHRlcigoaXRlbSkgPT4gewogICAgICAgIHJldHVybiBpdGVtLnRvTG93ZXJDYXNlKCkuaW5kZXhPZih0aGlzLnNlYXJjaC50b0xvd2VyQ2FzZSgpKSA+IC0xOwogICAgICB9KTsKICAgIH0sCiAgICBvbkNoYW5nZShldmVudCkgewogICAgICBjb25zb2xlLmxvZyhldmVudCk7CiAgICAgIHRoaXMuc2VhcmNoID0gZXZlbnQudGFyZ2V0LnZhbHVlOwogICAgICBpZiAodGhpcy5pc0FzeW5jKSB7CiAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlOwogICAgICB9IGVsc2UgaWYgKHRoaXMuc2VhcmNoICE9IG51bGwpIHsKICAgICAgICB0aGlzLmZpbHRlclJlc3VsdHMoKTsKICAgICAgICB0aGlzLmlzT3BlbiA9IHRydWU7CiAgICAgIH0KICAgIH0sCiAgICBoYW5kbGVDbGlja091dHNpZGUoZXZlbnQpIHsKICAgICAgaWYgKCF0aGlzLiRlbC5jb250YWlucyhldmVudC50YXJnZXQpKSB7CiAgICAgICAgdGhpcy5pc09wZW4gPSBmYWxzZTsKICAgICAgICB0aGlzLmFycm93Q291bnRlciA9IC0xOwogICAgICB9CiAgICB9LAogICAgb25BcnJvd0Rvd24oKSB7CiAgICAgIGlmICh0aGlzLmFycm93Q291bnRlciA8IHRoaXMucmVzdWx0cy5sZW5ndGgpIHsKICAgICAgICB0aGlzLmFycm93Q291bnRlciA9IHRoaXMuYXJyb3dDb3VudGVyICsgMTsKICAgICAgfQogICAgfSwKICAgIG9uQXJyb3dVcCgpIHsKICAgICAgaWYgKHRoaXMuYXJyb3dDb3VudGVyID4gMCkgewogICAgICAgIHRoaXMuYXJyb3dDb3VudGVyID0gdGhpcy5hcnJvd0NvdW50ZXIgLSAxOwogICAgICB9CiAgICB9LAogICAgb25FbnRlcihldmVudCkgewogICAgICB0aGlzLnNlYXJjaCA9IHRoaXMucmVzdWx0c1t0aGlzLmFycm93Q291bnRlcl07CiAgICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7CiAgICAgIHRoaXMuYXJyb3dDb3VudGVyID0gLTE7CiAgICAgIHRoaXMuc3VibWl0KGV2ZW50KTsKICAgIH0sCiAgICBzdWJtaXQoKSB7CiAgICAgIHRoaXMuJGVtaXQoInNlbGVjdCIsIHRoaXMuc2VhcmNoKTsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["AutoComplete.vue"],"names":[],"mappings":";AAqCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AutoComplete.vue","sourceRoot":"src/components/main","sourcesContent":["<template>\n  <div class=\"autocomplete\">\n    <CloseIcon\n      @click=\"$emit('close', index)\"\n      v-if=\"close\"\n      class=\"autocomplete__icon\"\n    />\n    <input\n      :disabled=\"isDisabled\"\n      :readonly=\"readonly\"\n      type=\"text\"\n      :value=\"value != '' ? value : search\"\n      @click=\"readonly ? onChange($event) : null\"\n      @input=\"readonly ? null : onChange($event)\"\n      @keydown.down=\"onArrowDown\"\n      @keydown.up=\"onArrowUp\"\n      @keydown.enter=\"onEnter\"\n      :placeholder=\"placeholder\"\n      class=\"autocomplete__input\"\n    />\n    <ul id=\"autocomplete-results\" v-show=\"isOpen\" class=\"autocomplete-results\">\n      <li class=\"loading\" v-if=\"isLoading\">Loading results...</li>\n      <li\n        v-else\n        v-for=\"(result, i) in results\"\n        :key=\"i\"\n        @click=\"setResult(result)\"\n        class=\"autocomplete-result\"\n        :class=\"{ 'is-active': i === arrowCounter }\"\n      >\n        {{ result }}\n      </li>\n    </ul>\n  </div>\n</template>\n  \n<script>\nimport CloseIcon from \"@/assets/images/icons/close.svg?inline\";\nexport default {\n  name: \"SearchAutocomplete\",\n  props: {\n    items: {\n      type: Array,\n      required: false,\n      default: () => [],\n    },\n    isAsync: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n    placeholder: {\n      type: String,\n      require: false,\n      default: () => \"\",\n    },\n    isDisabled: {\n      type: Boolean,\n      require: false,\n      default: false,\n    },\n    value: {\n      type: String,\n      require: false,\n      default: () => \"\",\n    },\n    focus: {\n      type: Boolean,\n      require: false,\n      default: false,\n    },\n    close: {\n      type: Boolean,\n      require: false,\n      default: false,\n    },\n    index: {\n      type: Number,\n      require: true,\n      default: 0,\n    },\n    readonly: {\n      tyoe: Boolean,\n      require: false,\n      default: false\n    }\n  },\n  components: {\n    CloseIcon,\n  },\n  data() {\n    return {\n      isOpen: false,\n      results: [],\n      search: \"\",\n      isLoading: false,\n      arrowCounter: -1,\n    };\n  },\n  watch: {\n    items: function (value, oldValue) {\n      if (value.length !== oldValue.length) {\n        this.results = value;\n        this.isLoading = false;\n      }\n    },\n  },\n  mounted() {\n    if (this.focus) {\n      this.$el.childNodes[1].focus();\n    }\n    document.addEventListener(\"click\", this.handleClickOutside);\n  },\n  destroyed() {\n    document.removeEventListener(\"click\", this.handleClickOutside);\n  },\n  methods: {\n    setResult(result) {\n      this.search = result;\n      this.isOpen = false;\n      this.submit();\n    },\n    filterResults() {\n      this.results = this.items.filter((item) => {\n        return item.toLowerCase().indexOf(this.search.toLowerCase()) > -1;\n      });\n    },\n    onChange(event) {\n      console.log(event);\n      this.search = event.target.value;\n      if (this.isAsync) {\n        this.isLoading = true;\n      } else if (this.search != null) {\n        this.filterResults();\n        this.isOpen = true;\n      }\n    },\n    handleClickOutside(event) {\n      if (!this.$el.contains(event.target)) {\n        this.isOpen = false;\n        this.arrowCounter = -1;\n      }\n    },\n    onArrowDown() {\n      if (this.arrowCounter < this.results.length) {\n        this.arrowCounter = this.arrowCounter + 1;\n      }\n    },\n    onArrowUp() {\n      if (this.arrowCounter > 0) {\n        this.arrowCounter = this.arrowCounter - 1;\n      }\n    },\n    onEnter(event) {\n      this.search = this.results[this.arrowCounter];\n      this.isOpen = false;\n      this.arrowCounter = -1;\n      this.submit(event);\n    },\n    submit() {\n      this.$emit(\"select\", this.search);\n    },\n  },\n};\n</script>\n  \n  <style>\n.autocomplete {\n  position: relative;\n}\n\n.autocomplete-results {\n  position: absolute;\n  top: 40px;\n  border-radius: 8px;\n  padding: 0;\n  margin: 0;\n  border: 1px solid #c0c0c0;\n  max-height: 200px;\n  width: 300px;\n  background: #fff;\n  z-index: 999;\n  overflow: auto;\n  color: #231f20;\n  font-size: 12px;\n  font-weight: 700;\n}\n.autocomplete__icon {\n  position: absolute;\n  left: 5px;\n  top: 50%;\n  transform: translateY(-50%);\n  cursor: pointer;\n}\n.autocomplete__input::placeholder {\n  color: #c0c0c0;\n}\n.autocomplete-result {\n  list-style: none;\n  text-align: left;\n  padding: 10px 4px;\n  cursor: pointer;\n}\n\n.autocomplete-result.is-active,\n.autocomplete-result:hover {\n  color: #b90c0c !important;\n}\n</style>"]}]}