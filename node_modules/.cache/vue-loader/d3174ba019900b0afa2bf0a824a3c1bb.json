{"remainingRequest":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\src\\components\\main\\Header.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\src\\components\\main\\Header.vue","mtime":1688429666757},{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686771862028},{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\babel-loader\\lib\\index.js","mtime":1686771872096},{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686771862028},{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\vue-loader\\lib\\index.js","mtime":1686771882662}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IHsgbWFwQWN0aW9ucyB9IGZyb20gInZ1ZXgiOwppbXBvcnQgYXJyb3dEb3duSWNvbiBmcm9tICJAL2Fzc2V0cy9pbWFnZXMvaWNvbnMvYXJyb3dEb3duLnN2Zz9pbmxpbmUiOwppbXBvcnQgU3VuSWNvbiBmcm9tICJAL2Fzc2V0cy9pbWFnZXMvaWNvbnMvc3VuLnN2Zz9pbmxpbmUiOwoKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjb3VudHJpZXM6IFsKICAgICAgICAiUlVTIiwKICAgICAgICAiQkxSIiwKICAgICAgICAiTFRVIiwKICAgICAgICAiTEFUIiwKICAgICAgICAiS0FaIiwKICAgICAgICAiRVNUIiwKICAgICAgICAiVUtSIiwKICAgICAgICAiUE9MIiwKICAgICAgICAiTURBIiwKICAgICAgXSwKICAgICAgYnVyZ2VySXNPcGVuOiBmYWxzZSwKICAgICAgbmlnaHQ6IGZhbHNlLAogICAgICBzaG93RHJvcERvd246IGZhbHNlCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcEdldHRlcnMoewogICAgICB1c2VyOiAiVXNlcnMvZ2V0Q3VycmVudFVzZXIiLCAvLyDQotC10LrRg9GJ0LjQuSDQv9C+0LvRjNC30L7QstCw0YLQtdC70YwKICAgICAgYXZhaWxhYmxlQ291bnRyaWVzOiAiTWFpbi9nZXRBdmFpbGFibGVDb3VudHJpZXMiLCAvL9CS0YvQsdGA0LDQvdC90YvQtSDRgdGC0YDQsNC90YsKICAgICAgQ29udGFpbmVyOiAiTWFpbi9nZXRTaXplT2ZDb250YWluZXIiLAogICAgfSksCiAgfSwKICBtZXRob2RzOiB7CiAgICAuLi5tYXBBY3Rpb25zKCJVc2VycyIsIFsibG9nb3V0Il0pLAogICAgY2hvb3NlQ291bnRyaWUoaXRlbSA9IHRoaXMuY291bnRyaWVzKSB7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgiTWFpbi9jaGFuZ2VBdmFpbGFibGVDb3VudHJpZXMiLCBpdGVtKTsKICAgIH0sCiAgICBsb2dvdXRGdW5jKCkgewogICAgICB0aGlzLmxvZ291dCgpOwogICAgfSwKICAgIGNoYW5nZU1vZGUoKSB7CiAgICAgIHRoaXMubmlnaHQgPSAhdGhpcy5uaWdodDsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJNYWluL2NoYW5nZU1vZGUiLCB0aGlzLm5pZ2h0KTsKICAgIH0sCiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5uaWdodCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oIm1vZGUiKSk7CgogICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCAoZWxlbWVudCkgPT4gewogICAgICBpZiAoCiAgICAgICAgZWxlbWVudC50YXJnZXQuY2xvc2VzdCgiLmhlYWRlci10b3AtbWVudV9fY29udGVudCIpID09IG51bGwgJiYKICAgICAgICBlbGVtZW50LnRhcmdldC5jbG9zZXN0KCIuaGVhZGVyLXRvcF9fYnVyZ2VyIikgPT0gbnVsbAogICAgICApIHsKICAgICAgICB0aGlzLmJ1cmdlcklzT3BlbiA9IGZhbHNlOwogICAgICB9CiAgICB9KTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIGFycm93RG93bkljb24sCiAgICBTdW5JY29uLAogIH0sCn07Cg=="},{"version":3,"sources":["Header.vue"],"names":[],"mappings":";AA+QA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Header.vue","sourceRoot":"src/components/main","sourcesContent":["<template>\n  <header class=\"header\">\n    <div class=\"header-top\">\n      <div class=\"container\">\n        <div class=\"header-top__content\">\n          <div class=\"header-top__block\">\n            <router-link\n              :to=\"{ name: 'UserSettings' }\"\n              class=\"header-top__user\"\n            >\n              <img\n                :src=\"require('@/assets/images/users/avatar1.png')\"\n                alt=\"user\"\n                class=\"header-top__image\"\n              />\n              <p class=\"header-top__name\">{{ user.surname }} {{ user.name }}</p>\n            </router-link>\n          </div>\n          <div class=\"header-top__block\" v-if=\"Container.width > 632\">\n            <div class=\"header-top__filter\">\n              <ul\n                class=\"header-top__list\"\n                v-if=\"user.roles.includes('администратор')\"\n              >\n                <li\n                  class=\"header-top__country\"\n                  :class=\"{\n                    'header-top__country_active':\n                      availableCountries.includes(item),\n                  }\"\n                  @click=\"chooseCountrie(item)\"\n                  v-for=\"item in countries\"\n                  :key=\"item\"\n                >\n                  {{ item }}\n                </li>\n              </ul>\n              <ul class=\"header-top__list\" v-else>\n                <li\n                  class=\"header-top__country header-top__country_active\"\n                  v-for=\"item in user.availableCountries\"\n                  :key=\"item\"\n                >\n                  {{ item }}\n                </li>\n              </ul>\n              <button\n                class=\"header-top__select button-red\"\n                @click=\"chooseCountrie()\"\n                v-if=\"user.roles.includes('администратор')\"\n              >\n                Выбрать все\n              </button>\n            </div>\n            <div class=\"main-filter header-top__filter\">\n              <div class=\"main-filter__block\">\n                <router-link\n                  :to=\"{ name: 'UserKpi', query: { period: 'week' } }\"\n                  :class=\"{\n                    'main-filter__button_active': $route.name == 'UserKpi',\n                  }\"\n                  class=\"main-filter__button\"\n                  >KPI</router-link\n                >\n              </div>\n              <div class=\"main-filter__block\">\n                <router-link\n                  :to=\"{ name: 'UserSettings' }\"\n                  :class=\"{\n                    'main-filter__button_active': $route.name == 'UserSettings',\n                  }\"\n                  class=\"main-filter__button\"\n                  >Настройки</router-link\n                >\n              </div>\n            </div>\n          </div>\n          <div\n            v-else\n            class=\"header-top__block header-top-menu main-color\"\n            :class=\"{ active: burgerIsOpen }\"\n          >\n            <div class=\"header-top-menu__content\">\n              <div class=\"header-top-menu__row main-line\">\n                <router-link\n                  :to=\"{ name: 'UserSettings' }\"\n                  class=\"header-top__user\"\n                >\n                  <img\n                    :src=\"require('@/assets/images/users/avatar1.png')\"\n                    alt=\"user\"\n                    class=\"header-top__image\"\n                  />\n                  <p class=\"header-top__name\">\n                    {{ user.surname }} {{ user.name }}\n                  </p>\n                </router-link>\n                <div class=\"main-filter\">\n                  <div class=\"main-filter__block\">\n                    <router-link\n                      :to=\"{ name: 'UserKpi', query: { period: 'week' } }\"\n                      :class=\"{\n                        'main-filter__button_active': $route.name == 'UserKpi',\n                      }\"\n                      class=\"main-filter__button\"\n                      >KPI</router-link\n                    >\n                  </div>\n                  <div class=\"main-filter__block\">\n                    <router-link\n                      :to=\"{ name: 'UserSettings' }\"\n                      :class=\"{\n                        'main-filter__button_active':\n                          $route.name == 'UserSettings',\n                      }\"\n                      class=\"main-filter__button\"\n                      >Настройки</router-link\n                    >\n                  </div>\n                </div>\n              </div>\n              <div class=\"header-top-menu__row main-line\">\n                <div\n                  class=\"header-top-menu__block header-top-menu__block_direction\"\n                >\n                  <ul\n                    class=\"header-top__list\"\n                    v-if=\"user.roles.includes('администратор')\"\n                  >\n                    <li\n                      class=\"header-top__country\"\n                      :class=\"{\n                        'header-top__country_active':\n                          availableCountries.includes(item),\n                      }\"\n                      @click=\"chooseCountrie(item)\"\n                      v-for=\"item in countries\"\n                      :key=\"item\"\n                    >\n                      {{ item }}\n                    </li>\n                    <li>\n                      <button\n                        class=\"header-top__select button-red\"\n                        @click=\"chooseCountrie()\"\n                        v-if=\"user.roles.includes('администратор')\"\n                      >\n                        Выбрать все\n                      </button>\n                    </li>\n                  </ul>\n                  <ul class=\"header-top__list\" v-else>\n                    <li\n                      class=\"header-top__country header-top__country_active\"\n                      v-for=\"item in user.availableCountries\"\n                      :key=\"item\"\n                    >\n                      {{ item }}\n                    </li>\n                  </ul>\n                </div>\n              </div>\n              <div class=\"header-top-menu__row\">\n                <div class=\"header-top-menu__block\">\n                  <div class=\"header-top-menu__parameter\">\n                    <p><SunIcon /> Ночной режим</p>\n                  </div>\n                  <div class=\"header-top-menu__value\">\n                    <input\n                      class=\"main-switch\"\n                      type=\"checkbox\"\n                      :checked=\"night\"\n                      @click=\"changeMode\"\n                    />\n                  </div>\n                </div>\n              </div>\n              <div class=\"header-top-menu__row\">\n                <button\n                  class=\"header-top-menu__button button-white\"\n                  @click=\"logoutFunc\"\n                >\n                  Выйти\n                </button>\n              </div>\n            </div>\n          </div>\n          <div\n            class=\"header-top__burger\"\n            v-if=\"Container.width <= 632\"\n            @click=\"burgerIsOpen = !burgerIsOpen\"\n          >\n            <span></span>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"header-body\">\n      <div class=\"container\">\n        <div class=\"header-body__content\">\n          <div class=\"header-body__block header-body__block_relative\">\n            <p\n              class=\"header-body__button\" \n              @click=\"showDropDown = !showDropDown\"\n            >\n              Аналитика\n              <arrowDownIcon />\n            </p>\n            <ul class=\"header-body__dropdown\" :class=\"{'header-body__dropdown_active': showDropDown}\">\n              <li class=\"header-body__link\">\n                <router-link\n                  :to=\"{ name: 'AdminAnalyticsPage' }\"\n                  class=\"header-body__button\"\n                >\n                  Аналитика\n                </router-link>\n              </li>\n              <li class=\"header-body__link\">\n                <router-link\n                  :to=\"{\n                    name: 'AdminAnalyticsAuthorsPage',\n                    query: { filter: 'authors' },\n                  }\"\n                  class=\"header-body__button\"\n                >\n                  Автор\n                </router-link>\n              </li>\n              <li class=\"header-body__link\">\n                <router-link\n                  :to=\"{\n                    name: 'AdminAnalyticsPublicationsPage',\n                    query: { filter: 'publications' },\n                  }\"\n                  class=\"header-body__button\"\n                >\n                  Публикации\n                </router-link>\n              </li>\n              <li class=\"header-body__link\">\n                <router-link\n                  :to=\"{\n                    name: 'AdminAnalyticsUsersPage',\n                    query: { filter: 'users' },\n                  }\"\n                  class=\"header-body__button\"\n                >\n                  Пользователи\n                </router-link>\n              </li>\n            </ul>\n          </div>\n          <div class=\"header-body__block\">\n            <router-link\n              :to=\"{ name: 'AdminEmployeesTable' }\"\n              v-if=\"user.roles.includes('администратор')\"\n              class=\"header-body__button\"\n              >Пользователи</router-link\n            >\n            <router-link\n              :to=\"{ name: 'ModeratorPublicationsTableNew' }\"\n              class=\"header-body__button\"\n              >Модерация</router-link\n            >\n          </div>\n        </div>\n      </div>\n    </div>\n  </header>\n</template>\n<script>\nimport { mapGetters } from \"vuex\";\nimport { mapActions } from \"vuex\";\nimport arrowDownIcon from \"@/assets/images/icons/arrowDown.svg?inline\";\nimport SunIcon from \"@/assets/images/icons/sun.svg?inline\";\n\nexport default {\n  data() {\n    return {\n      countries: [\n        \"RUS\",\n        \"BLR\",\n        \"LTU\",\n        \"LAT\",\n        \"KAZ\",\n        \"EST\",\n        \"UKR\",\n        \"POL\",\n        \"MDA\",\n      ],\n      burgerIsOpen: false,\n      night: false,\n      showDropDown: false\n    };\n  },\n  computed: {\n    ...mapGetters({\n      user: \"Users/getCurrentUser\", // Текущий пользователь\n      availableCountries: \"Main/getAvailableCountries\", //Выбранные страны\n      Container: \"Main/getSizeOfContainer\",\n    }),\n  },\n  methods: {\n    ...mapActions(\"Users\", [\"logout\"]),\n    chooseCountrie(item = this.countries) {\n      this.$store.commit(\"Main/changeAvailableCountries\", item);\n    },\n    logoutFunc() {\n      this.logout();\n    },\n    changeMode() {\n      this.night = !this.night;\n      this.$store.commit(\"Main/changeMode\", this.night);\n    },\n  },\n  mounted() {\n    this.night = JSON.parse(localStorage.getItem(\"mode\"));\n\n    document.addEventListener(\"click\", (element) => {\n      if (\n        element.target.closest(\".header-top-menu__content\") == null &&\n        element.target.closest(\".header-top__burger\") == null\n      ) {\n        this.burgerIsOpen = false;\n      }\n    });\n  },\n  components: {\n    arrowDownIcon,\n    SunIcon,\n  },\n};\n</script>\n<style lang=\"scss\">\n.header {\n  display: flex;\n  flex-direction: column;\n  &-top {\n    &__content,\n    &__user,\n    &__list,\n    &__filter {\n      display: flex;\n      align-items: center;\n      padding: 0;\n    }\n    &__content {\n      padding: 8px 0;\n      display: grid;\n      grid-template-columns: 1fr 7fr;\n    }\n    &__country {\n      margin-right: 8px;\n      font-size: 12px;\n      font-weight: 700;\n      padding: 3px 8px;\n      border: 1px solid transparent;\n      border-radius: 8px;\n\n      cursor: pointer;\n      &_active {\n        border-color: #e11b1b;\n      }\n    }\n    &__user {\n      margin-right: 8px;\n    }\n    &__image {\n      margin-right: 8px;\n    }\n    &__name {\n      font-size: 16px;\n      font-weight: 700;\n      color: #231f20;\n    }\n    &__block {\n      display: flex;\n      align-items: center;\n      &:nth-child(2) {\n        width: 100%;\n        justify-content: space-between;\n      }\n    }\n    &__burger {\n      position: relative;\n      justify-self: end;\n      display: block;\n      width: 24px;\n      height: 18px;\n      &::before,\n      &::after {\n        content: \"\";\n        position: absolute;\n        width: 100%;\n        height: 2px;\n        background: #000;\n      }\n      &::before {\n        top: 0;\n      }\n      &::after {\n        bottom: 0;\n      }\n      span {\n        position: absolute;\n        top: 50%;\n        transform: translateY(-50%);\n        right: 0;\n        height: 2px;\n        width: 100%;\n        background: #000;\n      }\n    }\n    &-menu {\n      position: absolute;\n      background: #f4f4f4;\n      transform: translateY(-400px);\n      top: 40px;\n      right: 0;\n      z-index: 999;\n      border-radius: 16px;\n      max-width: 400px;\n      &.active {\n        transform: translateY(0);\n      }\n      &__content {\n        padding: 16px;\n      }\n      &__row {\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        &:not(:last-child) {\n          margin-bottom: 16px;\n        }\n      }\n      &__block {\n        display: flex;\n        align-items: center;\n        &_direction {\n          flex-direction: column;\n        }\n      }\n      &__value {\n        display: flex;\n      }\n      &__parameter {\n        margin-right: 8px;\n        p {\n          display: flex;\n          align-items: center;\n          svg {\n            margin-right: 5px;\n          }\n        }\n      }\n      &__button {\n        width: 100%;\n        font-size: 14px;\n        text-align: center;\n      }\n    }\n    @media screen and (min-width: 1200px) and (max-width: 1600px) {\n      &__content {\n        grid-template-columns: 1fr 5fr;\n      }\n    }\n    @media screen and (min-width: 850px) and (max-width: 1280px) {\n      &__content {\n        grid-template-columns: 1fr 4fr;\n      }\n    }\n    @media screen and (min-width: 744px) and (max-width: 1280px) {\n      &__name {\n        font-size: 14px;\n      }\n    }\n    @media screen and (min-width: 320px) and (max-width: 850px) {\n      &__content {\n        position: relative;\n        grid-template-columns: 1fr 1fr;\n        justify-content: space-between;\n      }\n      &__list {\n        flex-wrap: wrap;\n      }\n    }\n    @media screen and (min-width: 320px) and (max-width: 428px) {\n      &__name {\n        display: none;\n      }\n      &-menu {\n        .header-top__name {\n          display: block;\n          font-size: 10px;\n        }\n      }\n    }\n  }\n  &-body {\n    background: #231f20;\n    border-radius: 0 0 15px 15px;\n    padding: 8px 6px;\n    &__content {\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n    }\n    &__button {\n      font-size: 16px;\n      font-weight: 400;\n      line-height: 24px;\n      color: #fff;\n      display: flex;\n      align-items: center;\n      svg {\n        margin-left: 7px;\n      }\n      &:not(:last-child) {\n        margin-right: 16px;\n      }\n    }\n    &__dropdown {\n      position: absolute;\n      top: 0;\n      background: #231f20;\n      z-index: 999;\n      padding: 10px;\n      border-radius: 8px;\n      top: 35px;\n      transform: translateY(-300px);\n      &_active {\n        transform: translateY(0);\n      }\n    }\n    &__link {\n      &:not(:last-child) {\n        margin-bottom: 10px;\n      }\n      .header-body__button {\n        padding: 3px;\n        &:hover,\n        &.router-link-active {\n          color: #fff;\n          background: #e11b1b;\n          border-radius: 8px;\n        }\n        &:not(:last-child) {\n          margin-bottom: 5px;\n        }\n      }\n    }\n    &__block {\n      display: flex;\n      align-items: center;\n      p {\n        cursor: pointer;\n      }\n      &_relative {\n        position: relative;\n      }\n    }\n    @media screen and (min-width: 744px) and (max-width: 1280px) {\n      &__button {\n        font-size: 14px;\n      }\n    }\n    @media screen and (min-width: 320px) and (max-width: 428px) {\n      &__button {\n        font-size: 12px;\n      }\n    }\n  }\n}\n</style>"]}]}