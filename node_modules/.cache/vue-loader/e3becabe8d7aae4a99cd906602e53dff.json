{"remainingRequest":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\src\\components\\admin\\Employees\\Profile.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\src\\components\\admin\\Employees\\Profile.vue","mtime":1689974573473},{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686771862028},{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\babel-loader\\lib\\index.js","mtime":1686771872096},{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686771862028},{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\vue-loader\\lib\\index.js","mtime":1686771882662}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IG1hcEFjdGlvbnMgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IEVycm9ySWNvbiBmcm9tICJAL2Fzc2V0cy9pbWFnZXMvaWNvbnMvZXJyb3JTbWFsbC5zdmc/aW5saW5lIjsKaW1wb3J0IFN0YXJJY29uIGZyb20gIkAvYXNzZXRzL2ltYWdlcy9pY29ucy9zdGFyLnN2Zz9pbmxpbmUiOwppbXBvcnQgU3Rhckljb25EYXJrIGZyb20gIkAvYXNzZXRzL2ltYWdlcy9pY29ucy9kYXJrL3N0YXIuc3ZnP2lubGluZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogewogICAgY3VycmVudFVzZXI6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiAoKSA9PiBudWxsLAogICAgfSwKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhbGxDb3VudHJpZXM6IFsKICAgICAgICAiUlVTIiwKICAgICAgICAiQkxSIiwKICAgICAgICAiTFRVIiwKICAgICAgICAiTEFUIiwKICAgICAgICAiS0FaIiwKICAgICAgICAiRVNUIiwKICAgICAgICAiVUtSIiwKICAgICAgICAiUE9MIiwKICAgICAgICAiTURBIiwKICAgICAgXSwKICAgICAgYWxsUm9sZXM6IFsi0LzQvtC00LXRgNCw0YLQvtGAIiwgItGA0LXQtNCw0LrRgtC+0YAiLCAi0LDQtNC80LjQvdC40YHRgtGA0LDRgtC+0YAiXSwKICAgICAgY2hhbmdlZFVzZXI6IHsKICAgICAgICBpZDogIiIsCiAgICAgICAgbmFtZTogIiIsCiAgICAgICAgc3VybmFtZTogIiIsCiAgICAgICAgZW1haWw6ICIiLAogICAgICAgIGxvZ2luOiAiIiwKICAgICAgICByb2xlczogW10sCiAgICAgICAgcGhvdG86ICIiLAogICAgICAgIHBhc3N3b3JkOiAiIiwKICAgICAgICBhdmFpbGFibGVDb3VudHJpZXM6IFtdLAogICAgICB9LAogICAgICBpbWFnZVRvU2hvdzogbnVsbCwKICAgICAgZXJyb3JzVG9TdWJtaXQ6IHsKICAgICAgICBuYW1lOiBmYWxzZSwKICAgICAgICBzdXJuYW1lOiBmYWxzZSwKICAgICAgICBlbWFpbDogZmFsc2UsCiAgICAgICAgcGFzc3dvcmQ6IGZhbHNlLAogICAgICAgIHJvbGVzOiBmYWxzZSwKICAgICAgICBwaG90bzogZmFsc2UsCiAgICAgICAgYXZhaWxhYmxlQ291bnRyaWVzOiBmYWxzZSwKICAgICAgfSwKICAgICAgcmVwZWF0UGFzc3dvcmQ6IG51bGwsCiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgU3Rhckljb24sCiAgICBFcnJvckljb24sCiAgICBTdGFySWNvbkRhcmssCiAgfSwKICBtb3VudGVkKCkgewogICAgaWYgKHRoaXMuJHJvdXRlLm5hbWUgPT0gIkFkbWluRW1wbG95ZWVzVmlldyIgJiYgdGhpcy5jdXJyZW50VXNlcikgewogICAgICB0aGlzLmNoYW5nZWRVc2VyID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLmN1cnJlbnRVc2VyKSk7CiAgICAgIHRoaXMucmVwZWF0UGFzc3dvcmQgPSB0aGlzLmN1cnJlbnRVc2VyLnBhc3N3b3JkOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgc2F2ZURhdGEoYWN0aW9uKSB7CiAgICAgIHRoaXMuaGFzRXJyb3IoKTsKICAgICAgZm9yIChsZXQgZXJyIGluIHRoaXMuZXJyb3JzVG9TdWJtaXQpIHsKICAgICAgICBpZiAodGhpcy5lcnJvcnNUb1N1Ym1pdFtlcnJdID09IHRydWUpIHsKICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYCR7ZXJyfTogZmFsc2VgKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKGFjdGlvbiA9PSAibmV3VXNlciIpIHsKICAgICAgICB0aGlzLkNSRUFURV9VU0VSKHRoaXMuY2hhbmdlZFVzZXIpOwogICAgICB9IGVsc2UgaWYgKGFjdGlvbiA9PSAic2F2ZUNoYW5nZSIpIHsKICAgICAgICB0aGlzLkNIQU5HRV9VU0VSKHRoaXMuY2hhbmdlZFVzZXIpOwogICAgICB9CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgbmFtZTogIkFkbWluRW1wbG95ZWVzVGFibGUiIH0pOwogICAgfSwKICAgIGhhc0Vycm9yKCkgewogICAgICBsZXQgcmVFbWFpbCA9CiAgICAgICAgL14oKFtePD4oKVtcXVxcLiw7OlxzQCJdKyhcLltePD4oKVtcXVxcLiw7OlxzQCJdKykqKXwuKCIuKyIpKUAoKFxbWzAtOV17MSwzfVwuWzAtOV17MSwzfVwuWzAtOV17MSwzfVwuWzAtOV17MSwzfVxdKXwoKFthLXpBLVpcLTAtOV0rXC4pK1thLXpBLVpdezIsfSkpJC87CiAgICAgIGxldCByZVBhc3N3b3JkID0gL14uKig/PS57OCx9KSg/PS4qW2EtekEtWl0pKD89LipcZCkuKiQvOwogICAgICB0aGlzLmVycm9yc1RvU3VibWl0Lm5hbWUgPSB0aGlzLmNoYW5nZWRVc2VyLm5hbWUgPyBmYWxzZSA6IHRydWU7IC8vINCS0LDQu9C40LTQsNGG0LjRjyDQuNC80LXQvdC4CiAgICAgIHRoaXMuZXJyb3JzVG9TdWJtaXQuc3VybmFtZSA9IHRoaXMuY2hhbmdlZFVzZXIuc3VybmFtZSA/IGZhbHNlIDogdHJ1ZTsgLy/QktCw0LvQuNC00LDRhtC40Y8g0YTQsNC80LjQu9C40LgKICAgICAgdGhpcy5lcnJvcnNUb1N1Ym1pdC5lbWFpbCA9ICFyZUVtYWlsLnRlc3QodGhpcy5jaGFuZ2VkVXNlci5lbWFpbCk7IC8v0JLQsNC70LjQtNCw0YbQuNGPINC/0L7Rh9GC0YsKICAgICAgdGhpcy5lcnJvcnNUb1N1Ym1pdC5yb2xlcyA9CiAgICAgICAgdGhpcy5jaGFuZ2VkVXNlci5yb2xlcy5sZW5ndGggPT0gMCA/IHRydWUgOiBmYWxzZTsgLy/QktCw0LvQuNC00LDRhtC40Y8g0YDQvtC70LXQuQogICAgICB0aGlzLmVycm9yc1RvU3VibWl0LnBob3RvID0gdGhpcy5jaGFuZ2VkVXNlci5waG90bwogICAgICAgID8gZmFsc2UKICAgICAgICA6IHRoaXMuY3VycmVudFVzZXIgPT0gbnVsbAogICAgICAgID8gdHJ1ZQogICAgICAgIDogZmFsc2U7IC8v0JLQsNC70LjQtNCw0YbQuNGPINCw0LLQsNGC0LDRgNC60LgKICAgICAgdGhpcy5lcnJvcnNUb1N1Ym1pdC5hdmFpbGFibGVDb3VudHJpZXMgPQogICAgICAgIHRoaXMuY2hhbmdlZFVzZXIuYXZhaWxhYmxlQ291bnRyaWVzLmxlbmd0aCA9PSAwID8gdHJ1ZSA6IGZhbHNlOyAvL9CS0LDQu9C40LTQsNGG0LjRjyDQtNC+0YHRgtGD0L/QsCDQuiDRgdGC0YDQsNC90LDQvAogICAgICB0aGlzLmVycm9yc1RvU3VibWl0LnBhc3N3b3JkID0gISgKICAgICAgICAoCiAgICAgICAgICByZVBhc3N3b3JkLnRlc3QodGhpcy5jaGFuZ2VkVXNlci5wYXNzd29yZCkgJiYKICAgICAgICAgIHRoaXMucmVwZWF0UGFzc3dvcmQgPT0gdGhpcy5jaGFuZ2VkVXNlci5wYXNzd29yZAogICAgICAgICkgLy/QktCw0LvQuNC00LDRhtC40Y8g0L/QsNGA0L7Qu9GPCiAgICAgICk7CiAgICB9LAogICAgY2hhbmdlQ291bnRyeShjb3VudHJ5KSB7CiAgICAgIGlmIChjb3VudHJ5ID09ICLQktGB0LUiKSB7CiAgICAgICAgdGhpcy5jaGFuZ2VkVXNlci5hdmFpbGFibGVDb3VudHJpZXMgPSB0aGlzLmFsbENvdW50cmllcy5zbGljZSgpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB0aGlzLnRvZ2dsZUFycmF5KHRoaXMuY2hhbmdlZFVzZXIuYXZhaWxhYmxlQ291bnRyaWVzLCBjb3VudHJ5KTsKICAgIH0sCiAgICB0b2dnbGVBcnJheShhcnJheSwgaXRlbSkgewogICAgICBsZXQgaW5kZXggPSBhcnJheS5pbmRleE9mKGl0ZW0pOwogICAgICBpbmRleCA9PSAtMQogICAgICAgID8gYXJyYXkucHVzaChpdGVtKQogICAgICAgIDogYXJyYXkubGVuZ3RoID4gMQogICAgICAgID8gYXJyYXkuc3BsaWNlKGluZGV4LCAxKQogICAgICAgIDogZmFsc2U7CiAgICB9LAogICAgdXBsb2FkSW1hZ2UoZSkgewogICAgICBjb25zdCBpbWFnZSA9IGUudGFyZ2V0LmZpbGVzWzBdOwogICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwogICAgICBsZXQgY2hhbmdlU3JjID0gKHNyYykgPT4gewogICAgICAgIHRoaXMuY2hhbmdlZFVzZXIucGhvdG8gPSBzcmM7CiAgICAgICAgdGhpcy5pbWFnZVRvU2hvdyA9IHNyYzsKICAgICAgfTsKICAgICAgaWYgKGltYWdlICYmIGltYWdlLnNpemUgPiAxMDI0ICogMTAyNCkgewogICAgICAgIGNvbnNvbGUuZXJyb3IoItCY0LfQvtCx0YDQsNC20LXQvdC40LUg0YHQu9C40YjQutC+0Lwg0LHQvtC70YzRiNC+0LUiKTsKCiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIGlmIChpbWFnZSkgewogICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGltYWdlKTsKICAgICAgICByZWFkZXIub25sb2FkID0gKGUpID0+IHsKICAgICAgICAgIGxldCBzcmMgPSBlLnRhcmdldC5yZXN1bHQ7CiAgICAgICAgICBsZXQgbG9hZEltYWdlID0gbmV3IEltYWdlKCk7CiAgICAgICAgICBsb2FkSW1hZ2Uuc3JjID0gc3JjOwogICAgICAgICAgbG9hZEltYWdlLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgaWYgKHRoaXMud2lkdGggPCAyMDAgfHwgdGhpcy5oZWlnaHQgPCAyMDApIHsKICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCLQmNC30L7QsdGA0LDQttC10L3QuNC1INGB0LvQuNGI0LrQvtC8INC80LDQu9C10L3RjNC60L7QtSIpOwogICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgICBzcmMgPSAiIjsKICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgY2hhbmdlU3JjKHNyYyk7CiAgICAgICAgICB9OwogICAgICAgIH07CiAgICAgIH0KICAgIH0sCiAgICAuLi5tYXBBY3Rpb25zKCJVc2VycyIsIFsiQ1JFQVRFX1VTRVIiLCAiQ0hBTkdFX1VTRVIiXSksCiAgfSwKICBjb21wdXRlZDogewogICAgaXNEYXJrKCkgewogICAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpLmNsYXNzTGlzdC5jb250YWlucygnZGFyaycpCiAgICB9CiAgfSwKICB3YXRjaDogewogICAgY3VycmVudFVzZXIobmV3VmFsdWUpIHsKICAgICAgdGhpcy5jdXJyZW50VXNlciA9IG5ld1ZhbHVlOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["Profile.vue"],"names":[],"mappings":";AAyWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Profile.vue","sourceRoot":"src/components/admin/Employees","sourcesContent":["<template>\n  <div class=\"employees-profile\">\n    <div class=\"employees-profile__content main-content main-color\">\n      <div class=\"employees-profile__top main-line\">\n        <div class=\"employees-profile__title\">\n          <h4 v-if=\"$route.name == 'AdminEmployeesView'\">Просмотр профиля</h4>\n          <h4 v-else>Регистрация нового сотрудника</h4>\n        </div>\n        <div class=\"main-filter\" v-if=\"$route.name == 'AdminEmployeesView'\">\n          <div class=\"main-filter__block\">\n            <button\n              class=\"main-filter__button\"\n              :class=\"{\n                'main-filter__button_active':\n                  $route.name == 'AdminEmployeesView',\n              }\"\n            >\n              Профиль\n            </button>\n          </div>\n          <div class=\"main-filter__block\">\n            <button class=\"main-filter__button\">KPI</button>\n          </div>\n        </div>\n      </div>\n      <div class=\"employees-profile__body\">\n        <div class=\"employees-profile__form\">\n          <div class=\"employees-profile__block\" v-if=\"currentUser\">\n            <div class=\"employees-profile__row\">\n              <div class=\"employees-profile__image\">\n                <img\n                  type=\"image\"\n                  class=\"employees-profile__image\"\n                  :src=\"require('@/assets/images/users/avatar2.png')\"\n                  alt=\"user\"\n                />\n              </div>\n              <div class=\"employees-profile__info\">\n                <p class=\"employees-profile__name\">\n                  {{ currentUser.name }} {{ currentUser.surname }}\n                  {{ currentUser.email }}\n                </p>\n                <ul class=\"main-table__list main-table__list\">\n                  <li\n                    v-for=\"country in currentUser.availableCountries\"\n                    :key=\"country\"\n                  >\n                    <div class=\"main-table__icon\">\n                      <img\n                        :src=\"\n                          require(`@/assets/images/icons/flags/${country.toLowerCase()}.svg`)\n                        \"\n                        alt=\"\"\n                      />\n                    </div>\n                    <p class=\"main-table__text main-table__text_bold\">\n                      {{ country }}\n                    </p>\n                  </li>\n                </ul>\n              </div>\n            </div>\n          </div>\n          <div class=\"employees-profile__block\">\n            <div\n              class=\"employees-profile__row employees-profile__row_direction\"\n            >\n              <div\n                class=\"employees-profile__field\"\n                :class=\"{\n                  'employees-profile__field_error': errorsToSubmit.name,\n                }\"\n              >\n                <label for=\"EmployeesProfileName\">\n                  <div class=\"employees-profile__icon\">\n                    <StarIconDark v-if=\"isDark\" />\n                    <StarIcon v-else />\n                  </div>\n                  <p>Имя(имя и отчество):</p>\n                </label>\n                <div class=\"employees-profile__input\">\n                  <input\n                    type=\"text\"\n                    id=\"EmployeesProfileName\"\n                    v-model=\"changedUser.name\"\n                    placeholder=\"Введите имя\"\n                  />\n                  <div class=\"employees-profile__error\">\n                    <ErrorIcon />\n                  </div>\n                </div>\n              </div>\n              <div\n                class=\"employees-profile__field\"\n                :class=\"{\n                  'employees-profile__field_error': errorsToSubmit.surname,\n                }\"\n              >\n                <label for=\"EmployeesProfileSurname\">\n                  <div class=\"employees-profile__icon\">\n                    <StarIconDark v-if=\"isDark\" />\n                    <StarIcon v-else />\n                  </div>\n                  <p>Фамилия:</p>\n                </label>\n                <div class=\"employees-profile__input\">\n                  <input\n                    type=\"text\"\n                    id=\"EmployeesProfileSurname\"\n                    v-model=\"changedUser.surname\"\n                    placeholder=\"Введите фамилию\"\n                  />\n                  <div class=\"employees-profile__error\">\n                    <ErrorIcon />\n                  </div>\n                </div>\n              </div>\n              <div\n                class=\"employees-profile__field\"\n                :class=\"{\n                  'employees-profile__field_error': errorsToSubmit.email,\n                }\"\n              >\n                <label for=\"EmployeesProfileEmail\">\n                  <div class=\"employees-profile__icon\">\n                    <StarIconDark v-if=\"isDark\" />\n                    <StarIcon v-else />\n                  </div>\n                  <p>e-mail:</p>\n                </label>\n                <div class=\"employees-profile__input\">\n                  <input\n                    type=\"text\"\n                    id=\"EmployeesProfileEmail\"\n                    v-model=\"changedUser.email\"\n                    placeholder=\"Введите E-mail\"\n                  />\n                  <div class=\"employees-profile__error\">\n                    <ErrorIcon />\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"employees-profile__block\">\n            <div class=\"employees-profile__subtitle\">\n              <div class=\"employees-profile__icon\">\n                <StarIconDark v-if=\"isDark\" />\n                <StarIcon v-else />\n              </div>\n              <h4>Доступ к публикациям</h4>\n            </div>\n            <div class=\"employees-profile__row\">\n              <ul\n                class=\"main-table__list main-table__list employees-profile__access\"\n              >\n                <li\n                  v-for=\"country in allCountries\"\n                  :key=\"country\"\n                  class=\"employees-profile__country\"\n                  :class=\"{\n                    'employees-profile__country_active':\n                      changedUser.availableCountries\n                        ? changedUser.availableCountries.includes(country)\n                        : false,\n                  }\"\n                  @click=\"changeCountry(country)\"\n                >\n                  <div class=\"main-table__icon\">\n                    <img\n                      :src=\"\n                        require(`@/assets/images/icons/flags/${country.toLowerCase()}.svg`)\n                      \"\n                      alt=\"\"\n                    />\n                  </div>\n                  <p class=\"main-table__text main-table__text_bold\">\n                    {{ country }}\n                  </p>\n                </li>\n                <li>\n                  <button class=\"button-red\" @click=\"changeCountry('Все')\">\n                    Выбрать все\n                  </button>\n                </li>\n              </ul>\n            </div>\n            <div class=\"employees-profile__block\">\n              <div class=\"employees-profile__subtitle\">\n                <div class=\"employees-profile__icon\">\n                  <StarIconDark v-if=\"isDark\" />\n                  <StarIcon v-else />\n                </div>\n                <h4>Роли</h4>\n              </div>\n              <div class=\"employees-profile__row\">\n                <ul class=\"employees-profile__roles\">\n                  <li\n                    v-for=\"role in allRoles\"\n                    :key=\"role\"\n                    @click=\"toggleArray(changedUser.roles, role)\"\n                  >\n                    <div class=\"employees-profile__checkbox main-checkbox\">\n                      <input\n                        type=\"checkbox\"\n                        :checked=\"\n                          changedUser.roles.some((e) => e == role)\n                            ? true\n                            : false\n                        \"\n                        class=\"main-checkbox__input\"\n                      />\n                      <div class=\"main-checkbox__checkmark\"></div>\n                      <div class=\"checkbox__body\"></div>\n                    </div>\n                    <p\n                      :style=\"{\n                        'background-color':\n                          role == 'модератор'\n                            ? '#C0FBFF'\n                            : role == 'редактор'\n                            ? '#D0FFD2'\n                            : '#FFDDDD',\n                      }\"\n                    >\n                      {{ role }}\n                    </p>\n                  </li>\n                </ul>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"employees-profile__form\">\n          <div\n            class=\"employees-profile__block employees-profile__title main-line\"\n          >\n            <h4>Загрузить фото</h4>\n          </div>\n          <div class=\"employees-profile__block\">\n            <div\n              class=\"employees-profile__subtitle employees-profile__subtitle_light\"\n            >\n              <div class=\"employees-profile__icon\">\n                <StarIconDark v-if=\"isDark\" />\n                <StarIcon v-else />\n              </div>\n              <h4>Обязательно для заполнения</h4>\n            </div>\n            <div class=\"employees-profile__row employees-profile__row_grid\">\n              <div\n                class=\"employees-profile__image employees-profile__image_big\"\n              >\n                <img\n                  type=\"image\"\n                  :src=\"\n                    imageToShow || require('@/assets/images/users/empty.png')\n                  \"\n                  alt=\"user\"\n                />\n              </div>\n              <div class=\"employees-profile__require\">\n                <p>Требование к фото:</p>\n                <p>\n                  объем не более 1МБ, размер не менее 200х200 пикселей, формат\n                  jpg, jpeg, png\n                </p>\n              </div>\n              <div class=\"employees-profile__require\">\n                <p>Просьба</p>\n                <p>\n                  Постарайтесь, пожалуйста, подобрать фото или картинку так,\n                  чтобы она хорошо читалась. Была яркая и внятная. Всегда\n                  приятно при общении видеть лицо собеседника.\n                </p>\n              </div>\n              <div class=\"employees-profile__button\">\n                <label for=\"uploadPhoto\" class=\"button-red\"\n                  >Изменить фото</label\n                >\n                <input\n                  type=\"file\"\n                  class=\"employees-profile__upload\"\n                  id=\"uploadPhoto\"\n                  accept=\"image/jpeg, image/png, image.jpg\"\n                  @change=\"uploadImage\"\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"employees-profile__form\">\n          <div\n            class=\"employees-profile__block employees-profile__title main-line\"\n          >\n            <h4>Пароль</h4>\n          </div>\n          <div class=\"employees-profile__block employees-profile__block\">\n            <div\n              class=\"employees-profile__row employees-profile__row_direction\"\n            >\n              <div\n                class=\"employees-profile__field\"\n                :class=\"{\n                  'employees-profile__field_error': errorsToSubmit.password,\n                }\"\n              >\n                <label for=\"EmployeesProfilePassword\">\n                  <p>Введите новый пароль:</p>\n                </label>\n                <div class=\"employees-profile__input\">\n                  <input\n                    type=\"password\"\n                    id=\"EmployeesProfilePassword\"\n                    placeholder=\"Введите новый пароль\"\n                    v-model=\"changedUser.password\"\n                  />\n                  <div class=\"employees-profile__error\">\n                    <ErrorIcon />\n                  </div>\n                </div>\n              </div>\n              <div\n                class=\"employees-profile__field\"\n                :class=\"{\n                  'employees-profile__field_error': errorsToSubmit.password,\n                }\"\n              >\n                <label for=\"EmployeesProfileRepeatPassword\">\n                  <p>Подтвердите пароль:</p>\n                </label>\n                <div class=\"employees-profile__input\">\n                  <input\n                    type=\"password\"\n                    id=\"EmployeesProfileRepeatPassword\"\n                    placeholder=\"Подтвердите пароль\"\n                    v-model=\"repeatPassword\"\n                  />\n                  <div class=\"employees-profile__error\">\n                    <ErrorIcon />\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"main-submit\" v-if=\"currentUser == null\">\n      <button @click=\"saveData('newUser')\">\n        Зарегестрировать пользователя\n      </button>\n    </div>\n    <div class=\"main-submit\" v-else>\n      <button @click=\"saveData('saveChange')\">Сохранить изменения</button>\n      <button @click=\"saveData('deleteUser')\">Удалить профиль</button>\n    </div>\n  </div>\n</template>\n<script>\nimport { mapActions } from \"vuex\";\nimport ErrorIcon from \"@/assets/images/icons/errorSmall.svg?inline\";\nimport StarIcon from \"@/assets/images/icons/star.svg?inline\";\nimport StarIconDark from \"@/assets/images/icons/dark/star.svg?inline\";\nexport default {\n  props: {\n    currentUser: {\n      type: Object,\n      default: () => null,\n    },\n  },\n  data() {\n    return {\n      allCountries: [\n        \"RUS\",\n        \"BLR\",\n        \"LTU\",\n        \"LAT\",\n        \"KAZ\",\n        \"EST\",\n        \"UKR\",\n        \"POL\",\n        \"MDA\",\n      ],\n      allRoles: [\"модератор\", \"редактор\", \"администратор\"],\n      changedUser: {\n        id: \"\",\n        name: \"\",\n        surname: \"\",\n        email: \"\",\n        login: \"\",\n        roles: [],\n        photo: \"\",\n        password: \"\",\n        availableCountries: [],\n      },\n      imageToShow: null,\n      errorsToSubmit: {\n        name: false,\n        surname: false,\n        email: false,\n        password: false,\n        roles: false,\n        photo: false,\n        availableCountries: false,\n      },\n      repeatPassword: null,\n    };\n  },\n  components: {\n    StarIcon,\n    ErrorIcon,\n    StarIconDark,\n  },\n  mounted() {\n    if (this.$route.name == \"AdminEmployeesView\" && this.currentUser) {\n      this.changedUser = JSON.parse(JSON.stringify(this.currentUser));\n      this.repeatPassword = this.currentUser.password;\n    }\n  },\n  methods: {\n    saveData(action) {\n      this.hasError();\n      for (let err in this.errorsToSubmit) {\n        if (this.errorsToSubmit[err] == true) {\n          console.error(`${err}: false`);\n          return;\n        }\n      }\n      if (action == \"newUser\") {\n        this.CREATE_USER(this.changedUser);\n      } else if (action == \"saveChange\") {\n        this.CHANGE_USER(this.changedUser);\n      }\n      this.$router.push({ name: \"AdminEmployeesTable\" });\n    },\n    hasError() {\n      let reEmail =\n        /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|.(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n      let rePassword = /^.*(?=.{8,})(?=.*[a-zA-Z])(?=.*\\d).*$/;\n      this.errorsToSubmit.name = this.changedUser.name ? false : true; // Валидация имени\n      this.errorsToSubmit.surname = this.changedUser.surname ? false : true; //Валидация фамилии\n      this.errorsToSubmit.email = !reEmail.test(this.changedUser.email); //Валидация почты\n      this.errorsToSubmit.roles =\n        this.changedUser.roles.length == 0 ? true : false; //Валидация ролей\n      this.errorsToSubmit.photo = this.changedUser.photo\n        ? false\n        : this.currentUser == null\n        ? true\n        : false; //Валидация аватарки\n      this.errorsToSubmit.availableCountries =\n        this.changedUser.availableCountries.length == 0 ? true : false; //Валидация доступа к странам\n      this.errorsToSubmit.password = !(\n        (\n          rePassword.test(this.changedUser.password) &&\n          this.repeatPassword == this.changedUser.password\n        ) //Валидация пароля\n      );\n    },\n    changeCountry(country) {\n      if (country == \"Все\") {\n        this.changedUser.availableCountries = this.allCountries.slice();\n        return;\n      }\n      this.toggleArray(this.changedUser.availableCountries, country);\n    },\n    toggleArray(array, item) {\n      let index = array.indexOf(item);\n      index == -1\n        ? array.push(item)\n        : array.length > 1\n        ? array.splice(index, 1)\n        : false;\n    },\n    uploadImage(e) {\n      const image = e.target.files[0];\n      const reader = new FileReader();\n      let changeSrc = (src) => {\n        this.changedUser.photo = src;\n        this.imageToShow = src;\n      };\n      if (image && image.size > 1024 * 1024) {\n        console.error(\"Изображение слишком большое\");\n\n        e.preventDefault();\n        return;\n      } else if (image) {\n        reader.readAsDataURL(image);\n        reader.onload = (e) => {\n          let src = e.target.result;\n          let loadImage = new Image();\n          loadImage.src = src;\n          loadImage.onload = function () {\n            if (this.width < 200 || this.height < 200) {\n              console.error(\"Изображение слишком маленькое\");\n              e.preventDefault();\n              src = \"\";\n              return;\n            }\n            changeSrc(src);\n          };\n        };\n      }\n    },\n    ...mapActions(\"Users\", [\"CREATE_USER\", \"CHANGE_USER\"]),\n  },\n  computed: {\n    isDark() {\n      return document.querySelector('body').classList.contains('dark')\n    }\n  },\n  watch: {\n    currentUser(newValue) {\n      this.currentUser = newValue;\n    },\n  },\n};\n</script>\n<style lang=\"scss\">\n.employees-profile {\n  h4,\n  p,\n  input {\n    color: #353132;\n    font-weight: 700;\n  }\n  &__content {\n    padding: 16px;\n    border-radius: 16px;\n  }\n  &__top {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n  }\n  &__title {\n    font-size: 24px;\n    font-weight: 700;\n  }\n  &__subtitle {\n    margin-bottom: 8px;\n    display: flex;\n    align-items: center;\n    &_light {\n      h4 {\n        font-size: 12px;\n        font-weight: 400;\n      }\n    }\n  }\n  &__block {\n    margin-top: 16px;\n  }\n  &__row {\n    display: flex;\n    align-items: center;\n    &_grid {\n      display: grid;\n      align-items: center;\n      grid-template: repeat(3, 1fr) / 1fr 8fr;\n    }\n  }\n  &__row_grid &__image {\n    grid-row: 1 / 4;\n  }\n  &__input {\n    position: relative;\n  }\n  &__field {\n    &:not(:last-child) {\n      margin-right: 20px;\n    }\n    label {\n      display: flex;\n      align-items: center;\n      margin-bottom: 8px;\n      p {\n        font-weight: 700;\n      }\n    }\n    input {\n      position: relative;\n      padding: 2px 0 2px 8px;\n      border: 1px solid #c0c0c0;\n      border-radius: 8px;\n      width: 100%;\n    }\n    &_error {\n      input {\n        color: #b90c0c;\n        border-color: #b90c0c;\n        &::placeholder {\n          color: #b90c0c;\n        }\n      }\n      .employees-profile__error {\n        display: block;\n      }\n    }\n  }\n  &__error {\n    display: none;\n    position: absolute;\n    top: 50%;\n    transform: translateY(-50%);\n    right: 5px;\n    width: 16px;\n    height: 16px;\n  }\n  &__image {\n    margin-right: 8px;\n    img {\n      height: 60px;\n      width: 60px;\n      border-radius: 50%;\n      object-fit: cover;\n    }\n    &_big {\n      img {\n        width: 128px;\n        height: 128px;\n      }\n    }\n  }\n  &__name {\n    margin-bottom: 5px;\n    font-size: 24px;\n  }\n  &__icon {\n    margin-right: 10px;\n  }\n  &__roles {\n    display: flex;\n    li {\n      position: relative;\n      display: flex;\n      align-items: center;\n      p {\n        font-size: 12px;\n        font-weight: 700;\n        line-height: 20px;\n        padding: 2px 8px;\n        border-radius: 8px;\n        cursor: pointer;\n      }\n      &:not(:last-child) {\n        margin-right: 18px;\n      }\n      &:not(:last-child):after {\n        content: \"\";\n        position: absolute;\n        height: 100%;\n        width: 2px;\n        background: #e2e2e2;\n        right: -9px;\n      }\n    }\n  }\n  &__require {\n    p {\n      font-size: 12px;\n      &:last-child {\n        margin-top: 8px;\n        font-weight: 400;\n      }\n    }\n  }\n  &__checkbox {\n    cursor: pointer;\n    input {\n      pointer-events: none;\n    }\n  }\n  &__country {\n    display: flex;\n    align-items: center;\n    font-size: 12px;\n    font-weight: 700;\n    padding: 2px 8px;\n    border: 1px solid transparent;\n    border-radius: 8px;\n    cursor: pointer;\n    &_active {\n      border-color: #e11b1b;\n    }\n  }\n  &__upload {\n    opacity: 0;\n    position: absolute;\n  }\n  .main-table__list {\n    justify-content: start;\n  }\n  @media screen and (min-width: 850px) and (max-width: 1600px) {\n    &__row_grid {\n      grid-template-columns: 1fr 5fr;\n    }\n  }\n  @media screen and (min-width: 320px) and (max-width: 1280px) {\n    &__title h4 {\n      font-size: 16px;\n    }\n    &__field label p {\n      font-size: 14px;\n    }\n    &__subtitle {\n      font-size: 14px;\n    }\n    &__image_big {\n      margin-right: 8px;\n    }\n    &__info {\n      &:last-child {\n        max-width: 474px;\n      }\n    }\n    &__name {\n      font-size: 16px;\n    }\n  }\n  @media screen and (min-width: 744px) and (max-width: 850px) {\n    &__row_grid {\n      grid-template-columns: 1fr 3fr;\n    }\n  }\n  @media screen and (min-width: 500px) and (max-width: 744px) {\n    &__row_grid {\n      grid-template: repeat(2, 1fr) / 1fr 3fr;\n    }\n  }\n  @media screen and (min-width: 320px) and (max-width: 500px) {\n    &__row_grid {\n      grid-template: repeat(2, 1fr) / repeat(2, 1fr);\n    }\n  }\n  @media screen and (min-width: 320px) and (max-width: 744px) {\n    &__block_direction,\n    &__row_direction {\n      display: flex;\n      flex-direction: column;\n      align-items: start;\n      row-gap: 10px;\n    }\n    &__field {\n      width: 100%;\n      label {\n        margin-bottom: 4px;\n      }\n    }\n    &__roles {\n      flex-wrap: wrap;\n      row-gap: 5px;\n      li p {\n        font-size: 10px;\n      }\n    }\n    &__row {\n      gap: 5px;\n    }\n    &__row_grid &__image {\n      grid-row: 1;\n    }\n    &__row_grid &__require:nth-child(3) {\n      grid-column: 1 / 3;\n    }\n    &__image_big {\n      margin-right: 0;\n    }\n    &__button {\n      margin-top: -20px;\n    }\n    .main-submit {\n      flex-direction: column;\n      row-gap: 10px;\n      button {\n        margin-right: 0 !important;\n      }\n    }\n  }\n}\n</style>"]}]}