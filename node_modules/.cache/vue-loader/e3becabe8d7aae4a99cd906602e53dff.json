{"remainingRequest":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\src\\components\\admin\\Employees\\Profile.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\src\\components\\admin\\Employees\\Profile.vue","mtime":1689173304636},{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686771862028},{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\babel-loader\\lib\\index.js","mtime":1686771872096},{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686771862028},{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\vue-loader\\lib\\index.js","mtime":1686771882662}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IG1hcEFjdGlvbnMgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IEVycm9ySWNvbiBmcm9tICJAL2Fzc2V0cy9pbWFnZXMvaWNvbnMvZXJyb3JTbWFsbC5zdmc/aW5saW5lIjsKCmltcG9ydCBTdGFySWNvbiBmcm9tICJAL2Fzc2V0cy9pbWFnZXMvaWNvbnMvc3Rhci5zdmc/aW5saW5lIjsKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICBjdXJyZW50VXNlcjogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6ICgpID0+IG51bGwsCiAgICB9LAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFsbENvdW50cmllczogWwogICAgICAgICJSVVMiLAogICAgICAgICJCTFIiLAogICAgICAgICJMVFUiLAogICAgICAgICJMQVQiLAogICAgICAgICJLQVoiLAogICAgICAgICJFU1QiLAogICAgICAgICJVS1IiLAogICAgICAgICJQT0wiLAogICAgICAgICJNREEiLAogICAgICBdLAogICAgICBhbGxSb2xlczogWyLQvNC+0LTQtdGA0LDRgtC+0YAiLCAi0YDQtdC00LDQutGC0L7RgCIsICLQsNC00LzQuNC90LjRgdGC0YDQsNGC0L7RgCJdLAogICAgICBjaGFuZ2VkVXNlcjogewogICAgICAgIGlkOiAiIiwKICAgICAgICBuYW1lOiAiIiwKICAgICAgICBzdXJuYW1lOiAiIiwKICAgICAgICBlbWFpbDogIiIsCiAgICAgICAgbG9naW46ICIiLAogICAgICAgIHJvbGVzOiBbXSwKICAgICAgICBwaG90bzogIiIsCiAgICAgICAgcGFzc3dvcmQ6ICIiLAogICAgICAgIGF2YWlsYWJsZUNvdW50cmllczogW10sCiAgICAgIH0sCiAgICAgIGltYWdlVG9TaG93OiBudWxsLAogICAgICBlcnJvcnNUb1N1Ym1pdDogewogICAgICAgIG5hbWU6IGZhbHNlLAogICAgICAgIHN1cm5hbWU6IGZhbHNlLAogICAgICAgIGVtYWlsOiBmYWxzZSwKICAgICAgICBwYXNzd29yZDogZmFsc2UsCiAgICAgICAgcm9sZXM6IGZhbHNlLAogICAgICAgIHBob3RvOiBmYWxzZSwKICAgICAgICBhdmFpbGFibGVDb3VudHJpZXM6IGZhbHNlLAogICAgICB9LAogICAgICByZXBlYXRQYXNzd29yZDogbnVsbCwKICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBTdGFySWNvbiwKICAgIEVycm9ySWNvbiwKICB9LAogIG1vdW50ZWQoKSB7CiAgICBpZiAodGhpcy4kcm91dGUubmFtZSA9PSAiQWRtaW5FbXBsb3llZXNWaWV3IiAmJiB0aGlzLmN1cnJlbnRVc2VyKSB7CiAgICAgIHRoaXMuY2hhbmdlZFVzZXIgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuY3VycmVudFVzZXIpKTsKICAgICAgdGhpcy5yZXBlYXRQYXNzd29yZCA9IHRoaXMuY3VycmVudFVzZXIucGFzc3dvcmQ7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBzYXZlRGF0YShhY3Rpb24pIHsKICAgICAgdGhpcy5oYXNFcnJvcigpOwogICAgICBmb3IgKGxldCBlcnIgaW4gdGhpcy5lcnJvcnNUb1N1Ym1pdCkgewogICAgICAgIGlmICh0aGlzLmVycm9yc1RvU3VibWl0W2Vycl0gPT0gdHJ1ZSkgewogICAgICAgICAgY29uc29sZS5lcnJvcihgJHtlcnJ9OiBmYWxzZWApOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoYWN0aW9uID09ICJuZXdVc2VyIikgewogICAgICAgIHRoaXMuQ1JFQVRFX1VTRVIodGhpcy5jaGFuZ2VkVXNlcik7CiAgICAgICAgLy8gdGhpcy4kcm91dGVyLnB1c2goeyBwYXRoOiAiL2FkbWluL0VtcGxveWVlcy9saXN0IiB9KTsKICAgICAgfSBlbHNlIGlmIChhY3Rpb24gPT0gInNhdmVDaGFuZ2UiKSB7CiAgICAgICAgdGhpcy5DSEFOR0VfVVNFUih0aGlzLmNoYW5nZWRVc2VyKTsKICAgICAgfQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IG5hbWU6ICJBZG1pbkVtcGxveWVlc1RhYmxlIiB9KTsKICAgIH0sCiAgICBoYXNFcnJvcigpIHsKICAgICAgbGV0IHJlRW1haWwgPQogICAgICAgIC9eKChbXjw+KClbXF1cXC4sOzpcc0AiXSsoXC5bXjw+KClbXF1cXC4sOzpcc0AiXSspKil8LigiLisiKSlAKChcW1swLTldezEsM31cLlswLTldezEsM31cLlswLTldezEsM31cLlswLTldezEsM31cXSl8KChbYS16QS1aXC0wLTldK1wuKStbYS16QS1aXXsyLH0pKSQvOwogICAgICBsZXQgcmVQYXNzd29yZCA9IC9eLiooPz0uezgsfSkoPz0uKlthLXpBLVpdKSg/PS4qXGQpLiokLzsKICAgICAgdGhpcy5lcnJvcnNUb1N1Ym1pdC5uYW1lID0gdGhpcy5jaGFuZ2VkVXNlci5uYW1lID8gZmFsc2UgOiB0cnVlOyAvLyDQktCw0LvQuNC00LDRhtC40Y8g0LjQvNC10L3QuAogICAgICB0aGlzLmVycm9yc1RvU3VibWl0LnN1cm5hbWUgPSB0aGlzLmNoYW5nZWRVc2VyLnN1cm5hbWUgPyBmYWxzZSA6IHRydWU7IC8v0JLQsNC70LjQtNCw0YbQuNGPINGE0LDQvNC40LvQuNC4CiAgICAgIHRoaXMuZXJyb3JzVG9TdWJtaXQuZW1haWwgPSAhcmVFbWFpbC50ZXN0KHRoaXMuY2hhbmdlZFVzZXIuZW1haWwpOyAvL9CS0LDQu9C40LTQsNGG0LjRjyDQv9C+0YfRgtGLCiAgICAgIHRoaXMuZXJyb3JzVG9TdWJtaXQucm9sZXMgPQogICAgICAgIHRoaXMuY2hhbmdlZFVzZXIucm9sZXMubGVuZ3RoID09IDAgPyB0cnVlIDogZmFsc2U7IC8v0JLQsNC70LjQtNCw0YbQuNGPINGA0L7Qu9C10LkKICAgICAgdGhpcy5lcnJvcnNUb1N1Ym1pdC5waG90byA9IHRoaXMuY2hhbmdlZFVzZXIucGhvdG8KICAgICAgICA/IGZhbHNlCiAgICAgICAgOiB0aGlzLmN1cnJlbnRVc2VyID09IG51bGwKICAgICAgICA/IHRydWUKICAgICAgICA6IGZhbHNlOyAvL9CS0LDQu9C40LTQsNGG0LjRjyDQsNCy0LDRgtCw0YDQutC4CiAgICAgIHRoaXMuZXJyb3JzVG9TdWJtaXQuYXZhaWxhYmxlQ291bnRyaWVzID0KICAgICAgICB0aGlzLmNoYW5nZWRVc2VyLmF2YWlsYWJsZUNvdW50cmllcy5sZW5ndGggPT0gMCA/IHRydWUgOiBmYWxzZTsgLy/QktCw0LvQuNC00LDRhtC40Y8g0LTQvtGB0YLRg9C/0LAg0Log0YHRgtGA0LDQvdCw0LwKICAgICAgdGhpcy5lcnJvcnNUb1N1Ym1pdC5wYXNzd29yZCA9ICEoCiAgICAgICAgKAogICAgICAgICAgcmVQYXNzd29yZC50ZXN0KHRoaXMuY2hhbmdlZFVzZXIucGFzc3dvcmQpICYmCiAgICAgICAgICB0aGlzLnJlcGVhdFBhc3N3b3JkID09IHRoaXMuY2hhbmdlZFVzZXIucGFzc3dvcmQKICAgICAgICApIC8v0JLQsNC70LjQtNCw0YbQuNGPINC/0LDRgNC+0LvRjwogICAgICApOwogICAgfSwKICAgIGNoYW5nZUNvdW50cnkoY291bnRyeSkgewogICAgICBpZiAoY291bnRyeSA9PSAi0JLRgdC1IikgewogICAgICAgIHRoaXMuY2hhbmdlZFVzZXIuYXZhaWxhYmxlQ291bnRyaWVzID0gdGhpcy5hbGxDb3VudHJpZXMuc2xpY2UoKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdGhpcy50b2dnbGVBcnJheSh0aGlzLmNoYW5nZWRVc2VyLmF2YWlsYWJsZUNvdW50cmllcywgY291bnRyeSk7CiAgICB9LAogICAgdG9nZ2xlQXJyYXkoYXJyYXksIGl0ZW0pIHsKICAgICAgbGV0IGluZGV4ID0gYXJyYXkuaW5kZXhPZihpdGVtKTsKICAgICAgaW5kZXggPT0gLTEKICAgICAgICA/IGFycmF5LnB1c2goaXRlbSkKICAgICAgICA6IGFycmF5Lmxlbmd0aCA+IDEKICAgICAgICA/IGFycmF5LnNwbGljZShpbmRleCwgMSkKICAgICAgICA6IGZhbHNlOwogICAgfSwKICAgIHVwbG9hZEltYWdlKGUpIHsKICAgICAgY29uc3QgaW1hZ2UgPSBlLnRhcmdldC5maWxlc1swXTsKICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKICAgICAgbGV0IGNoYW5nZVNyYyA9IChzcmMpID0+IHsKICAgICAgICB0aGlzLmNoYW5nZWRVc2VyLnBob3RvID0gc3JjOwogICAgICAgIHRoaXMuaW1hZ2VUb1Nob3cgPSBzcmM7CiAgICAgIH07CiAgICAgIGlmIChpbWFnZSAmJiBpbWFnZS5zaXplID4gMTAyNCAqIDEwMjQpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCLQmNC30L7QsdGA0LDQttC10L3QuNC1INGB0LvQuNGI0LrQvtC8INCx0L7Qu9GM0YjQvtC1Iik7CgogICAgICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSBpZiAoaW1hZ2UpIHsKICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChpbWFnZSk7CiAgICAgICAgcmVhZGVyLm9ubG9hZCA9IChlKSA9PiB7CiAgICAgICAgICBsZXQgc3JjID0gZS50YXJnZXQucmVzdWx0OwogICAgICAgICAgbGV0IGxvYWRJbWFnZSA9IG5ldyBJbWFnZSgpOwogICAgICAgICAgbG9hZEltYWdlLnNyYyA9IHNyYzsKICAgICAgICAgIGxvYWRJbWFnZS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmICh0aGlzLndpZHRoIDwgMjAwIHx8IHRoaXMuaGVpZ2h0IDwgMjAwKSB7CiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcigi0JjQt9C+0LHRgNCw0LbQtdC90LjQtSDRgdC70LjRiNC60L7QvCDQvNCw0LvQtdC90YzQutC+0LUiKTsKICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgICAgc3JjID0gIiI7CiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNoYW5nZVNyYyhzcmMpOwogICAgICAgICAgfTsKICAgICAgICB9OwogICAgICB9CiAgICB9LAogICAgLi4ubWFwQWN0aW9ucygiVXNlcnMiLCBbIkNSRUFURV9VU0VSIiwgIkNIQU5HRV9VU0VSIl0pLAogIH0sCiAgd2F0Y2g6IHsKICAgIGN1cnJlbnRVc2VyKG5ld1ZhbHVlKSB7CiAgICAgIHRoaXMuY3VycmVudFVzZXIgPSBuZXdWYWx1ZTsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["Profile.vue"],"names":[],"mappings":";AAmWA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Profile.vue","sourceRoot":"src/components/admin/Employees","sourcesContent":["<template>\n  <div class=\"employees-profile\">\n    <div class=\"employees-profile__content main-content main-color\">\n      <div class=\"employees-profile__top main-line\">\n        <div class=\"employees-profile__title\">\n          <h4 v-if=\"$route.name == 'AdminEmployeesView'\">Просмотр профиля</h4>\n          <h4 v-else>Регистрация нового сотрудника</h4>\n        </div>\n        <div class=\"main-filter\" v-if=\"$route.name == 'AdminEmployeesView'\">\n          <div class=\"main-filter__block\">\n            <button\n              class=\"main-filter__button\"\n              :class=\"{\n                'main-filter__button_active':\n                  $route.name == 'AdminEmployeesView',\n              }\"\n            >\n              Профиль\n            </button>\n          </div>\n          <div class=\"main-filter__block\">\n            <button class=\"main-filter__button\">KPI</button>\n          </div>\n        </div>\n      </div>\n      <div class=\"employees-profile__body\">\n        <div class=\"employees-profile__form\">\n          <div class=\"employees-profile__block\" v-if=\"currentUser\">\n            <div class=\"employees-profile__row\">\n              <div class=\"employees-profile__image\">\n                <img\n                  type=\"image\"\n                  class=\"employees-profile__image\"\n                  :src=\"require('@/assets/images/users/avatar2.png')\"\n                  alt=\"user\"\n                />\n              </div>\n              <div class=\"employees-profile__info\">\n                <p class=\"employees-profile__name\">\n                  {{ currentUser.name }} {{ currentUser.surname }}\n                  {{ currentUser.email }}\n                </p>\n                <ul class=\"main-table__list main-table__list\">\n                  <li\n                    v-for=\"country in currentUser.availableCountries\"\n                    :key=\"country\"\n                  >\n                    <div class=\"main-table__icon\">\n                      <img\n                        :src=\"\n                          require(`@/assets/images/icons/flags/${country.toLowerCase()}.svg`)\n                        \"\n                        alt=\"\"\n                      />\n                    </div>\n                    <p class=\"main-table__text main-table__text_bold\">\n                      {{ country }}\n                    </p>\n                  </li>\n                </ul>\n              </div>\n            </div>\n          </div>\n          <div class=\"employees-profile__block\">\n            <div\n              class=\"employees-profile__row employees-profile__row_direction\"\n            >\n              <div\n                class=\"employees-profile__field\"\n                :class=\"{\n                  'employees-profile__field_error': errorsToSubmit.name,\n                }\"\n              >\n                <label for=\"EmployeesProfileName\">\n                  <div class=\"employees-profile__icon\">\n                    <StarIcon />\n                  </div>\n                  <p>Имя(имя и отчество):</p>\n                </label>\n                <div class=\"employees-profile__input\">\n                  <input\n                    type=\"text\"\n                    id=\"EmployeesProfileName\"\n                    v-model=\"changedUser.name\"\n                    placeholder=\"Введите имя\"\n                  />\n                  <div class=\"employees-profile__error\">\n                    <ErrorIcon />\n                  </div>\n                </div>\n              </div>\n              <div\n                class=\"employees-profile__field\"\n                :class=\"{\n                  'employees-profile__field_error': errorsToSubmit.surname,\n                }\"\n              >\n                <label for=\"EmployeesProfileSurname\">\n                  <div class=\"employees-profile__icon\">\n                    <StarIcon />\n                  </div>\n                  <p>Фамилия:</p>\n                </label>\n                <div class=\"employees-profile__input\">\n                  <input\n                    type=\"text\"\n                    id=\"EmployeesProfileSurname\"\n                    v-model=\"changedUser.surname\"\n                    placeholder=\"Введите фамилию\"\n                  />\n                  <div class=\"employees-profile__error\">\n                    <ErrorIcon />\n                  </div>\n                </div>\n              </div>\n              <div\n                class=\"employees-profile__field\"\n                :class=\"{\n                  'employees-profile__field_error': errorsToSubmit.email,\n                }\"\n              >\n                <label for=\"EmployeesProfileEmail\">\n                  <div class=\"employees-profile__icon\">\n                    <StarIcon />\n                  </div>\n                  <p>e-mail:</p>\n                </label>\n                <div class=\"employees-profile__input\">\n                  <input\n                    type=\"text\"\n                    id=\"EmployeesProfileEmail\"\n                    v-model=\"changedUser.email\"\n                    placeholder=\"Введите E-mail\"\n                  />\n                  <div class=\"employees-profile__error\">\n                    <ErrorIcon />\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"employees-profile__block\">\n            <div class=\"employees-profile__subtitle\">\n              <div class=\"employees-profile__icon\">\n                <StarIcon />\n              </div>\n              <h4>Доступ к публикациям</h4>\n            </div>\n            <div class=\"employees-profile__row\">\n              <ul\n                class=\"main-table__list main-table__list employees-profile__access\"\n              >\n                <li\n                  v-for=\"country in allCountries\"\n                  :key=\"country\"\n                  class=\"employees-profile__country\"\n                  :class=\"{\n                    'employees-profile__country_active':\n                      changedUser.availableCountries\n                        ? changedUser.availableCountries.includes(country)\n                        : false,\n                  }\"\n                  @click=\"changeCountry(country)\"\n                >\n                  <div class=\"main-table__icon\">\n                    <img\n                      :src=\"\n                        require(`@/assets/images/icons/flags/${country.toLowerCase()}.svg`)\n                      \"\n                      alt=\"\"\n                    />\n                  </div>\n                  <p class=\"main-table__text main-table__text_bold\">\n                    {{ country }}\n                  </p>\n                </li>\n                <li>\n                  <button class=\"button-red\" @click=\"changeCountry('Все')\">\n                    Выбрать все\n                  </button>\n                </li>\n              </ul>\n            </div>\n            <div class=\"employees-profile__block\">\n              <div class=\"employees-profile__subtitle\">\n                <div class=\"employees-profile__icon\">\n                  <StarIcon />\n                </div>\n                <h4>Роли</h4>\n              </div>\n              <div class=\"employees-profile__row\">\n                <ul class=\"employees-profile__roles\">\n                  <li\n                    v-for=\"role in allRoles\"\n                    :key=\"role\"\n                    @click=\"toggleArray(changedUser.roles, role)\"\n                  >\n                    <div class=\"employees-profile__checkbox main-checkbox\">\n                      <input\n                        type=\"checkbox\"\n                        :checked=\"\n                          changedUser.roles.some((e) => e == role)\n                            ? true\n                            : false\n                        \"\n                        class=\"main-checkbox__input\"\n                      />\n                      <div class=\"main-checkbox__checkmark\"></div>\n                      <div class=\"checkbox__body\"></div>\n                    </div>\n                    <p\n                      :style=\"{\n                        'background-color':\n                          role == 'модератор'\n                            ? '#C0FBFF'\n                            : role == 'редактор'\n                            ? '#D0FFD2'\n                            : '#FFDDDD',\n                      }\"\n                    >\n                      {{ role }}\n                    </p>\n                  </li>\n                </ul>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"employees-profile__form\">\n          <div\n            class=\"employees-profile__block employees-profile__title main-line\"\n          >\n            <h4>Загрузить фото</h4>\n          </div>\n          <div class=\"employees-profile__block\">\n            <div\n              class=\"employees-profile__subtitle employees-profile__subtitle_light\"\n            >\n              <div class=\"employees-profile__icon\">\n                <StarIcon />\n              </div>\n              <h4>Обязательно для заполнения</h4>\n            </div>\n            <div class=\"employees-profile__row employees-profile__row_grid\">\n              <div\n                class=\"employees-profile__image employees-profile__image_big\"\n              >\n                <img\n                  type=\"image\"\n                  :src=\"\n                    imageToShow || require('@/assets/images/users/empty.png')\n                  \"\n                  alt=\"user\"\n                />\n              </div>\n              <div class=\"employees-profile__require\">\n                <p>Требование к фото:</p>\n                <p>\n                  объем не более 1МБ, размер не менее 200х200 пикселей, формат\n                  jpg, jpeg, png\n                </p>\n              </div>\n              <div class=\"employees-profile__require\">\n                <p>Просьба</p>\n                <p>\n                  Постарайтесь, пожалуйста, подобрать фото или картинку так,\n                  чтобы она хорошо читалась. Была яркая и внятная. Всегда\n                  приятно при общении видеть лицо собеседника.\n                </p>\n              </div>\n              <div class=\"employees-profile__button\">\n                <label for=\"uploadPhoto\" class=\"button-red\"\n                  >Изменить фото</label\n                >\n                <input\n                  type=\"file\"\n                  class=\"employees-profile__upload\"\n                  id=\"uploadPhoto\"\n                  accept=\"image/jpeg, image/png, image.jpg\"\n                  @change=\"uploadImage\"\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"employees-profile__form\">\n          <div\n            class=\"employees-profile__block employees-profile__title main-line\"\n          >\n            <h4>Пароль</h4>\n          </div>\n          <div class=\"employees-profile__block employees-profile__block\">\n            <div\n              class=\"employees-profile__row employees-profile__row_direction\"\n            >\n              <div\n                class=\"employees-profile__field\"\n                :class=\"{\n                  'employees-profile__field_error': errorsToSubmit.password,\n                }\"\n              >\n                <label for=\"EmployeesProfilePassword\">\n                  <p>Введите новый пароль:</p>\n                </label>\n                <div class=\"employees-profile__input\">\n                  <input\n                    type=\"password\"\n                    id=\"EmployeesProfilePassword\"\n                    placeholder=\"Введите новый пароль\"\n                    v-model=\"changedUser.password\"\n                  />\n                  <div class=\"employees-profile__error\">\n                    <ErrorIcon />\n                  </div>\n                </div>\n              </div>\n              <div\n                class=\"employees-profile__field\"\n                :class=\"{\n                  'employees-profile__field_error': errorsToSubmit.password,\n                }\"\n              >\n                <label for=\"EmployeesProfileRepeatPassword\">\n                  <p>Подтвердите пароль:</p>\n                </label>\n                <div class=\"employees-profile__input\">\n                  <input\n                    type=\"password\"\n                    id=\"EmployeesProfileRepeatPassword\"\n                    placeholder=\"Подтвердите пароль\"\n                    v-model=\"repeatPassword\"\n                  />\n                  <div class=\"employees-profile__error\">\n                    <ErrorIcon />\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"main-submit\" v-if=\"currentUser == null\">\n      <button @click=\"saveData('newUser')\">\n        Зарегестрировать пользователя\n      </button>\n    </div>\n    <div class=\"main-submit\" v-else>\n      <button @click=\"saveData('saveChange')\">Сохранить изменения</button>\n      <button @click=\"saveData('deleteUser')\">Удалить профиль</button>\n    </div>\n  </div>\n</template>\n<script>\nimport { mapActions } from \"vuex\";\nimport ErrorIcon from \"@/assets/images/icons/errorSmall.svg?inline\";\n\nimport StarIcon from \"@/assets/images/icons/star.svg?inline\";\nexport default {\n  props: {\n    currentUser: {\n      type: Object,\n      default: () => null,\n    },\n  },\n  data() {\n    return {\n      allCountries: [\n        \"RUS\",\n        \"BLR\",\n        \"LTU\",\n        \"LAT\",\n        \"KAZ\",\n        \"EST\",\n        \"UKR\",\n        \"POL\",\n        \"MDA\",\n      ],\n      allRoles: [\"модератор\", \"редактор\", \"администратор\"],\n      changedUser: {\n        id: \"\",\n        name: \"\",\n        surname: \"\",\n        email: \"\",\n        login: \"\",\n        roles: [],\n        photo: \"\",\n        password: \"\",\n        availableCountries: [],\n      },\n      imageToShow: null,\n      errorsToSubmit: {\n        name: false,\n        surname: false,\n        email: false,\n        password: false,\n        roles: false,\n        photo: false,\n        availableCountries: false,\n      },\n      repeatPassword: null,\n    };\n  },\n  components: {\n    StarIcon,\n    ErrorIcon,\n  },\n  mounted() {\n    if (this.$route.name == \"AdminEmployeesView\" && this.currentUser) {\n      this.changedUser = JSON.parse(JSON.stringify(this.currentUser));\n      this.repeatPassword = this.currentUser.password;\n    }\n  },\n  methods: {\n    saveData(action) {\n      this.hasError();\n      for (let err in this.errorsToSubmit) {\n        if (this.errorsToSubmit[err] == true) {\n          console.error(`${err}: false`);\n          return;\n        }\n      }\n      if (action == \"newUser\") {\n        this.CREATE_USER(this.changedUser);\n        // this.$router.push({ path: \"/admin/Employees/list\" });\n      } else if (action == \"saveChange\") {\n        this.CHANGE_USER(this.changedUser);\n      }\n      this.$router.push({ name: \"AdminEmployeesTable\" });\n    },\n    hasError() {\n      let reEmail =\n        /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|.(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n      let rePassword = /^.*(?=.{8,})(?=.*[a-zA-Z])(?=.*\\d).*$/;\n      this.errorsToSubmit.name = this.changedUser.name ? false : true; // Валидация имени\n      this.errorsToSubmit.surname = this.changedUser.surname ? false : true; //Валидация фамилии\n      this.errorsToSubmit.email = !reEmail.test(this.changedUser.email); //Валидация почты\n      this.errorsToSubmit.roles =\n        this.changedUser.roles.length == 0 ? true : false; //Валидация ролей\n      this.errorsToSubmit.photo = this.changedUser.photo\n        ? false\n        : this.currentUser == null\n        ? true\n        : false; //Валидация аватарки\n      this.errorsToSubmit.availableCountries =\n        this.changedUser.availableCountries.length == 0 ? true : false; //Валидация доступа к странам\n      this.errorsToSubmit.password = !(\n        (\n          rePassword.test(this.changedUser.password) &&\n          this.repeatPassword == this.changedUser.password\n        ) //Валидация пароля\n      );\n    },\n    changeCountry(country) {\n      if (country == \"Все\") {\n        this.changedUser.availableCountries = this.allCountries.slice();\n        return;\n      }\n      this.toggleArray(this.changedUser.availableCountries, country);\n    },\n    toggleArray(array, item) {\n      let index = array.indexOf(item);\n      index == -1\n        ? array.push(item)\n        : array.length > 1\n        ? array.splice(index, 1)\n        : false;\n    },\n    uploadImage(e) {\n      const image = e.target.files[0];\n      const reader = new FileReader();\n      let changeSrc = (src) => {\n        this.changedUser.photo = src;\n        this.imageToShow = src;\n      };\n      if (image && image.size > 1024 * 1024) {\n        console.error(\"Изображение слишком большое\");\n\n        e.preventDefault();\n        return;\n      } else if (image) {\n        reader.readAsDataURL(image);\n        reader.onload = (e) => {\n          let src = e.target.result;\n          let loadImage = new Image();\n          loadImage.src = src;\n          loadImage.onload = function () {\n            if (this.width < 200 || this.height < 200) {\n              console.error(\"Изображение слишком маленькое\");\n              e.preventDefault();\n              src = \"\";\n              return;\n            }\n            changeSrc(src);\n          };\n        };\n      }\n    },\n    ...mapActions(\"Users\", [\"CREATE_USER\", \"CHANGE_USER\"]),\n  },\n  watch: {\n    currentUser(newValue) {\n      this.currentUser = newValue;\n    },\n  },\n};\n</script>\n<style lang=\"scss\">\n.employees-profile {\n  h4,\n  p,\n  input {\n    color: #353132;\n    font-weight: 700;\n  }\n  &__content {\n    padding: 16px;\n    border-radius: 16px;\n  }\n  &__top {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n  }\n  &__title {\n    font-size: 24px;\n    font-weight: 700;\n  }\n  &__subtitle {\n    margin-bottom: 8px;\n    display: flex;\n    align-items: center;\n    &_light {\n      h4 {\n        font-size: 12px;\n        font-weight: 400;\n      }\n    }\n  }\n  &__block {\n    margin-top: 16px;\n  }\n  &__row {\n    display: flex;\n    align-items: center;\n    &_grid {\n      display: grid;\n      align-items: center;\n      grid-template: repeat(3, 1fr) / 1fr 8fr;\n    }\n  }\n  &__row_grid &__image {\n    grid-row: 1 / 4;\n  }\n  &__input {\n    position: relative;\n  }\n  &__field {\n    &:not(:last-child) {\n      margin-right: 20px;\n    }\n    label {\n      display: flex;\n      align-items: center;\n      margin-bottom: 8px;\n      p {\n        font-weight: 700;\n      }\n    }\n    input {\n      position: relative;\n      padding: 2px 0 2px 8px;\n      border: 1px solid #c0c0c0;\n      border-radius: 8px;\n      width: 100%;\n    }\n    &_error {\n      input {\n        color: #b90c0c;\n        border-color: #b90c0c;\n        &::placeholder {\n          color: #b90c0c;\n        }\n      }\n      .employees-profile__error {\n        display: block;\n      }\n    }\n  }\n  &__error {\n    display: none;\n    position: absolute;\n    top: 50%;\n    transform: translateY(-50%);\n    right: 5px;\n    width: 16px;\n    height: 16px;\n  }\n  &__image {\n    margin-right: 8px;\n    img {\n      height: 60px;\n      width: 60px;\n      border-radius: 50%;\n      object-fit: cover;\n    }\n    &_big {\n      img {\n        width: 128px;\n        height: 128px;\n      }\n    }\n  }\n  &__name {\n    margin-bottom: 5px;\n    font-size: 24px;\n  }\n  &__icon {\n    path {\n      stroke: #353132;\n    }\n    margin-right: 10px;\n  }\n  &__roles {\n    display: flex;\n    li {\n      position: relative;\n      display: flex;\n      align-items: center;\n      p {\n        font-size: 12px;\n        font-weight: 700;\n        line-height: 20px;\n        padding: 2px 8px;\n        border-radius: 8px;\n        cursor: pointer;\n      }\n      &:not(:last-child) {\n        margin-right: 18px;\n      }\n      &:not(:last-child):after {\n        content: \"\";\n        position: absolute;\n        height: 100%;\n        width: 2px;\n        background: #e2e2e2;\n        right: -9px;\n      }\n    }\n  }\n  &__require {\n    p {\n      font-size: 12px;\n      &:last-child {\n        margin-top: 8px;\n        font-weight: 400;\n      }\n    }\n  }\n  &__checkbox {\n    cursor: pointer;\n    input {\n      pointer-events: none;\n    }\n  }\n  &__country {\n    display: flex;\n    align-items: center;\n    font-size: 12px;\n    font-weight: 700;\n    padding: 2px 8px;\n    border: 1px solid transparent;\n    border-radius: 8px;\n    cursor: pointer;\n    &_active {\n      border-color: #e11b1b;\n    }\n  }\n  &__upload {\n    opacity: 0;\n    position: absolute;\n  }\n  .main-table__list {\n    justify-content: start;\n  }\n  @media screen and (min-width: 850px) and (max-width: 1600px) {\n    &__row_grid {\n      grid-template-columns: 1fr 5fr;\n    }\n  }\n  @media screen and (min-width: 320px) and (max-width: 1280px) {\n    &__title h4 {\n      font-size: 16px;\n    }\n    &__field label p {\n      font-size: 14px;\n    }\n    &__subtitle {\n      font-size: 14px;\n    }\n    &__image_big {\n      margin-right: 8px;\n    }\n    &__info {\n      &:last-child {\n        max-width: 474px;\n      }\n    }\n    &__name {\n      font-size: 16px;\n    }\n  }\n  @media screen and (min-width: 744px) and (max-width: 850px) {\n    &__row_grid {\n      grid-template-columns: 1fr 3fr;\n    }\n  }\n  @media screen and (min-width: 500px) and (max-width: 744px) {\n    &__row_grid {\n      grid-template: repeat(2, 1fr) / 1fr 3fr;\n    }\n  }\n  @media screen and (min-width: 320px) and (max-width: 500px) {\n    &__row_grid {\n      grid-template: repeat(2, 1fr) / repeat(2, 1fr);\n    }\n  }\n  @media screen and (min-width: 320px) and (max-width: 744px) {\n    &__block_direction,\n    &__row_direction {\n      display: flex;\n      flex-direction: column;\n      align-items: start;\n      row-gap: 10px;\n    }\n    &__field {\n      width: 100%;\n      label {\n        margin-bottom: 4px;\n      }\n    }\n    &__roles {\n      flex-wrap: wrap;\n      row-gap: 5px;\n      li p {\n        font-size: 10px;\n      }\n    }\n    &__row {\n      gap: 5px;\n    }\n    &__row_grid &__image {\n      grid-row: 1;\n    }\n    &__row_grid &__require:nth-child(3) {\n      grid-column: 1 / 3;\n    }\n    &__image_big {\n      margin-right: 0;\n    }\n    &__button {\n      margin-top: -20px;\n    }\n    .main-submit {\n      flex-direction: column;\n      row-gap: 10px;\n      button {\n        margin-right: 0 !important;\n      }\n    }\n  }\n}\n</style>"]}]}