{"remainingRequest":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\src\\components\\main\\PublicationsModal.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\src\\components\\main\\PublicationsModal.vue","mtime":1686876653132},{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\babel.config.js","mtime":1686568669000},{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686771862028},{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\babel-loader\\lib\\index.js","mtime":1686771872096},{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686771862028},{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\vue-loader\\lib\\index.js","mtime":1686771882662}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IHsKICAgIGN1cnJlbnRBcnRpY2xlOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogKCkgPT4ge30KICAgIH0sCiAgICBjbGFzc09mUGFyZW50OiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogKCkgPT4gIiIKICAgIH0sCiAgICBwb3NpdGlvbjogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICgpID0+ICIiCiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCBlbGVtZW50ID0+IHsKICAgICAgW10uZm9yRWFjaC5jYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIi5wdWJsaWNhdGlvbnMtbW9kYWwiKSwgZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZSgicHVibGljYXRpb25zLW1vZGFsX2xlZnQiKTsKICAgICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKCJwdWJsaWNhdGlvbnMtbW9kYWxfcmlnaHQiKTsKICAgICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKCJwdWJsaWNhdGlvbnMtbW9kYWxfdG9wIik7CiAgICAgIH0pOwogICAgICBpZiAoZWxlbWVudC50YXJnZXQuY2xvc2VzdChgLiR7dGhpcy5jbGFzc09mUGFyZW50fWApID09IG51bGwpIHsKICAgICAgICB0aGlzLiRlbWl0KCJjbG9zZU1vZGFsIiwgbnVsbCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbGV0IGNoaWxkID0gZWxlbWVudC50YXJnZXQucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKCIucHVibGljYXRpb25zLW1vZGFsIik7CiAgICAgICAgbGV0IHBhcmVudCA9IHRoaXMuQ29udGFpbmVyOwogICAgICAgIC8vINCj0LTQsNC70Y/QtdC8INGDINCy0YHQtdGFINC80L7QtNCw0LvQvtC6INC60LvQsNGB0YHRiyAiX3JpZ2h0IiDQuCAiX2xlZnQiCiAgICAgICAgaWYgKHRoaXMucG9zaXRpb24gPT0gInRvcCIpIHsKICAgICAgICAgIGNoaWxkLmNsYXNzTGlzdC5hZGQoInB1YmxpY2F0aW9ucy1tb2RhbF90b3AiKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgaWYgKHRoaXMuQ29udGFpbmVyLndpZHRoID49IDYzMikgewogICAgICAgICAgLy8g0J/RgNC+0LLQtdGA0Y/QtdC8LCDQstGL0YXQvtC00LjRgiDQu9C4INC80L7QtNCw0LvQutCwINC30LAg0L/RgNC10LTQtdC70Ysg0LrQvtC90YLQtdC50L3QtdGA0LAKICAgICAgICAgIGlmIChwYXJlbnQucmlnaHQgPD0gY2hpbGQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkucmlnaHQpIHsKICAgICAgICAgICAgY2hpbGQuY2xhc3NMaXN0LmFkZCgicHVibGljYXRpb25zLW1vZGFsX2xlZnQiKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNoaWxkLmNsYXNzTGlzdC5hZGQoInB1YmxpY2F0aW9ucy1tb2RhbF9yaWdodCIpOwogICAgICAgICAgfQogICAgICAgICAgaWYgKHBhcmVudC5sZWZ0ID4gY2hpbGQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCkgewogICAgICAgICAgICBjaGlsZC5jbGFzc0xpc3QucmVtb3ZlKCJwdWJsaWNhdGlvbnMtbW9kYWxfbGVmdCIpOwogICAgICAgICAgICBjaGlsZC5jbGFzc0xpc3QuYWRkKCJwdWJsaWNhdGlvbnMtbW9kYWxfcmlnaHQiKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgY2hpbGQuY2xhc3NMaXN0LmFkZCgicHVibGljYXRpb25zLW1vZGFsX3RvcCIpOwogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgfSwKICBjb21wdXRlZDogewogICAgLi4ubWFwR2V0dGVycyh7CiAgICAgIGdldEF1dGhvcjogIk1haW4vZ2V0QXV0aG9yQnlJZCIsCiAgICAgIFVzZXJCeUlkOiAiVXNlcnMvZ2V0VXNlckJ5SWQiLAogICAgICBDb250YWluZXI6ICJNYWluL2dldFNpemVPZkNvbnRhaW5lciIKICAgIH0pCiAgfQp9Ow=="},{"version":3,"names":["mapGetters","props","currentArticle","type","Object","default","classOfParent","String","position","mounted","document","addEventListener","element","forEach","call","querySelectorAll","el","classList","remove","target","closest","$emit","child","parentNode","querySelector","parent","Container","add","width","right","getBoundingClientRect","left","computed","getAuthor","UserById"],"sources":["src/components/main/PublicationsModal.vue"],"sourcesContent":["<template>\r\n  <div class=\"publications-modal\">\r\n    <div class=\"publications-modal__content\">\r\n      <div class=\"publications-modal__row\">\r\n        <div class=\"publications-modal__parameter\">\r\n          <p>ID</p>\r\n        </div>\r\n        <div class=\"publications-modal__value\">\r\n          <p>{{ currentArticle.id }}</p>\r\n        </div>\r\n      </div>\r\n      <div class=\"publications-modal__row\">\r\n        <div class=\"publications-modal__parameter\">\r\n          <p>Заголовок</p>\r\n        </div>\r\n        <div class=\"publications-modal__value\">\r\n          <p>{{ currentArticle.title }}</p>\r\n        </div>\r\n      </div>\r\n      <div class=\"publications-modal__row\">\r\n        <div class=\"publications-modal__parameter\">\r\n          <p>Автор</p>\r\n        </div>\r\n        <div class=\"publications-modal__value\">\r\n          <div class=\"main-table-author\">\r\n            <div class=\"main-table-author__image\">\r\n              <img\r\n                :src=\"require('@/assets/images/users/avatar2.png')\"\r\n                alt=\"user\"\r\n              />\r\n            </div>\r\n            <div class=\"main-table-author__info\">\r\n              <p class=\"main-table-author__name\">\r\n                {{\r\n                  getAuthor(currentArticle.authorId)\r\n                    ? getAuthor(currentArticle.authorId).name\r\n                    : \"\"\r\n                }}\r\n                {{\r\n                  getAuthor(currentArticle.authorId)\r\n                    ? getAuthor(currentArticle.authorId).surname\r\n                    : \"\"\r\n                }}\r\n              </p>\r\n              <p class=\"main-table-author__tag\">\r\n                {{\r\n                  getAuthor(currentArticle.authorId)\r\n                    ? getAuthor(currentArticle.authorId).tag\r\n                    : \"\"\r\n                }}\r\n              </p>\r\n              <ul class=\"main-table-author__list\">\r\n                <li\r\n                  v-for=\"role in getAuthor(currentArticle.authorId)\r\n                    ? getAuthor(currentArticle.authorId).roles\r\n                    : []\"\r\n                  :key=\"role\"\r\n                  :style=\"[\r\n                    role == 'Лидер мнений'\r\n                      ? { background: '#CEE9FF' }\r\n                      : { background: '#E2E2E2' },\r\n                  ]\"\r\n                >\r\n                  <p>{{ role }}</p>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"publications-modal__row\">\r\n        <div class=\"publications-modal__parameter\">\r\n          <p>Создано</p>\r\n        </div>\r\n        <div class=\"publications-modal__value\">\r\n          <p>{{ currentArticle.created }}</p>\r\n        </div>\r\n      </div>\r\n      <div class=\"publications-modal__row\">\r\n        <div class=\"publications-modal__parameter\">\r\n          <p>Страны</p>\r\n        </div>\r\n        <div class=\"publications-modal__value\">\r\n          <ul class=\"main-table__list\">\r\n            <li\r\n              v-for=\"country in currentArticle.availableCountries\"\r\n              :key=\"country\"\r\n            >\r\n              <div class=\"main-table__icon\">\r\n                <img\r\n                  :src=\"\r\n                    require(`@/assets/images/icons/flags/${country.toLowerCase()}.svg`)\r\n                  \"\r\n                  alt=\"\"\r\n                />\r\n              </div>\r\n              <p class=\"main-table__text main-table__text_bold\">\r\n                {{ country }}\r\n              </p>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n      <div class=\"publications-modal__row\">\r\n        <div class=\"publications-modal__parameter\">\r\n          <p>Дата публикации</p>\r\n        </div>\r\n        <div class=\"publications-modal__value\">\r\n          <p>\r\n            {{ currentArticle.publish[0] }}\r\n            {{ currentArticle.publish[1] }}\r\n          </p>\r\n        </div>\r\n      </div>\r\n      <div class=\"publications-modal__row\">\r\n        <div class=\"publications-modal__parameter\">\r\n          <p>Статус</p>\r\n        </div>\r\n        <div class=\"publications-modal__value\">\r\n          <p\r\n            v-if=\"currentArticle.status == 'approved'\"\r\n            class=\"publications-modal__status publications-modal__status_green\"\r\n          >\r\n            Одобрено\r\n          </p>\r\n          <p\r\n            v-else-if=\"currentArticle.status == 'rejected'\"\r\n            class=\"publications-modal__status publications-modal__status_red\"\r\n          >\r\n            Не одобрено\r\n          </p>\r\n          <p\r\n            v-else-if=\"currentArticle.status == 'undefined'\"\r\n            class=\"publications-modal__status publications-modal__status_purple\"\r\n          >\r\n            Новый\r\n          </p>\r\n        </div>\r\n      </div>\r\n      <div class=\"publications-modal__row\">\r\n        <div class=\"publications-modal__parameter\">\r\n          <p>Причина</p>\r\n        </div>\r\n        <div class=\"publications-modal__value\">\r\n          <p>{{ currentArticle.reason || \"-\" }}</p>\r\n        </div>\r\n      </div>\r\n      <div class=\"publications-modal__row\">\r\n        <div class=\"publications-modal__parameter\">\r\n          <p>Тип</p>\r\n        </div>\r\n        <div class=\"publications-modal__value\">\r\n          <ul class=\"main-table__list\">\r\n            <li v-for=\"elem in currentArticle.type\" :key=\"elem\">\r\n              <div class=\"main-table__icon publications-approved-table__type\">\r\n                <img\r\n                  :src=\"\r\n                    require(`@/assets/images/icons/${elem.toLowerCase()}.svg`)\r\n                  \"\r\n                  alt=\"\"\r\n                />\r\n              </div>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n      <div\r\n        class=\"publications-modal__row\"\r\n        v-if=\"UserById(currentArticle.moderId)\"\r\n      >\r\n        <div class=\"publications-modal__parameter\">\r\n          <p>Модератор</p>\r\n        </div>\r\n        <div class=\"publications-modal__value\">\r\n          <div class=\"publications-modal__moderator\">\r\n            <img src=\"@/assets/images/users/avatar1.png\" alt=\"\" />\r\n            <p>\r\n              {{ UserById(currentArticle.moderId).name }}\r\n              {{ UserById(currentArticle.moderId).surname }}\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mapGetters } from \"vuex\";\r\nexport default {\r\n  props: {\r\n    currentArticle: {\r\n      type: Object,\r\n      default: () => {},\r\n    },\r\n    classOfParent: {\r\n      type: String,\r\n      default: () => \"\",\r\n    },\r\n    position: {\r\n      type: String,\r\n      default: () => \"\",\r\n    },\r\n  },\r\n  mounted() {\r\n    document.addEventListener(\"click\", (element) => {\r\n      [].forEach.call(\r\n        document.querySelectorAll(\".publications-modal\"),\r\n        function (el) {\r\n          el.classList.remove(\"publications-modal_left\");\r\n          el.classList.remove(\"publications-modal_right\");\r\n          el.classList.remove(\"publications-modal_top\");\r\n        }\r\n      );\r\n      if (element.target.closest(`.${this.classOfParent}`) == null) {\r\n        this.$emit(\"closeModal\", null);\r\n      } else {\r\n        let child = element.target.parentNode.querySelector(\r\n          \".publications-modal\"\r\n        );\r\n        let parent = this.Container;\r\n        // Удаляем у всех модалок классы \"_right\" и \"_left\"\r\n        if (this.position == \"top\") {\r\n          child.classList.add(\"publications-modal_top\");\r\n          return;\r\n        }\r\n        if (this.Container.width >= 632) {\r\n          // Проверяем, выходит ли модалка за пределы контейнера\r\n          if (parent.right <= child.getBoundingClientRect().right) {\r\n            child.classList.add(\"publications-modal_left\");\r\n          } else {\r\n            child.classList.add(\"publications-modal_right\");\r\n          }\r\n          if (parent.left > child.getBoundingClientRect().left) {\r\n            child.classList.remove(\"publications-modal_left\");\r\n            child.classList.add(\"publications-modal_right\");\r\n          }\r\n        } else {\r\n          child.classList.add(\"publications-modal_top\");\r\n        }\r\n      }\r\n    });\r\n  },\r\n  computed: {\r\n    ...mapGetters({\r\n      getAuthor: \"Main/getAuthorById\",\r\n      UserById: \"Users/getUserById\",\r\n      Container: \"Main/getSizeOfContainer\",\r\n    }),\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\">\r\n.publications-modal {\r\n  position: absolute;\r\n  top: -50px;\r\n  // left: 100%;\r\n  padding: 8px;\r\n  width: 400px;\r\n  z-index: 999;\r\n  background: #fff;\r\n  border: 2px solid #b90c0c;\r\n  border-radius: 8px;\r\n  &_right {\r\n    left: 100%;\r\n    .publications-modal__content {\r\n      &::after,\r\n      &::before {\r\n        right: 102.1%;\r\n      }\r\n      &::after {\r\n        border-right-color: #fff;\r\n      }\r\n      &::before {\r\n        border-right-color: #b90c0c;\r\n      }\r\n    }\r\n  }\r\n  &_left {\r\n    right: 100%;\r\n    .publications-modal__content {\r\n      &::after,\r\n      &::before {\r\n        left: 102.1%;\r\n      }\r\n      &::after {\r\n        border-left-color: #fff;\r\n      }\r\n      &::before {\r\n        border-left-color: #b90c0c;\r\n      }\r\n    }\r\n  }\r\n  &_top {\r\n    top: 100%;\r\n    .publications-modal__content {\r\n      &::after,\r\n      &::before {\r\n        top: -40px;\r\n        left: 30px;\r\n      }\r\n      &::after {\r\n        border-bottom-color: #fff;\r\n        border-width: 31px;\r\n        margin-top: -29px;\r\n      }\r\n      &::before {\r\n        border-bottom-color: #b90c0c;\r\n        border-width: 31px;\r\n        margin-top: -31px;\r\n      }\r\n    }\r\n  }\r\n  &__content {\r\n    position: relative;\r\n    padding: 4px;\r\n    width: 100%;\r\n    &:after,\r\n    &:before {\r\n      top: 60px;\r\n      border: solid transparent;\r\n      content: \"\";\r\n      height: 0;\r\n      width: 0;\r\n      position: absolute;\r\n      pointer-events: none;\r\n    }\r\n\r\n    &:after {\r\n      border-color: rgba(136, 183, 213, 0);\r\n      border-width: 30px;\r\n      margin-top: -30px;\r\n    }\r\n    &:before {\r\n      border-color: rgba(194, 225, 245, 0);\r\n      border-width: 32px;\r\n      margin-top: -32px;\r\n    }\r\n  }\r\n  &__row {\r\n    display: grid;\r\n    grid-template-columns: 2fr 4fr;\r\n  }\r\n  &__parameter {\r\n    font-weight: 700;\r\n  }\r\n  &__value {\r\n    font-weight: 500;\r\n  }\r\n  &__parameter,\r\n  &__value {\r\n    display: flex;\r\n    align-items: center;\r\n    padding: 4px;\r\n    border: 1px solid #c0c0c0;\r\n    p {\r\n      color: #353132;\r\n      font-size: 11px !important;\r\n    }\r\n  }\r\n  &__status {\r\n    text-transform: uppercase;\r\n    font-weight: 700 !important;\r\n    &_green {\r\n      color: #009688;\r\n    }\r\n    &_red {\r\n      color: #e11b1b;\r\n    }\r\n    &_purple {\r\n      color: #7b61ff;\r\n    }\r\n  }\r\n  &__moderator {\r\n    display: flex;\r\n    align-items: center;\r\n    img {\r\n      margin-right: 5px;\r\n    }\r\n  }\r\n  @media screen and (min-device-width: 1280px) and (max-device-width: 1599px) {\r\n    right: -320%;\r\n  }\r\n  @media screen and (min-width: 320px) and (max-width: 744px) {\r\n    width: 310px;\r\n  }\r\n}\r\n</style>"],"mappings":"AA2LA,SAAAA,UAAA;AACA;EACAC,KAAA;IACAC,cAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,OAAA,EAAAA,CAAA;IACA;IACAC,aAAA;MACAH,IAAA,EAAAI,MAAA;MACAF,OAAA,EAAAA,CAAA;IACA;IACAG,QAAA;MACAL,IAAA,EAAAI,MAAA;MACAF,OAAA,EAAAA,CAAA;IACA;EACA;EACAI,QAAA;IACAC,QAAA,CAAAC,gBAAA,UAAAC,OAAA;MACA,GAAAC,OAAA,CAAAC,IAAA,CACAJ,QAAA,CAAAK,gBAAA,yBACA,UAAAC,EAAA;QACAA,EAAA,CAAAC,SAAA,CAAAC,MAAA;QACAF,EAAA,CAAAC,SAAA,CAAAC,MAAA;QACAF,EAAA,CAAAC,SAAA,CAAAC,MAAA;MACA,EACA;MACA,IAAAN,OAAA,CAAAO,MAAA,CAAAC,OAAA,UAAAd,aAAA;QACA,KAAAe,KAAA;MACA;QACA,IAAAC,KAAA,GAAAV,OAAA,CAAAO,MAAA,CAAAI,UAAA,CAAAC,aAAA,CACA,sBACA;QACA,IAAAC,MAAA,QAAAC,SAAA;QACA;QACA,SAAAlB,QAAA;UACAc,KAAA,CAAAL,SAAA,CAAAU,GAAA;UACA;QACA;QACA,SAAAD,SAAA,CAAAE,KAAA;UACA;UACA,IAAAH,MAAA,CAAAI,KAAA,IAAAP,KAAA,CAAAQ,qBAAA,GAAAD,KAAA;YACAP,KAAA,CAAAL,SAAA,CAAAU,GAAA;UACA;YACAL,KAAA,CAAAL,SAAA,CAAAU,GAAA;UACA;UACA,IAAAF,MAAA,CAAAM,IAAA,GAAAT,KAAA,CAAAQ,qBAAA,GAAAC,IAAA;YACAT,KAAA,CAAAL,SAAA,CAAAC,MAAA;YACAI,KAAA,CAAAL,SAAA,CAAAU,GAAA;UACA;QACA;UACAL,KAAA,CAAAL,SAAA,CAAAU,GAAA;QACA;MACA;IACA;EACA;EACAK,QAAA;IACA,GAAAhC,UAAA;MACAiC,SAAA;MACAC,QAAA;MACAR,SAAA;IACA;EACA;AACA"}]}