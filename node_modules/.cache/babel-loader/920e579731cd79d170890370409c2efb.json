{"remainingRequest":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\src\\components\\main\\AutoComplete.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\src\\components\\main\\AutoComplete.vue","mtime":1689965454172},{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\babel.config.js","mtime":1686568669000},{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686771862028},{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\babel-loader\\lib\\index.js","mtime":1686771872096},{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686771862028},{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\vue-loader\\lib\\index.js","mtime":1686771882662}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IENsb3NlSWNvbiBmcm9tICJAL2Fzc2V0cy9pbWFnZXMvaWNvbnMvY2xvc2Uuc3ZnP2lubGluZSI7CmltcG9ydCBDbG9zZUljb25EYXJrIGZyb20gIkAvYXNzZXRzL2ltYWdlcy9pY29ucy9kYXJrL2Nsb3NlLnN2Zz9pbmxpbmUiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlNlYXJjaEF1dG9jb21wbGV0ZSIsCiAgcHJvcHM6IHsKICAgIGl0ZW1zOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIGRlZmF1bHQ6ICgpID0+IFtdCiAgICB9LAogICAgaXNBc3luYzogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgcGxhY2Vob2xkZXI6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlOiBmYWxzZSwKICAgICAgZGVmYXVsdDogKCkgPT4gIiIKICAgIH0sCiAgICBpc0Rpc2FibGVkOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIHJlcXVpcmU6IGZhbHNlLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIHZhbHVlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgcmVxdWlyZTogZmFsc2UsCiAgICAgIGRlZmF1bHQ6ICgpID0+ICIiCiAgICB9LAogICAgZm9jdXM6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgcmVxdWlyZTogZmFsc2UsCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgY2xvc2U6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgcmVxdWlyZTogZmFsc2UsCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgaW5kZXg6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICByZXF1aXJlOiB0cnVlLAogICAgICBkZWZhdWx0OiAwCiAgICB9LAogICAgcmVhZG9ubHk6IHsKICAgICAgdHlvZTogQm9vbGVhbiwKICAgICAgcmVxdWlyZTogZmFsc2UsCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBDbG9zZUljb24sCiAgICBDbG9zZUljb25EYXJrCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXNPcGVuOiBmYWxzZSwKICAgICAgcmVzdWx0czogW10sCiAgICAgIHNlYXJjaDogIiIsCiAgICAgIGlzTG9hZGluZzogZmFsc2UsCiAgICAgIGFycm93Q291bnRlcjogLTEKICAgIH07CiAgfSwKICB3YXRjaDogewogICAgaXRlbXM6IGZ1bmN0aW9uICh2YWx1ZSwgb2xkVmFsdWUpIHsKICAgICAgaWYgKHZhbHVlLmxlbmd0aCAhPT0gb2xkVmFsdWUubGVuZ3RoKSB7CiAgICAgICAgdGhpcy5yZXN1bHRzID0gdmFsdWU7CiAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTsKICAgICAgfQogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIGlmICh0aGlzLmZvY3VzKSB7CiAgICAgIHRoaXMuJGVsLmNoaWxkTm9kZXNbMV0uZm9jdXMoKTsKICAgIH0KICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwgdGhpcy5oYW5kbGVDbGlja091dHNpZGUpOwogIH0sCiAgZGVzdHJveWVkKCkgewogICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigiY2xpY2siLCB0aGlzLmhhbmRsZUNsaWNrT3V0c2lkZSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBzZXRSZXN1bHQocmVzdWx0KSB7CiAgICAgIHRoaXMuc2VhcmNoID0gcmVzdWx0OwogICAgICB0aGlzLmlzT3BlbiA9IGZhbHNlOwogICAgICB0aGlzLnN1Ym1pdCgpOwogICAgfSwKICAgIGZpbHRlclJlc3VsdHMoKSB7CiAgICAgIHRoaXMucmVzdWx0cyA9IHRoaXMuaXRlbXMuZmlsdGVyKGl0ZW0gPT4gewogICAgICAgIHJldHVybiBpdGVtLnRvTG93ZXJDYXNlKCkuaW5kZXhPZih0aGlzLnNlYXJjaC50b0xvd2VyQ2FzZSgpKSA+IC0xOwogICAgICB9KTsKICAgIH0sCiAgICBvbkNoYW5nZShldmVudCkgewogICAgICBjb25zb2xlLmxvZyhldmVudCk7CiAgICAgIHRoaXMuc2VhcmNoID0gZXZlbnQudGFyZ2V0LnZhbHVlOwogICAgICBpZiAodGhpcy5pc0FzeW5jKSB7CiAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlOwogICAgICB9IGVsc2UgaWYgKHRoaXMuc2VhcmNoICE9IG51bGwpIHsKICAgICAgICB0aGlzLmZpbHRlclJlc3VsdHMoKTsKICAgICAgICB0aGlzLmlzT3BlbiA9IHRydWU7CiAgICAgIH0KICAgIH0sCiAgICBoYW5kbGVDbGlja091dHNpZGUoZXZlbnQpIHsKICAgICAgaWYgKCF0aGlzLiRlbC5jb250YWlucyhldmVudC50YXJnZXQpKSB7CiAgICAgICAgdGhpcy5pc09wZW4gPSBmYWxzZTsKICAgICAgICB0aGlzLmFycm93Q291bnRlciA9IC0xOwogICAgICB9CiAgICB9LAogICAgb25BcnJvd0Rvd24oKSB7CiAgICAgIGlmICh0aGlzLmFycm93Q291bnRlciA8IHRoaXMucmVzdWx0cy5sZW5ndGgpIHsKICAgICAgICB0aGlzLmFycm93Q291bnRlciA9IHRoaXMuYXJyb3dDb3VudGVyICsgMTsKICAgICAgfQogICAgfSwKICAgIG9uQXJyb3dVcCgpIHsKICAgICAgaWYgKHRoaXMuYXJyb3dDb3VudGVyID4gMCkgewogICAgICAgIHRoaXMuYXJyb3dDb3VudGVyID0gdGhpcy5hcnJvd0NvdW50ZXIgLSAxOwogICAgICB9CiAgICB9LAogICAgb25FbnRlcihldmVudCkgewogICAgICB0aGlzLnNlYXJjaCA9IHRoaXMucmVzdWx0c1t0aGlzLmFycm93Q291bnRlcl07CiAgICAgIHRoaXMuaXNPcGVuID0gZmFsc2U7CiAgICAgIHRoaXMuYXJyb3dDb3VudGVyID0gLTE7CiAgICAgIHRoaXMuc3VibWl0KGV2ZW50KTsKICAgIH0sCiAgICBzdWJtaXQoKSB7CiAgICAgIHRoaXMuJGVtaXQoInNlbGVjdCIsIHRoaXMuc2VhcmNoKTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBpc0RhcmsoKSB7CiAgICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5JykuY2xhc3NMaXN0LmNvbnRhaW5zKCdkYXJrJyk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["CloseIcon","CloseIconDark","name","props","items","type","Array","required","default","isAsync","Boolean","placeholder","String","require","isDisabled","value","focus","close","index","Number","readonly","tyoe","components","data","isOpen","results","search","isLoading","arrowCounter","watch","oldValue","length","mounted","$el","childNodes","document","addEventListener","handleClickOutside","destroyed","removeEventListener","methods","setResult","result","submit","filterResults","filter","item","toLowerCase","indexOf","onChange","event","console","log","target","contains","onArrowDown","onArrowUp","onEnter","$emit","computed","isDark","querySelector","classList"],"sources":["src/components/main/AutoComplete.vue"],"sourcesContent":["<template>\n  <div class=\"autocomplete\">\n    <CloseIconDark\n      @click=\"$emit('close', index)\"\n      v-if=\"close && isDark\"\n      class=\"autocomplete__icon\"\n    />\n    <CloseIcon\n      @click=\"$emit('close', index)\"\n      v-else-if=\"close\"\n      class=\"autocomplete__icon\"\n    />\n    <input\n      :disabled=\"isDisabled\"\n      :readonly=\"readonly\"\n      type=\"text\"\n      :value=\"value != '' ? value : search\"\n      @click=\"readonly ? onChange($event) : null\"\n      @input=\"readonly ? null : onChange($event)\"\n      @keydown.down=\"onArrowDown\"\n      @keydown.up=\"onArrowUp\"\n      @keydown.enter=\"onEnter\"\n      :placeholder=\"placeholder\"\n      class=\"autocomplete__input\"\n    />\n    <ul id=\"autocomplete-results\" v-show=\"isOpen\" class=\"autocomplete-results\">\n      <li class=\"loading\" v-if=\"isLoading\">Loading results...</li>\n      <li\n        v-else\n        v-for=\"(result, i) in results\"\n        :key=\"i\"\n        @click=\"setResult(result)\"\n        class=\"autocomplete-result\"\n        :class=\"{ 'is-active': i === arrowCounter }\"\n      >\n        {{ result }}\n      </li>\n    </ul>\n  </div>\n</template>\n  \n<script>\nimport CloseIcon from \"@/assets/images/icons/close.svg?inline\";\nimport CloseIconDark from \"@/assets/images/icons/dark/close.svg?inline\"\nexport default {\n  name: \"SearchAutocomplete\",\n  props: {\n    items: {\n      type: Array,\n      required: false,\n      default: () => [],\n    },\n    isAsync: {\n      type: Boolean,\n      required: false,\n      default: false,\n    },\n    placeholder: {\n      type: String,\n      require: false,\n      default: () => \"\",\n    },\n    isDisabled: {\n      type: Boolean,\n      require: false,\n      default: false,\n    },\n    value: {\n      type: String,\n      require: false,\n      default: () => \"\",\n    },\n    focus: {\n      type: Boolean,\n      require: false,\n      default: false,\n    },\n    close: {\n      type: Boolean,\n      require: false,\n      default: false,\n    },\n    index: {\n      type: Number,\n      require: true,\n      default: 0,\n    },\n    readonly: {\n      tyoe: Boolean,\n      require: false,\n      default: false\n    }\n  },\n  components: {\n    CloseIcon,\n    CloseIconDark\n  },\n  data() {\n    return {\n      isOpen: false,\n      results: [],\n      search: \"\",\n      isLoading: false,\n      arrowCounter: -1,\n    };\n  },\n  watch: {\n    items: function (value, oldValue) {\n      if (value.length !== oldValue.length) {\n        this.results = value;\n        this.isLoading = false;\n      }\n    },\n  },\n  mounted() {\n    if (this.focus) {\n      this.$el.childNodes[1].focus();\n    }\n    document.addEventListener(\"click\", this.handleClickOutside);\n  },\n  destroyed() {\n    document.removeEventListener(\"click\", this.handleClickOutside);\n  },\n  methods: {\n    setResult(result) {\n      this.search = result;\n      this.isOpen = false;\n      this.submit();\n    },\n    filterResults() {\n      this.results = this.items.filter((item) => {\n        return item.toLowerCase().indexOf(this.search.toLowerCase()) > -1;\n      });\n    },\n    onChange(event) {\n      console.log(event);\n      this.search = event.target.value;\n      if (this.isAsync) {\n        this.isLoading = true;\n      } else if (this.search != null) {\n        this.filterResults();\n        this.isOpen = true;\n      }\n    },\n    handleClickOutside(event) {\n      if (!this.$el.contains(event.target)) {\n        this.isOpen = false;\n        this.arrowCounter = -1;\n      }\n    },\n    onArrowDown() {\n      if (this.arrowCounter < this.results.length) {\n        this.arrowCounter = this.arrowCounter + 1;\n      }\n    },\n    onArrowUp() {\n      if (this.arrowCounter > 0) {\n        this.arrowCounter = this.arrowCounter - 1;\n      }\n    },\n    onEnter(event) {\n      this.search = this.results[this.arrowCounter];\n      this.isOpen = false;\n      this.arrowCounter = -1;\n      this.submit(event);\n    },\n    submit() {\n      this.$emit(\"select\", this.search);\n    },\n  },\n  computed: {\n    isDark(){\n      return document.querySelector('body').classList.contains('dark')\n    }\n  }\n};\n</script>\n  \n  <style>\n.autocomplete {\n  position: relative;\n}\n\n.autocomplete-results {\n  position: absolute;\n  top: 40px;\n  border-radius: 8px;\n  padding: 0;\n  margin: 0;\n  border: 1px solid #c0c0c0;\n  max-height: 200px;\n  width: 300px;\n  background: #fff;\n  z-index: 999;\n  overflow: auto;\n  color: #231f20;\n  font-size: 12px;\n  font-weight: 700;\n}\n.autocomplete__icon {\n  position: absolute;\n  left: 5px;\n  top: 52%;\n  transform: translateY(-50%);\n  cursor: pointer;\n}\n.autocomplete__input::placeholder {\n  color: #c0c0c0;\n}\n.autocomplete-result {\n  list-style: none;\n  text-align: left;\n  padding: 10px 4px;\n  cursor: pointer;\n}\n\n.autocomplete-result.is-active,\n.autocomplete-result:hover {\n  color: #b90c0c !important;\n}\n</style>"],"mappings":"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"}]}