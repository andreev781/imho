{"remainingRequest":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\src\\components\\admin\\Analytics\\Users\\UsersTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\src\\components\\admin\\Analytics\\Users\\UsersTable.vue","mtime":1686568669000},{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\babel.config.js","mtime":1686568669000},{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686771862028},{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\babel-loader\\lib\\index.js","mtime":1686771872096},{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686771862028},{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\vue-loader\\lib\\index.js","mtime":1686771882662}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IEZpbHRlckFycm93c0ljb24gZnJvbSAiQC9hc3NldHMvaW1hZ2VzL2ljb25zL2ZpbHRlckFycm93cy5zdmc/aW5saW5lIjsKaW1wb3J0IEFycm93RG93bkljb24gZnJvbSAiQC9hc3NldHMvaW1hZ2VzL2ljb25zL2Fycm93RG93bi5zdmc/aW5saW5lIjsKaW1wb3J0IFBhZ2luYXRvciBmcm9tICJAL2NvbXBvbmVudHMvbWFpbi9QYWdpbmF0b3IiOwppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAidnVleCI7CmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogewogICAgdXNlcnM6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQ6ICgpID0+IFtdCiAgICB9CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZmlsdGVyZWRJdGVtczogW10sCiAgICAgIHBhZ2luYXRlZEl0ZW1zOiBbXSwKICAgICAgcmV2ZXJzZVNvcnQ6IHsKICAgICAgICBpZDogZmFsc2UsCiAgICAgICAgYXZhaWxhYmxlQ291bnRyaWVzOiBmYWxzZSwKICAgICAgICBuYW1lOiBmYWxzZSwKICAgICAgICB0YWxrZXI6IGZhbHNlLAogICAgICAgIGJvb3I6IGZhbHNlLAogICAgICAgIGRpcGxvbWF0OiBmYWxzZQogICAgICB9LAogICAgICBjdXJyZW50VHlwZTogItCg0KfQmiIKICAgIH07CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5jaGFuZ2VGaWx0ZXJlZEl0ZW1zKCk7CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBGaWx0ZXJBcnJvd3NJY29uLAogICAgQXJyb3dEb3duSWNvbiwKICAgIFBhZ2luYXRvcgogIH0sCiAgbWV0aG9kczogewogICAgY2hhbmdlRmlsdGVyZWRJdGVtcyhhcnJheSA9IHRoaXMudXNlcnMpIHsKICAgICAgdGhpcy5maWx0ZXJlZEl0ZW1zID0gYXJyYXkuZmlsdGVyKGl0ZW0gPT4gewogICAgICAgIGxldCB0eXBlID0gaXRlbS50eXBlID09IHRoaXMuY3VycmVudFR5cGU7CiAgICAgICAgbGV0IGNvdW50cmllcyA9IGl0ZW0uYXZhaWxhYmxlQ291bnRyaWVzLnNvbWUoZWxlbWVudCA9PiB0aGlzLmF2YWlsYWJsZUNvdW50cmllcy5pbmNsdWRlcyhlbGVtZW50KSk7CiAgICAgICAgcmV0dXJuIHR5cGUgPT0gdHJ1ZSAmJiBjb3VudHJpZXMgPT0gdHJ1ZTsKICAgICAgfSk7CiAgICB9LAogICAgY2hhbmdlRGF0YShkYXRhKSB7CiAgICAgIHRoaXMucGFnaW5hdGVkSXRlbXMgPSBkYXRhOwogICAgfSwKICAgIGNoYW5nZVR5cGUoKSB7CiAgICAgIGlmICh0aGlzLmN1cnJlbnRUeXBlID09ICLQoNCn0JoiKSB7CiAgICAgICAgdGhpcy5jdXJyZW50VHlwZSA9ICLQktCn0JoiOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuY3VycmVudFR5cGUgPSAi0KDQp9CaIjsKICAgICAgfQogICAgICB0aGlzLmNoYW5nZUZpbHRlcmVkSXRlbXMoKTsKICAgIH0sCiAgICBzb3J0X2J5KGZpZWxkLCBwcmltZXIpIHsKICAgICAgbGV0IHJldmVyc2UgPSAhdGhpcy5yZXZlcnNlU29ydFtmaWVsZF07CiAgICAgIGNvbnN0IGtleSA9IHByaW1lciA/IGZ1bmN0aW9uICh4KSB7CiAgICAgICAgcmV0dXJuIHByaW1lcih4W2ZpZWxkXSk7CiAgICAgIH0gOiBmdW5jdGlvbiAoeCkgewogICAgICAgIHJldHVybiB4W2ZpZWxkXTsKICAgICAgfTsKICAgICAgdGhpcy5yZXZlcnNlU29ydFtmaWVsZF0gPSByZXZlcnNlOwogICAgICByZXZlcnNlID0gIXJldmVyc2UgPyAxIDogLTE7CiAgICAgIHJldHVybiBmdW5jdGlvbiAoYSwgYikgewogICAgICAgIHJldHVybiBhID0ga2V5KGEpLCBiID0ga2V5KGIpLCByZXZlcnNlICogKChhID4gYikgLSAoYiA+IGEpKTsKICAgICAgfTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBHZXR0ZXJzKHsKICAgICAgYXZhaWxhYmxlQ291bnRyaWVzOiAiTWFpbi9nZXRBdmFpbGFibGVDb3VudHJpZXMiCiAgICB9KQogIH0sCiAgd2F0Y2g6IHsKICAgIHVzZXJzKG5ld1ZhbHVlKSB7CiAgICAgIHRoaXMuY2hhbmdlRmlsdGVyZWRJdGVtcyhuZXdWYWx1ZSk7CiAgICB9LAogICAgYXZhaWxhYmxlQ291bnRyaWVzKCkgewogICAgICB0aGlzLmNoYW5nZUZpbHRlcmVkSXRlbXMoKTsKICAgIH0KICB9Cn07"},{"version":3,"names":["FilterArrowsIcon","ArrowDownIcon","Paginator","mapGetters","props","users","type","Array","default","data","filteredItems","paginatedItems","reverseSort","id","availableCountries","name","talker","boor","diplomat","currentType","mounted","changeFilteredItems","components","methods","array","filter","item","countries","some","element","includes","changeData","changeType","sort_by","field","primer","reverse","key","x","a","b","computed","watch","newValue"],"sources":["src/components/admin/Analytics/Users/UsersTable.vue"],"sourcesContent":["<template>\n  <div class=\"analytics-users-table main-table main-content\">\n    <div class=\"analytics-users-table__top main-table_white \">\n      <div class=\"analytics-users-table__row\">\n        <div class=\"analytics-users-table__parameter main-table__column\">\n          <p>№</p>\n          <div class=\"analytics-users-table__icon\">\n            <FilterArrowsIcon />\n          </div>\n        </div>\n        <div\n          class=\"analytics-users-table__parameter main-table__column\"\n          @click=\"filteredItems.sort(sort_by('id', parseInt))\"\n        >\n          <p>Id</p>\n          <div class=\"analytics-users-table__icon\">\n            <FilterArrowsIcon />\n          </div>\n        </div>\n        <div\n          class=\"analytics-users-table__parameter main-table__column\"\n          @click=\"\n            filteredItems.sort(sort_by('availableCountries', (a) => a.length))\n          \"\n        >\n          <p>Страна</p>\n          <div class=\"analytics-users-table__icon\">\n            <FilterArrowsIcon />\n          </div>\n        </div>\n        <div\n          class=\"analytics-users-table__parameter main-table__column\"\n          @click=\"filteredItems.sort(sort_by('name', (a) => a.toUpperCase()))\"\n        >\n          <p>Автор</p>\n          <div class=\"analytics-users-table__icon\">\n            <ArrowDownIcon />\n          </div>\n          <span class=\"analytics-users-table__author\">\n            Александр Тиханский\n          </span>\n        </div>\n        <div\n          class=\"analytics-users-table__parameter main-table__column\"\n          @click=\"changeType\"\n        >\n          <p>Тип</p>\n          <div class=\"analytics-users-table__icon\">\n            <ArrowDownIcon />\n          </div>\n        </div>\n        <div\n          class=\"analytics-users-table__parameter main-table__column\"\n          @click=\"filteredItems.sort(sort_by('talker', parseInt))\"\n        >\n          <p>Говорун</p>\n          <div class=\"analytics-users-table__icon\">\n            <FilterArrowsIcon />\n          </div>\n        </div>\n        <div\n          class=\"analytics-users-table__parameter main-table__column\"\n          @click=\"filteredItems.sort(sort_by('boor', parseInt))\"\n        >\n          <p>Хам</p>\n          <div class=\"analytics-users-table__icon\">\n            <FilterArrowsIcon />\n          </div>\n        </div>\n        <div\n          class=\"analytics-users-table__parameter main-table__column\"\n          @click=\"filteredItems.sort(sort_by('diplomat', parseInt))\"\n        >\n          <p>Дипломат</p>\n          <div class=\"analytics-users-table__icon\">\n            <FilterArrowsIcon />\n          </div>\n        </div>\n      </div>\n    </div>\n    <div\n      class=\"analytics-users-table__body analytics-users-table__row\"\n      v-for=\"(item, index) in paginatedItems\"\n      :key=\"item.id\"\n    >\n      <div class=\"analytics-users-table__value main-table__column\">\n        <p>{{ index + 1 }}</p>\n      </div>\n      <div class=\"analytics-users-table__value main-table__column\">\n        <p>{{ item.id }}</p>\n      </div>\n      <div class=\"analytics-users-table__value main-table__column\">\n        <ul class=\"main-table__list\">\n          <li v-for=\"country in item.availableCountries\" :key=\"country\">\n            <div class=\"main-table__icon\">\n              <img\n                :src=\"\n                  require(`@/assets/images/icons/flags/${country.toLowerCase()}.svg`)\n                \"\n                alt=\"\"\n              />\n            </div>\n            <p class=\"main-table__text main-table__text_bold\">\n              {{ country }}\n            </p>\n          </li>\n        </ul>\n      </div>\n      <div class=\"analytics-users-table__value main-table__column\">\n        <p>{{ item.name }} {{ item.surname }}</p>\n      </div>\n      <div class=\"analytics-users-table__value main-table__column\">\n        <p>{{ item.type }}</p>\n      </div>\n      <div class=\"analytics-users-table__value main-table__column\">\n        <p>{{ item.talker.toLocaleString() }}</p>\n      </div>\n      <div class=\"analytics-users-table__value main-table__column\">\n        <p>{{ item.boor.toLocaleString() }}</p>\n      </div>\n      <div class=\"analytics-users-table__value main-table__column\">\n        <p>{{ item.diplomat.toLocaleString() }}</p>\n      </div>\n    </div>\n    <Paginator :items=\"filteredItems\" @changePaginatedItems=\"changeData\" />\n  </div>\n</template>\n<script>\nimport FilterArrowsIcon from \"@/assets/images/icons/filterArrows.svg?inline\";\nimport ArrowDownIcon from \"@/assets/images/icons/arrowDown.svg?inline\";\nimport Paginator from \"@/components/main/Paginator\";\nimport { mapGetters } from \"vuex\";\nexport default {\n  props: {\n    users: {\n      type: Array,\n      default: () => [],\n    },\n  },\n  data() {\n    return {\n      filteredItems: [],\n      paginatedItems: [],\n      reverseSort: {\n        id: false,\n        availableCountries: false,\n        name: false,\n        talker: false,\n        boor: false,\n        diplomat: false,\n      },\n      currentType: \"РЧК\",\n    };\n  },\n  mounted() {\n    this.changeFilteredItems();\n  },\n  components: {\n    FilterArrowsIcon,\n    ArrowDownIcon,\n    Paginator,\n  },\n  methods: {\n    changeFilteredItems(array = this.users) {\n      this.filteredItems = array.filter((item) => {\n        let type = item.type == this.currentType;\n        let countries = item.availableCountries.some((element) =>\n          this.availableCountries.includes(element)\n        );\n        return type == true && countries == true;\n      });\n    },\n    changeData(data) {\n      this.paginatedItems = data;\n    },\n    changeType() {\n      if (this.currentType == \"РЧК\") {\n        this.currentType = \"ВЧК\";\n      } else {\n        this.currentType = \"РЧК\";\n      }\n      this.changeFilteredItems();\n    },\n    sort_by(field, primer) {\n      let reverse = !this.reverseSort[field];\n      const key = primer\n        ? function (x) {\n            return primer(x[field]);\n          }\n        : function (x) {\n            return x[field];\n          };\n      this.reverseSort[field] = reverse;\n\n      reverse = !reverse ? 1 : -1;\n      return function (a, b) {\n        return (a = key(a)), (b = key(b)), reverse * ((a > b) - (b > a));\n      };\n    },\n  },\n  computed: {\n    ...mapGetters({\n      availableCountries: \"Main/getAvailableCountries\",\n    }),\n  },\n  watch: {\n    users(newValue) {\n      this.changeFilteredItems(newValue);\n    },\n    availableCountries() {\n      this.changeFilteredItems();\n    },\n  },\n};\n</script>\n<style lang=\"scss\">\n.analytics-users-table {\n  &__top {\n    background: #b90c0c;\n  }\n  &__parameter {\n    color: #fff;\n    text-transform: uppercase;\n    font-weight: 700;\n    cursor: pointer;\n    user-select: none;\n  }\n  &__row {\n    display: grid;\n    grid-template-columns: 1fr 1fr 2fr 9fr 2fr 2fr 2fr 2fr;\n  }\n  &__author {\n    font-size: 14px;\n    margin-left: 16px;\n    text-transform: none;\n  }\n  &__icon {\n    display: flex;\n    align-items: center;\n    margin-left: 9px;\n  }\n  &__value {\n    font-size: 14px;\n    font-weight: 500;\n  }\n}\n</style>"],"mappings":"AAgIA,OAAAA,gBAAA;AACA,OAAAC,aAAA;AACA,OAAAC,SAAA;AACA,SAAAC,UAAA;AACA;EACAC,KAAA;IACAC,KAAA;MACAC,IAAA,EAAAC,KAAA;MACAC,OAAA,EAAAA,CAAA;IACA;EACA;EACAC,KAAA;IACA;MACAC,aAAA;MACAC,cAAA;MACAC,WAAA;QACAC,EAAA;QACAC,kBAAA;QACAC,IAAA;QACAC,MAAA;QACAC,IAAA;QACAC,QAAA;MACA;MACAC,WAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,mBAAA;EACA;EACAC,UAAA;IACAtB,gBAAA;IACAC,aAAA;IACAC;EACA;EACAqB,OAAA;IACAF,oBAAAG,KAAA,QAAAnB,KAAA;MACA,KAAAK,aAAA,GAAAc,KAAA,CAAAC,MAAA,CAAAC,IAAA;QACA,IAAApB,IAAA,GAAAoB,IAAA,CAAApB,IAAA,SAAAa,WAAA;QACA,IAAAQ,SAAA,GAAAD,IAAA,CAAAZ,kBAAA,CAAAc,IAAA,CAAAC,OAAA,IACA,KAAAf,kBAAA,CAAAgB,QAAA,CAAAD,OAAA,EACA;QACA,OAAAvB,IAAA,YAAAqB,SAAA;MACA;IACA;IACAI,WAAAtB,IAAA;MACA,KAAAE,cAAA,GAAAF,IAAA;IACA;IACAuB,WAAA;MACA,SAAAb,WAAA;QACA,KAAAA,WAAA;MACA;QACA,KAAAA,WAAA;MACA;MACA,KAAAE,mBAAA;IACA;IACAY,QAAAC,KAAA,EAAAC,MAAA;MACA,IAAAC,OAAA,SAAAxB,WAAA,CAAAsB,KAAA;MACA,MAAAG,GAAA,GAAAF,MAAA,GACA,UAAAG,CAAA;QACA,OAAAH,MAAA,CAAAG,CAAA,CAAAJ,KAAA;MACA,IACA,UAAAI,CAAA;QACA,OAAAA,CAAA,CAAAJ,KAAA;MACA;MACA,KAAAtB,WAAA,CAAAsB,KAAA,IAAAE,OAAA;MAEAA,OAAA,IAAAA,OAAA;MACA,iBAAAG,CAAA,EAAAC,CAAA;QACA,OAAAD,CAAA,GAAAF,GAAA,CAAAE,CAAA,GAAAC,CAAA,GAAAH,GAAA,CAAAG,CAAA,GAAAJ,OAAA,KAAAG,CAAA,GAAAC,CAAA,KAAAA,CAAA,GAAAD,CAAA;MACA;IACA;EACA;EACAE,QAAA;IACA,GAAAtC,UAAA;MACAW,kBAAA;IACA;EACA;EACA4B,KAAA;IACArC,MAAAsC,QAAA;MACA,KAAAtB,mBAAA,CAAAsB,QAAA;IACA;IACA7B,mBAAA;MACA,KAAAO,mBAAA;IACA;EACA;AACA"}]}