{"remainingRequest":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\src\\views\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\src\\views\\Login.vue","mtime":1686568669000},{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\babel.config.js","mtime":1686568669000},{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686771862028},{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\babel-loader\\lib\\index.js","mtime":1686771872096},{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686771862028},{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\vue-loader\\lib\\index.js","mtime":1686771882662}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCBTdGFySWNvbiBmcm9tICJAL2Fzc2V0cy9pbWFnZXMvaWNvbnMvc3Rhci5zdmc/aW5saW5lIjsKaW1wb3J0IEVycm9ySWNvbiBmcm9tICJAL2Fzc2V0cy9pbWFnZXMvaWNvbnMvZXJyb3Iuc3ZnP2lubGluZSI7CmltcG9ydCB7IG1hcEFjdGlvbnMgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGVycm9yczogewogICAgICAgIGxvZ2luSXNFcnJvcjogZmFsc2UsCiAgICAgICAgcGFzc3dvcmRJc0Vycm9yOiBmYWxzZQogICAgICB9LAogICAgICBjdXJyZW50TG9naW46ICIiLAogICAgICBjdXJyZW50UGFzc3dvcmQ6ICIiCiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgU3Rhckljb24sCiAgICBFcnJvckljb24KICB9LAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBHZXR0ZXJzKHsKICAgICAgdXNlcjogIlVzZXJzL2dldEN1cnJlbnRVc2VyIgogICAgfSkKICB9LAogIG1ldGhvZHM6IHsKICAgIC4uLm1hcEFjdGlvbnMoIlVzZXJzIiwgWyJhdXRoIl0pLAogICAgc3VibWl0TG9naW5Gb3JtKGUpIHsKICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICBsZXQgZGF0YSA9IHsKICAgICAgICBsb2dpbjogdGhpcy5jdXJyZW50TG9naW4sCiAgICAgICAgcGFzc3dvcmQ6IHRoaXMuY3VycmVudFBhc3N3b3JkCiAgICAgIH07CiAgICAgIHRoaXMuYXV0aChkYXRhKS50aGVuKCgpID0+IHsKICAgICAgICBpZiAodGhpcy51c2VyLnJvbGVzLmluY2x1ZGVzKCLQvNC+0LTQtdGA0LDRgtC+0YAiKSkgewogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICBuYW1lOiAiTW9kZXJhdG9yUHVibGljYXRpb25zVGFibGVOZXciCiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgaWYgKHRoaXMudXNlci5yb2xlcy5pbmNsdWRlcygi0LDQtNC80LjQvdC40YHRgtGA0LDRgtC+0YAiKSkgewogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICBuYW1lOiAiQWRtaW5FbXBsb3llZXNUYWJsZSIKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgICB0aGlzLmNsZWFyRXJyb3JzKCk7CiAgICAgIH0sIGVycm9yID0+IHsKICAgICAgICB0aGlzLmVycm9ycy5sb2dpbklzRXJyb3IgPSBlcnJvci5sb2dpbklzRXJyb3I7CiAgICAgICAgdGhpcy5lcnJvcnMucGFzc3dvcmRJc0Vycm9yID0gZXJyb3IucGFzc3dvcmRJc0Vycm9yOwogICAgICB9KTsKICAgIH0sCiAgICBjbGVhckVycm9ycygpIHsKICAgICAgdGhpcy5lcnJvcnMubG9naW5Jc0Vycm9yID0gZmFsc2U7CiAgICAgIHRoaXMuZXJyb3JzLnBhc3N3b3JkID0gZmFsc2U7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["StarIcon","ErrorIcon","mapActions","mapGetters","data","errors","loginIsError","passwordIsError","currentLogin","currentPassword","components","computed","user","methods","submitLoginForm","e","preventDefault","login","password","auth","then","roles","includes","$router","push","name","clearErrors","error"],"sources":["src/views/Login.vue"],"sourcesContent":["<template>\n  <div class=\"login\">\n    <div class=\"login__content\">\n      <div class=\"login__logo\">\n        <img src=\"@/assets/images/logo.png\" alt=\"logo\" />\n      </div>\n      <form action=\"#\" class=\"login__form\" @submit=\"submitLoginForm\">\n        <div\n          class=\"login__field\"\n          :class=\"{ login__field_error: errors.loginIsError }\"\n        >\n          <StarIcon class=\"login__icon\" />\n          <input\n            type=\"text\"\n            class=\"login__input\"\n            placeholder=\"Логин или E-mail\"\n            required\n            v-model=\"currentLogin\"\n            @input=\"errors.loginIsError = false\"\n          />\n          <ErrorIcon class=\"login__error\" />\n        </div>\n        <div\n          class=\"login__field\"\n          :class=\"{ login__field_error: errors.passwordIsError }\"\n        >\n          <StarIcon class=\"login__icon\" />\n          <input\n            type=\"password\"\n            class=\"login__input login__input_error\"\n            placeholder=\"Пароль\"\n            required\n            v-model=\"currentPassword\"\n            @input=\"errors.passwordIsError = false\"\n          />\n          <ErrorIcon class=\"login__error\" />\n        </div>\n        <button type=\"submit\" class=\"login__button\">Войти</button>\n      </form>\n    </div>\n  </div>\n</template>\n<script>\nimport StarIcon from \"@/assets/images/icons/star.svg?inline\";\nimport ErrorIcon from \"@/assets/images/icons/error.svg?inline\";\nimport { mapActions } from \"vuex\";\nimport { mapGetters } from \"vuex\";\nexport default {\n  data() {\n    return {\n      errors: {\n        loginIsError: false,\n        passwordIsError: false,\n      },\n      currentLogin: \"\",\n      currentPassword: \"\",\n    };\n  },\n  components: {\n    StarIcon,\n    ErrorIcon,\n  },\n  computed: {\n    ...mapGetters({\n      user: \"Users/getCurrentUser\",\n    }),\n  },\n  methods: {\n    ...mapActions(\"Users\", [\"auth\"]),\n    submitLoginForm(e) {\n      e.preventDefault();\n\n      let data = {\n        login: this.currentLogin,\n        password: this.currentPassword,\n      };\n      this.auth(data).then(\n        () => {\n          if (this.user.roles.includes(\"модератор\")) {\n            this.$router.push({ name: \"ModeratorPublicationsTableNew\" });\n          } else if (this.user.roles.includes(\"администратор\")) {\n            this.$router.push({ name: \"AdminEmployeesTable\" });\n          }\n          this.clearErrors();\n        },\n        (error) => {\n          this.errors.loginIsError = error.loginIsError;\n          this.errors.passwordIsError = error.passwordIsError;\n        }\n      );\n    },\n    clearErrors() {\n      this.errors.loginIsError = false;\n      this.errors.password = false;\n    },\n  },\n};\n</script>\n<style lang=\"scss\">\n.login {\n  background: rgba(226, 226, 226, 1);\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  min-height: 100vh;\n  &__content {\n    padding: 24px 23px;\n    margin: 0 auto;\n    width: 523px;\n    background: #fff;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    border-radius: 24px;\n  }\n  &__form {\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    margin-top: 24px;\n  }\n  &__field {\n    display: flex;\n    position: relative;\n\n    &:first-child {\n      margin-bottom: 16px;\n    }\n    &_error {\n      input {\n        color: #b90c0c;\n        border-color: #b90c0c;\n      }\n      .login__icon {\n        path {\n          fill: #b90c0c;\n        }\n      }\n      .login__error {\n        display: block;\n      }\n    }\n  }\n  &__error {\n    position: absolute;\n    right: 10px;\n    top: 50%;\n    transform: translateY(-50%);\n    display: none;\n  }\n  &__input {\n    width: 100%;\n    padding: 10px 14px;\n    border: 1px solid #c0c0c0;\n    border-radius: 8px;\n    color: #231f20;\n    font-weight: 700;\n    text-indent: 15px;\n    &::placeholder {\n      font-size: 14px;\n      font-weight: 700;\n      color: #c0c0c0;\n    }\n  }\n  &__icon {\n    position: absolute;\n    left: 10px;\n    top: 50%;\n    transform: translateY(-50%);\n  }\n  &__button {\n    margin-top: 90px;\n    text-align: center;\n    padding: 12px 0;\n    font-size: 16px;\n    font-weight: 700;\n    color: #231f20;\n    background: none;\n    border: 2px solid #c0c0c0;\n    border-radius: 8px;\n    cursor: pointer;\n  }\n  @media screen and (min-width: 320px) and (max-width: 744px) {\n    &__content {\n      width: 100%;\n      padding: 14px 13px;\n    }\n  }\n}\n</style>"],"mappings":";AA2CA,OAAAA,QAAA;AACA,OAAAC,SAAA;AACA,SAAAC,UAAA;AACA,SAAAC,UAAA;AACA;EACAC,KAAA;IACA;MACAC,MAAA;QACAC,YAAA;QACAC,eAAA;MACA;MACAC,YAAA;MACAC,eAAA;IACA;EACA;EACAC,UAAA;IACAV,QAAA;IACAC;EACA;EACAU,QAAA;IACA,GAAAR,UAAA;MACAS,IAAA;IACA;EACA;EACAC,OAAA;IACA,GAAAX,UAAA;IACAY,gBAAAC,CAAA;MACAA,CAAA,CAAAC,cAAA;MAEA,IAAAZ,IAAA;QACAa,KAAA,OAAAT,YAAA;QACAU,QAAA,OAAAT;MACA;MACA,KAAAU,IAAA,CAAAf,IAAA,EAAAgB,IAAA,CACA;QACA,SAAAR,IAAA,CAAAS,KAAA,CAAAC,QAAA;UACA,KAAAC,OAAA,CAAAC,IAAA;YAAAC,IAAA;UAAA;QACA,gBAAAb,IAAA,CAAAS,KAAA,CAAAC,QAAA;UACA,KAAAC,OAAA,CAAAC,IAAA;YAAAC,IAAA;UAAA;QACA;QACA,KAAAC,WAAA;MACA,GACAC,KAAA;QACA,KAAAtB,MAAA,CAAAC,YAAA,GAAAqB,KAAA,CAAArB,YAAA;QACA,KAAAD,MAAA,CAAAE,eAAA,GAAAoB,KAAA,CAAApB,eAAA;MACA,EACA;IACA;IACAmB,YAAA;MACA,KAAArB,MAAA,CAAAC,YAAA;MACA,KAAAD,MAAA,CAAAa,QAAA;IACA;EACA;AACA"}]}