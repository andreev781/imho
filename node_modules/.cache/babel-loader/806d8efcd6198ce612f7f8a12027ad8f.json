{"remainingRequest":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\src\\components\\admin\\Employees\\Profile.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\src\\components\\admin\\Employees\\Profile.vue","mtime":1686568669000},{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\babel.config.js","mtime":1686568669000},{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686771862028},{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\babel-loader\\lib\\index.js","mtime":1686771872096},{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686771862028},{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\vue-loader\\lib\\index.js","mtime":1686771882662}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCB7IG1hcEFjdGlvbnMgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IEVycm9ySWNvbiBmcm9tICJAL2Fzc2V0cy9pbWFnZXMvaWNvbnMvZXJyb3JTbWFsbC5zdmc/aW5saW5lIjsKaW1wb3J0IFN0YXJJY29uIGZyb20gIkAvYXNzZXRzL2ltYWdlcy9pY29ucy9zdGFyLnN2Zz9pbmxpbmUiOwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IHsKICAgIGN1cnJlbnRVc2VyOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogKCkgPT4gbnVsbAogICAgfQogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFsbENvdW50cmllczogWyJSVVMiLCAiQkxSIiwgIkxUVSIsICJMQVQiLCAiS0FaIiwgIkVTVCIsICJVS1IiLCAiUE9MIiwgIk1EQSJdLAogICAgICBhbGxSb2xlczogWyLQvNC+0LTQtdGA0LDRgtC+0YAiLCAi0YDQtdC00LDQutGC0L7RgCIsICLQsNC00LzQuNC90LjRgdGC0YDQsNGC0L7RgCJdLAogICAgICBjaGFuZ2VkVXNlcjogewogICAgICAgIGlkOiAiIiwKICAgICAgICBuYW1lOiAiIiwKICAgICAgICBzdXJuYW1lOiAiIiwKICAgICAgICBlbWFpbDogIiIsCiAgICAgICAgbG9naW46ICIiLAogICAgICAgIHJvbGVzOiBbXSwKICAgICAgICBwaG90bzogIiIsCiAgICAgICAgcGFzc3dvcmQ6ICIiLAogICAgICAgIGF2YWlsYWJsZUNvdW50cmllczogW10KICAgICAgfSwKICAgICAgaW1hZ2VUb1Nob3c6IG51bGwsCiAgICAgIGVycm9yc1RvU3VibWl0OiB7CiAgICAgICAgbmFtZTogZmFsc2UsCiAgICAgICAgc3VybmFtZTogZmFsc2UsCiAgICAgICAgZW1haWw6IGZhbHNlLAogICAgICAgIHBhc3N3b3JkOiBmYWxzZSwKICAgICAgICByb2xlczogZmFsc2UsCiAgICAgICAgcGhvdG86IGZhbHNlLAogICAgICAgIGF2YWlsYWJsZUNvdW50cmllczogZmFsc2UKICAgICAgfSwKICAgICAgcmVwZWF0UGFzc3dvcmQ6IG51bGwKICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBTdGFySWNvbiwKICAgIEVycm9ySWNvbgogIH0sCiAgbW91bnRlZCgpIHsKICAgIGlmICh0aGlzLiRyb3V0ZS5uYW1lID09ICJBZG1pbkVtcGxveWVlc1ZpZXciICYmIHRoaXMuY3VycmVudFVzZXIpIHsKICAgICAgdGhpcy5jaGFuZ2VkVXNlciA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5jdXJyZW50VXNlcikpOwogICAgICB0aGlzLnJlcGVhdFBhc3N3b3JkID0gdGhpcy5jdXJyZW50VXNlci5wYXNzd29yZDsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHNhdmVEYXRhKGFjdGlvbikgewogICAgICB0aGlzLmhhc0Vycm9yKCk7CiAgICAgIGZvciAobGV0IGVyciBpbiB0aGlzLmVycm9yc1RvU3VibWl0KSB7CiAgICAgICAgaWYgKHRoaXMuZXJyb3JzVG9TdWJtaXRbZXJyXSA9PSB0cnVlKSB7CiAgICAgICAgICBjb25zb2xlLmVycm9yKGAke2Vycn06IGZhbHNlYCk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICB9CiAgICAgIGlmIChhY3Rpb24gPT0gIm5ld1VzZXIiKSB7CiAgICAgICAgdGhpcy5DUkVBVEVfVVNFUih0aGlzLmNoYW5nZWRVc2VyKTsKICAgICAgICAvLyB0aGlzLiRyb3V0ZXIucHVzaCh7IHBhdGg6ICIvYWRtaW4vRW1wbG95ZWVzL2xpc3QiIH0pOwogICAgICB9IGVsc2UgaWYgKGFjdGlvbiA9PSAic2F2ZUNoYW5nZSIpIHsKICAgICAgICB0aGlzLkNIQU5HRV9VU0VSKHRoaXMuY2hhbmdlZFVzZXIpOwogICAgICB9CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAiQWRtaW5FbXBsb3llZXNUYWJsZSIKICAgICAgfSk7CiAgICB9LAogICAgaGFzRXJyb3IoKSB7CiAgICAgIGxldCByZUVtYWlsID0gL14oKFtePD4oKVtcXVxcLiw7OlxzQCJdKyhcLltePD4oKVtcXVxcLiw7OlxzQCJdKykqKXwuKCIuKyIpKUAoKFxbWzAtOV17MSwzfVwuWzAtOV17MSwzfVwuWzAtOV17MSwzfVwuWzAtOV17MSwzfVxdKXwoKFthLXpBLVpcLTAtOV0rXC4pK1thLXpBLVpdezIsfSkpJC87CiAgICAgIGxldCByZVBhc3N3b3JkID0gL14uKig/PS57OCx9KSg/PS4qW2EtekEtWl0pKD89LipcZCkuKiQvOwogICAgICB0aGlzLmVycm9yc1RvU3VibWl0Lm5hbWUgPSB0aGlzLmNoYW5nZWRVc2VyLm5hbWUgPyBmYWxzZSA6IHRydWU7IC8vINCS0LDQu9C40LTQsNGG0LjRjyDQuNC80LXQvdC4CiAgICAgIHRoaXMuZXJyb3JzVG9TdWJtaXQuc3VybmFtZSA9IHRoaXMuY2hhbmdlZFVzZXIuc3VybmFtZSA/IGZhbHNlIDogdHJ1ZTsgLy/QktCw0LvQuNC00LDRhtC40Y8g0YTQsNC80LjQu9C40LgKICAgICAgdGhpcy5lcnJvcnNUb1N1Ym1pdC5lbWFpbCA9ICFyZUVtYWlsLnRlc3QodGhpcy5jaGFuZ2VkVXNlci5lbWFpbCk7IC8v0JLQsNC70LjQtNCw0YbQuNGPINC/0L7Rh9GC0YsKICAgICAgdGhpcy5lcnJvcnNUb1N1Ym1pdC5yb2xlcyA9IHRoaXMuY2hhbmdlZFVzZXIucm9sZXMubGVuZ3RoID09IDAgPyB0cnVlIDogZmFsc2U7IC8v0JLQsNC70LjQtNCw0YbQuNGPINGA0L7Qu9C10LkKICAgICAgdGhpcy5lcnJvcnNUb1N1Ym1pdC5waG90byA9IHRoaXMuY2hhbmdlZFVzZXIucGhvdG8gPyBmYWxzZSA6IHRoaXMuY3VycmVudFVzZXIgPT0gbnVsbCA/IHRydWUgOiBmYWxzZTsgLy/QktCw0LvQuNC00LDRhtC40Y8g0LDQstCw0YLQsNGA0LrQuAogICAgICB0aGlzLmVycm9yc1RvU3VibWl0LmF2YWlsYWJsZUNvdW50cmllcyA9IHRoaXMuY2hhbmdlZFVzZXIuYXZhaWxhYmxlQ291bnRyaWVzLmxlbmd0aCA9PSAwID8gdHJ1ZSA6IGZhbHNlOyAvL9CS0LDQu9C40LTQsNGG0LjRjyDQtNC+0YHRgtGD0L/QsCDQuiDRgdGC0YDQsNC90LDQvAogICAgICB0aGlzLmVycm9yc1RvU3VibWl0LnBhc3N3b3JkID0gIShyZVBhc3N3b3JkLnRlc3QodGhpcy5jaGFuZ2VkVXNlci5wYXNzd29yZCkgJiYgdGhpcy5yZXBlYXRQYXNzd29yZCA9PSB0aGlzLmNoYW5nZWRVc2VyLnBhc3N3b3JkCiAgICAgIC8v0JLQsNC70LjQtNCw0YbQuNGPINC/0LDRgNC+0LvRjwogICAgICApOwogICAgfSwKCiAgICBjaGFuZ2VDb3VudHJ5KGNvdW50cnkpIHsKICAgICAgaWYgKGNvdW50cnkgPT0gItCS0YHQtSIpIHsKICAgICAgICB0aGlzLmNoYW5nZWRVc2VyLmF2YWlsYWJsZUNvdW50cmllcyA9IHRoaXMuYWxsQ291bnRyaWVzLnNsaWNlKCk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHRoaXMudG9nZ2xlQXJyYXkodGhpcy5jaGFuZ2VkVXNlci5hdmFpbGFibGVDb3VudHJpZXMsIGNvdW50cnkpOwogICAgfSwKICAgIHRvZ2dsZUFycmF5KGFycmF5LCBpdGVtKSB7CiAgICAgIGxldCBpbmRleCA9IGFycmF5LmluZGV4T2YoaXRlbSk7CiAgICAgIGluZGV4ID09IC0xID8gYXJyYXkucHVzaChpdGVtKSA6IGFycmF5Lmxlbmd0aCA+IDEgPyBhcnJheS5zcGxpY2UoaW5kZXgsIDEpIDogZmFsc2U7CiAgICB9LAogICAgdXBsb2FkSW1hZ2UoZSkgewogICAgICBjb25zdCBpbWFnZSA9IGUudGFyZ2V0LmZpbGVzWzBdOwogICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwogICAgICBsZXQgY2hhbmdlU3JjID0gc3JjID0+IHsKICAgICAgICB0aGlzLmNoYW5nZWRVc2VyLnBob3RvID0gc3JjOwogICAgICAgIHRoaXMuaW1hZ2VUb1Nob3cgPSBzcmM7CiAgICAgIH07CiAgICAgIGlmIChpbWFnZSAmJiBpbWFnZS5zaXplID4gMTAyNCAqIDEwMjQpIHsKICAgICAgICBjb25zb2xlLmVycm9yKCLQmNC30L7QsdGA0LDQttC10L3QuNC1INGB0LvQuNGI0LrQvtC8INCx0L7Qu9GM0YjQvtC1Iik7CiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIGlmIChpbWFnZSkgewogICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGltYWdlKTsKICAgICAgICByZWFkZXIub25sb2FkID0gZSA9PiB7CiAgICAgICAgICBsZXQgc3JjID0gZS50YXJnZXQucmVzdWx0OwogICAgICAgICAgbGV0IGxvYWRJbWFnZSA9IG5ldyBJbWFnZSgpOwogICAgICAgICAgbG9hZEltYWdlLnNyYyA9IHNyYzsKICAgICAgICAgIGxvYWRJbWFnZS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIGlmICh0aGlzLndpZHRoIDwgMjAwIHx8IHRoaXMuaGVpZ2h0IDwgMjAwKSB7CiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcigi0JjQt9C+0LHRgNCw0LbQtdC90LjQtSDRgdC70LjRiNC60L7QvCDQvNCw0LvQtdC90YzQutC+0LUiKTsKICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgICAgc3JjID0gIiI7CiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNoYW5nZVNyYyhzcmMpOwogICAgICAgICAgfTsKICAgICAgICB9OwogICAgICB9CiAgICB9LAogICAgLi4ubWFwQWN0aW9ucygiVXNlcnMiLCBbIkNSRUFURV9VU0VSIiwgIkNIQU5HRV9VU0VSIl0pCiAgfSwKICB3YXRjaDogewogICAgY3VycmVudFVzZXIobmV3VmFsdWUpIHsKICAgICAgdGhpcy5jdXJyZW50VXNlciA9IG5ld1ZhbHVlOwogICAgfQogIH0KfTs="},{"version":3,"names":["mapActions","ErrorIcon","StarIcon","props","currentUser","type","Object","default","data","allCountries","allRoles","changedUser","id","name","surname","email","login","roles","photo","password","availableCountries","imageToShow","errorsToSubmit","repeatPassword","components","mounted","$route","JSON","parse","stringify","methods","saveData","action","hasError","err","console","error","CREATE_USER","CHANGE_USER","$router","push","reEmail","rePassword","test","length","changeCountry","country","slice","toggleArray","array","item","index","indexOf","splice","uploadImage","e","image","target","files","reader","FileReader","changeSrc","src","size","preventDefault","readAsDataURL","onload","result","loadImage","Image","width","height","watch","newValue"],"sources":["src/components/admin/Employees/Profile.vue"],"sourcesContent":["<template>\n  <div class=\"employees-profile\">\n    <div class=\"employees-profile__content main-content main-color\">\n      <div class=\"employees-profile__top main-line\">\n        <div class=\"employees-profile__title\">\n          <h4 v-if=\"$route.name == 'AdminEmployeesView'\">Просмотр профиля</h4>\n          <h4 v-else>Регистрация нового сотрудника</h4>\n        </div>\n        <div class=\"main-filter\" v-if=\"$route.name == 'AdminEmployeesView'\">\n          <div class=\"main-filter__block\">\n            <button\n              class=\"main-filter__button\"\n              :class=\"{\n                'main-filter__button_active':\n                  $route.name == 'AdminEmployeesView',\n              }\"\n            >\n              Профиль\n            </button>\n          </div>\n          <div class=\"main-filter__block\">\n            <button class=\"main-filter__button\">KPI</button>\n          </div>\n        </div>\n      </div>\n      <div class=\"employees-profile__body\">\n        <div class=\"employees-profile__form\">\n          <div class=\"employees-profile__block\" v-if=\"currentUser\">\n            <div class=\"employees-profile__row\">\n              <div class=\"employees-profile__image\">\n                <img\n                  type=\"image\"\n                  class=\"employees-profile__image\"\n                  :src=\"require('@/assets/images/users/avatar2.png')\"\n                  alt=\"user\"\n                />\n              </div>\n              <div class=\"employees-profile__info\">\n                <p class=\"employees-profile__name\">\n                  {{ currentUser.name }} {{ currentUser.surname }}\n                  {{ currentUser.email }}\n                </p>\n                <ul class=\"main-table__list main-table__list\">\n                  <li\n                    v-for=\"country in currentUser.availableCountries\"\n                    :key=\"country\"\n                  >\n                    <div class=\"main-table__icon\">\n                      <img\n                        :src=\"\n                          require(`@/assets/images/icons/flags/${country.toLowerCase()}.svg`)\n                        \"\n                        alt=\"\"\n                      />\n                    </div>\n                    <p class=\"main-table__text main-table__text_bold\">\n                      {{ country }}\n                    </p>\n                  </li>\n                </ul>\n              </div>\n            </div>\n          </div>\n          <div class=\"employees-profile__block\">\n            <div\n              class=\"employees-profile__row employees-profile__row_direction\"\n            >\n              <div\n                class=\"employees-profile__field\"\n                :class=\"{\n                  'employees-profile__field_error': errorsToSubmit.name,\n                }\"\n              >\n                <label for=\"EmployeesProfileName\">\n                  <div class=\"employees-profile__icon\">\n                    <StarIcon />\n                  </div>\n                  <p>Имя(имя и отчество):</p>\n                </label>\n                <div class=\"employees-profile__input\">\n                  <input\n                    type=\"text\"\n                    id=\"EmployeesProfileName\"\n                    v-model=\"changedUser.name\"\n                    placeholder=\"Введите имя\"\n                  />\n                  <div class=\"employees-profile__error\">\n                    <ErrorIcon />\n                  </div>\n                </div>\n              </div>\n              <div\n                class=\"employees-profile__field\"\n                :class=\"{\n                  'employees-profile__field_error': errorsToSubmit.surname,\n                }\"\n              >\n                <label for=\"EmployeesProfileSurname\">\n                  <div class=\"employees-profile__icon\">\n                    <StarIcon />\n                  </div>\n                  <p>Фамилия:</p>\n                </label>\n                <div class=\"employees-profile__input\">\n                  <input\n                    type=\"text\"\n                    id=\"EmployeesProfileSurname\"\n                    v-model=\"changedUser.surname\"\n                    placeholder=\"Введите фамилию\"\n                  />\n                  <div class=\"employees-profile__error\">\n                    <ErrorIcon />\n                  </div>\n                </div>\n              </div>\n              <div\n                class=\"employees-profile__field\"\n                :class=\"{\n                  'employees-profile__field_error': errorsToSubmit.email,\n                }\"\n              >\n                <label for=\"EmployeesProfileEmail\">\n                  <div class=\"employees-profile__icon\">\n                    <StarIcon />\n                  </div>\n                  <p>e-mail:</p>\n                </label>\n                <div class=\"employees-profile__input\">\n                  <input\n                    type=\"text\"\n                    id=\"EmployeesProfileEmail\"\n                    v-model=\"changedUser.email\"\n                    placeholder=\"Введите E-mail\"\n                  />\n                  <div class=\"employees-profile__error\">\n                    <ErrorIcon />\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"employees-profile__block\">\n            <div class=\"employees-profile__subtitle\">\n              <div class=\"employees-profile__icon\">\n                <StarIcon />\n              </div>\n              <h4>Доступ к публикациям</h4>\n            </div>\n            <div class=\"employees-profile__row\">\n              <ul\n                class=\"main-table__list main-table__list employees-profile__access\"\n              >\n                <li\n                  v-for=\"country in allCountries\"\n                  :key=\"country\"\n                  class=\"employees-profile__country\"\n                  :class=\"{\n                    'employees-profile__country_active':\n                      changedUser.availableCountries\n                        ? changedUser.availableCountries.includes(country)\n                        : false,\n                  }\"\n                  @click=\"changeCountry(country)\"\n                >\n                  <div class=\"main-table__icon\">\n                    <img\n                      :src=\"\n                        require(`@/assets/images/icons/flags/${country.toLowerCase()}.svg`)\n                      \"\n                      alt=\"\"\n                    />\n                  </div>\n                  <p class=\"main-table__text main-table__text_bold\">\n                    {{ country }}\n                  </p>\n                </li>\n                <li>\n                  <button class=\"button-red\" @click=\"changeCountry('Все')\">\n                    Выбрать все\n                  </button>\n                </li>\n              </ul>\n            </div>\n            <div class=\"employees-profile__block\">\n              <div class=\"employees-profile__subtitle\">\n                <div class=\"employees-profile__icon\">\n                  <StarIcon />\n                </div>\n                <h4>Роли</h4>\n              </div>\n              <div class=\"employees-profile__row\">\n                <ul class=\"employees-profile__roles\">\n                  <li\n                    v-for=\"role in allRoles\"\n                    :key=\"role\"\n                    @click=\"toggleArray(changedUser.roles, role)\"\n                  >\n                    <div class=\"employees-profile__checkbox main-checkbox\">\n                      <input\n                        type=\"checkbox\"\n                        :checked=\"\n                          changedUser.roles.some((e) => e == role)\n                            ? true\n                            : false\n                        \"\n                        class=\"main-checkbox__input\"\n                      />\n                      <div class=\"main-checkbox__checkmark\"></div>\n                      <div class=\"checkbox__body\"></div>\n                    </div>\n                    <p\n                      :style=\"{\n                        'background-color':\n                          role == 'модератор'\n                            ? '#C0FBFF'\n                            : role == 'редактор'\n                            ? '#D0FFD2'\n                            : '#FFDDDD',\n                      }\"\n                    >\n                      {{ role }}\n                    </p>\n                  </li>\n                </ul>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"employees-profile__form\">\n          <div\n            class=\"employees-profile__block employees-profile__title employees-profile_after\"\n          >\n            <h4>Загрузить фото</h4>\n          </div>\n          <div class=\"employees-profile__block\">\n            <div\n              class=\"employees-profile__subtitle employees-profile__subtitle_light\"\n            >\n              <div class=\"employees-profile__icon\">\n                <StarIcon />\n              </div>\n              <h4>Обязательно для заполнения</h4>\n            </div>\n            <div class=\"employees-profile__row employees-profile__row_grid\">\n              <div\n                class=\"employees-profile__image employees-profile__image_big\"\n              >\n                <img\n                  type=\"image\"\n                  :src=\"\n                    imageToShow || require('@/assets/images/users/empty.png')\n                  \"\n                  alt=\"user\"\n                />\n              </div>\n              <div class=\"employees-profile__require\">\n                <p>Требование к фото:</p>\n                <p>\n                  объем не более 1МБ, размер не менее 200х200 пикселей, формат\n                  jpg, jpeg, png\n                </p>\n              </div>\n              <div class=\"employees-profile__require\">\n                <p>Просьба</p>\n                <p>\n                  Постарайтесь, пожалуйста, подобрать фото или картинку так,\n                  чтобы она хорошо читалась. Была яркая и внятная. Всегда\n                  приятно при общении видеть лицо собеседника.\n                </p>\n              </div>\n              <div class=\"employees-profile__button\">\n                <label for=\"uploadPhoto\" class=\"button-red\"\n                  >Изменить фото</label\n                >\n                <input\n                  type=\"file\"\n                  class=\"employees-profile__upload\"\n                  id=\"uploadPhoto\"\n                  accept=\"image/jpeg, image/png, image.jpg\"\n                  @change=\"uploadImage\"\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"employees-profile__form\">\n          <div class=\"employees-profile__block employees-profile_after\">\n            <h4>Пароль</h4>\n          </div>\n          <div class=\"employees-profile__block employees-profile__block\">\n            <div\n              class=\"employees-profile__row employees-profile__row_direction\"\n            >\n              <div\n                class=\"employees-profile__field\"\n                :class=\"{\n                  'employees-profile__field_error': errorsToSubmit.password,\n                }\"\n              >\n                <label for=\"EmployeesProfilePassword\">\n                  <p>Введите новый пароль:</p>\n                </label>\n                <div class=\"employees-profile__input\">\n                  <input\n                    type=\"password\"\n                    id=\"EmployeesProfilePassword\"\n                    placeholder=\"Введите новый пароль\"\n                    v-model=\"changedUser.password\"\n                  />\n                  <div class=\"employees-profile__error\">\n                    <ErrorIcon />\n                  </div>\n                </div>\n              </div>\n              <div\n                class=\"employees-profile__field\"\n                :class=\"{\n                  'employees-profile__field_error': errorsToSubmit.password,\n                }\"\n              >\n                <label for=\"EmployeesProfileRepeatPassword\">\n                  <p>Подтвердите пароль:</p>\n                </label>\n                <div class=\"employees-profile__input\">\n                  <input\n                    type=\"password\"\n                    id=\"EmployeesProfileRepeatPassword\"\n                    placeholder=\"Подтвердите пароль\"\n                    v-model=\"repeatPassword\"\n                  />\n                  <div class=\"employees-profile__error\">\n                    <ErrorIcon />\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"main-submit\" v-if=\"currentUser == null\">\n      <button @click=\"saveData('newUser')\">\n        Зарегестрировать пользователя\n      </button>\n    </div>\n    <div class=\"main-submit\" v-else>\n      <button @click=\"saveData('saveChange')\">Сохранить изменения</button>\n      <button @click=\"saveData('deleteUser')\">Удалить профиль</button>\n    </div>\n  </div>\n</template>\n<script>\nimport { mapActions } from \"vuex\";\nimport ErrorIcon from \"@/assets/images/icons/errorSmall.svg?inline\";\n\nimport StarIcon from \"@/assets/images/icons/star.svg?inline\";\nexport default {\n  props: {\n    currentUser: {\n      type: Object,\n      default: () => null,\n    },\n  },\n  data() {\n    return {\n      allCountries: [\n        \"RUS\",\n        \"BLR\",\n        \"LTU\",\n        \"LAT\",\n        \"KAZ\",\n        \"EST\",\n        \"UKR\",\n        \"POL\",\n        \"MDA\",\n      ],\n      allRoles: [\"модератор\", \"редактор\", \"администратор\"],\n      changedUser: {\n        id: \"\",\n        name: \"\",\n        surname: \"\",\n        email: \"\",\n        login: \"\",\n        roles: [],\n        photo: \"\",\n        password: \"\",\n        availableCountries: [],\n      },\n      imageToShow: null,\n      errorsToSubmit: {\n        name: false,\n        surname: false,\n        email: false,\n        password: false,\n        roles: false,\n        photo: false,\n        availableCountries: false,\n      },\n      repeatPassword: null,\n    };\n  },\n  components: {\n    StarIcon,\n    ErrorIcon,\n  },\n  mounted() {\n    if (this.$route.name == \"AdminEmployeesView\" && this.currentUser) {\n      this.changedUser = JSON.parse(JSON.stringify(this.currentUser));\n      this.repeatPassword = this.currentUser.password;\n    }\n  },\n  methods: {\n    saveData(action) {\n      this.hasError();\n      for (let err in this.errorsToSubmit) {\n        if (this.errorsToSubmit[err] == true) {\n          console.error(`${err}: false`);\n          return;\n        }\n      }\n      if (action == \"newUser\") {\n        this.CREATE_USER(this.changedUser);\n        // this.$router.push({ path: \"/admin/Employees/list\" });\n      } else if (action == \"saveChange\") {\n        this.CHANGE_USER(this.changedUser);\n      }\n      this.$router.push({ name: \"AdminEmployeesTable\" });\n    },\n    hasError() {\n      let reEmail =\n        /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|.(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n      let rePassword = /^.*(?=.{8,})(?=.*[a-zA-Z])(?=.*\\d).*$/;\n      this.errorsToSubmit.name = this.changedUser.name ? false : true; // Валидация имени\n      this.errorsToSubmit.surname = this.changedUser.surname ? false : true; //Валидация фамилии\n      this.errorsToSubmit.email = !reEmail.test(this.changedUser.email); //Валидация почты\n      this.errorsToSubmit.roles =\n        this.changedUser.roles.length == 0 ? true : false; //Валидация ролей\n      this.errorsToSubmit.photo = this.changedUser.photo\n        ? false\n        : this.currentUser == null\n        ? true\n        : false; //Валидация аватарки\n      this.errorsToSubmit.availableCountries =\n        this.changedUser.availableCountries.length == 0 ? true : false; //Валидация доступа к странам\n      this.errorsToSubmit.password = !(\n        (\n          rePassword.test(this.changedUser.password) &&\n          this.repeatPassword == this.changedUser.password\n        ) //Валидация пароля\n      );\n    },\n    changeCountry(country) {\n      if (country == \"Все\") {\n        this.changedUser.availableCountries = this.allCountries.slice();\n        return;\n      }\n      this.toggleArray(this.changedUser.availableCountries, country);\n    },\n    toggleArray(array, item) {\n      let index = array.indexOf(item);\n      index == -1\n        ? array.push(item)\n        : array.length > 1\n        ? array.splice(index, 1)\n        : false;\n    },\n    uploadImage(e) {\n      const image = e.target.files[0];\n      const reader = new FileReader();\n      let changeSrc = (src) => {\n        this.changedUser.photo = src;\n        this.imageToShow = src;\n      };\n      if (image && image.size > 1024 * 1024) {\n        console.error(\"Изображение слишком большое\");\n\n        e.preventDefault();\n        return;\n      } else if (image) {\n        reader.readAsDataURL(image);\n        reader.onload = (e) => {\n          let src = e.target.result;\n          let loadImage = new Image();\n          loadImage.src = src;\n          loadImage.onload = function () {\n            if (this.width < 200 || this.height < 200) {\n              console.error(\"Изображение слишком маленькое\");\n              e.preventDefault();\n              src = \"\";\n              return;\n            }\n            changeSrc(src);\n          };\n        };\n      }\n    },\n    ...mapActions(\"Users\", [\"CREATE_USER\", \"CHANGE_USER\"]),\n  },\n  watch: {\n    currentUser(newValue) {\n      this.currentUser = newValue;\n    },\n  },\n};\n</script>\n<style lang=\"scss\">\n.employees-profile {\n  h4,\n  p,\n  input {\n    color: #353132;\n    font-weight: 700;\n  }\n  &__content {\n    padding: 16px;\n    border-radius: 16px;\n  }\n  &__top {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n  }\n  &__title {\n    font-size: 24px;\n    font-weight: 700;\n  }\n  &__subtitle {\n    margin-bottom: 8px;\n    display: flex;\n    align-items: center;\n    &_light {\n      h4 {\n        font-size: 12px;\n        font-weight: 400;\n      }\n    }\n  }\n  &__block {\n    margin-top: 16px;\n  }\n  &__row {\n    display: flex;\n    align-items: center;\n    &_grid {\n      display: grid;\n      align-items: center;\n      grid-template: repeat(3, 1fr) / 1fr 8fr;\n    }\n  }\n  &__row_grid &__image {\n    grid-row: 1 / 4;\n  }\n  &__input {\n    position: relative;\n  }\n  &__field {\n    &:not(:last-child) {\n      margin-right: 20px;\n    }\n    label {\n      display: flex;\n      align-items: center;\n      margin-bottom: 8px;\n      p {\n        font-weight: 700;\n      }\n    }\n    input {\n      position: relative;\n      padding: 2px 0 2px 8px;\n      border: 1px solid #c0c0c0;\n      border-radius: 8px;\n      width: 100%;\n    }\n    &_error {\n      input {\n        color: #b90c0c;\n        border-color: #b90c0c;\n        &::placeholder {\n          color: #b90c0c;\n        }\n      }\n      .employees-profile__error {\n        display: block;\n      }\n    }\n  }\n  &__error {\n    display: none;\n    position: absolute;\n    top: 50%;\n    transform: translateY(-50%);\n    right: 5px;\n    width: 16px;\n    height: 16px;\n  }\n  &__image {\n    margin-right: 8px;\n    img {\n      height: 60px;\n      width: 60px;\n      border-radius: 50%;\n      object-fit: cover;\n    }\n    &_big {\n      img {\n        width: 128px;\n        height: 128px;\n      }\n    }\n  }\n  &__name {\n    margin-bottom: 5px;\n    font-size: 24px;\n  }\n  &__icon {\n    path {\n      stroke: #353132;\n    }\n    margin-right: 10px;\n  }\n  &__roles {\n    display: flex;\n    li {\n      position: relative;\n      display: flex;\n      align-items: center;\n      p {\n        font-size: 12px;\n        font-weight: 700;\n        line-height: 20px;\n        padding: 2px 8px;\n        border-radius: 8px;\n        cursor: pointer;\n      }\n      &:not(:last-child) {\n        margin-right: 18px;\n      }\n      &:not(:last-child):after {\n        content: \"\";\n        position: absolute;\n        height: 100%;\n        width: 2px;\n        background: #e2e2e2;\n        right: -9px;\n      }\n    }\n  }\n  &__require {\n    p {\n      font-size: 12px;\n      &:last-child {\n        margin-top: 8px;\n        font-weight: 400;\n      }\n    }\n  }\n  &__checkbox {\n    cursor: pointer;\n    input {\n      pointer-events: none;\n    }\n  }\n  &__country {\n    display: flex;\n    align-items: center;\n    font-size: 12px;\n    font-weight: 700;\n    padding: 2px 8px;\n    border: 1px solid transparent;\n    border-radius: 8px;\n    cursor: pointer;\n    &_active {\n      border-color: #e11b1b;\n    }\n  }\n  &__upload {\n    opacity: 0;\n    position: absolute;\n  }\n  &_after {\n    position: relative;\n    padding-bottom: 5px;\n    h4 {\n      font-size: 24px;\n      line-height: 36px;\n    }\n  }\n  @media screen and (min-width: 850px) and (max-width: 1600px) {\n    &__row_grid {\n      grid-template-columns: 1fr 5fr;\n    }\n  }\n  @media screen and (min-width: 320px) and (max-width: 1280px) {\n    &__title h4 {\n      font-size: 16px;\n    }\n    &__field label p {\n      font-size: 14px;\n    }\n    &__subtitle {\n      font-size: 14px;\n    }\n    &__image_big {\n      margin-right: 8px;\n    }\n    &__info {\n      &:last-child {\n        max-width: 474px;\n      }\n    }\n    &__name {\n      font-size: 16px;\n    }\n  }\n  @media screen and (min-width: 744px) and (max-width: 850px) {\n    &__row_grid {\n      grid-template-columns: 1fr 3fr;\n    }\n  }\n  @media screen and (min-width: 500px) and (max-width: 744px) {\n    &__row_grid {\n      grid-template: repeat(2, 1fr) / 1fr 3fr;\n    }\n  }\n  @media screen and (min-width: 320px) and (max-width: 500px) {\n    &__row_grid {\n      grid-template: repeat(2, 1fr) / repeat(2, 1fr);\n    }\n  }\n  @media screen and (min-width: 320px) and (max-width: 744px) {\n    &__block_direction, &__row_direction {\n      display: flex;\n      flex-direction: column;\n      align-items: start;\n      row-gap: 10px;\n    }\n    &__field {\n      width: 100%;\n      label {\n        margin-bottom: 4px;\n      }\n    }\n    &__roles {\n      flex-wrap: wrap;\n      row-gap: 5px;\n      li p {\n        font-size: 10px;\n      }\n    }\n    &__row {\n      gap: 5px;\n    }\n    &__row_grid &__image {\n      grid-row: 1;\n    }\n    &__row_grid &__require:nth-child(3) {\n      grid-column: 1 / 3;\n    }\n    &__image_big {\n      margin-right: 0;\n    }\n    .main-submit {\n      flex-direction: column;\n      row-gap: 10px;\n      button {\n        margin-right: 0 !important;\n      }\n    }\n  }\n}\n</style>"],"mappings":"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"}]}