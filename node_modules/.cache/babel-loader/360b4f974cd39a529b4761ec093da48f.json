{"remainingRequest":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\src\\components\\main\\Paginator.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\src\\components\\main\\Paginator.vue","mtime":1686925400318},{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\babel.config.js","mtime":1686568669000},{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686771862028},{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\babel-loader\\lib\\index.js","mtime":1686771872096},{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1686771862028},{"path":"C:\\Users\\Nocok\\OneDrive\\Рабочий стол\\imho4-admin-front-main\\node_modules\\vue-loader\\lib\\index.js","mtime":1686771882662}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCBMZWZ0QXJyb3dJY29uIGZyb20gIkAvYXNzZXRzL2ltYWdlcy9pY29ucy9hcnJvd0xlZnQuc3ZnP2lubGluZSI7CmltcG9ydCBSaWdodEFycm93SWNvbiBmcm9tICJAL2Fzc2V0cy9pbWFnZXMvaWNvbnMvYXJyb3dSaWdodC5zdmc/aW5saW5lIjsKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICBpdGVtczogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgZGVmYXVsdDogKCkgPT4gewogICAgICAgIHJldHVybiBbXTsKICAgICAgfQogICAgfQogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGN1cnJlbnRQYWdlOiAxLAogICAgICBwYWdpbmF0ZWRJdGVtczogW10sCiAgICAgIGl0ZW1zUGVyUGFnZTogNTAsCiAgICAgIGZpcnN0UGFnZTogMSwKICAgICAgbGFzdFBhZ2U6IDUsCiAgICAgIGN1cnJlbnRDb3VudDogNTAKICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBMZWZ0QXJyb3dJY29uLAogICAgUmlnaHRBcnJvd0ljb24KICB9LAogIG1vdW50ZWQoKSB7CiAgICBpZiAodGhpcy5pdGVtcykgdGhpcy5zZW5kRGF0YSh0aGlzLml0ZW1zKTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBwYWdlcygpIHsKICAgICAgbGV0IHJlc3VsdCA9IFtdOwogICAgICBmb3IgKGxldCBpID0gMTsgaSA8IE1hdGguY2VpbCh0aGlzLml0ZW1zLmxlbmd0aCAvIHRoaXMuaXRlbXNQZXJQYWdlKSArIDE7IGkrKykgewogICAgICAgIHJlc3VsdC5wdXNoKGkpOwogICAgICB9CiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9LAogICAgdmlld1BhZ2VzKCkgewogICAgICByZXR1cm4gdGhpcy5wYWdlcy5zbGljZSh0aGlzLmZpcnN0UGFnZSAtIDEsIHRoaXMubGFzdFBhZ2UpOwogICAgfSwKICAgIHZpZXdJdGVtcygpIHsKICAgICAgbGV0IHJlc3VsdCA9IFs1MF07CiAgICAgIGlmICh0aGlzLml0ZW1zLmxlbmd0aCA+IDUwKSB7CiAgICAgICAgcmVzdWx0LnB1c2goMTAwKTsKICAgICAgfSBlbHNlIGlmICh0aGlzLml0ZW1zLmxlbmd0aCA+IDEwMCkgewogICAgICAgIHJlc3VsdC5wdXNoKDUwMCk7CiAgICAgIH0KICAgICAgcmVzdWx0LnB1c2goItCS0YHQtSIpOwogICAgICByZXR1cm4gcmVzdWx0OwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgcGFnZUNsaWNrKHBhZ2UpIHsKICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IHBhZ2U7CiAgICAgIHRoaXMuc2VuZERhdGEodGhpcy5pdGVtcyk7CiAgICB9LAogICAgc2VuZERhdGEoZGF0YSA9IHRoaXMuaXRlbXMpIHsKICAgICAgbGV0IHJlc3VsdCA9IFtdOwogICAgICBpZiAodGhpcy5pdGVtc1BlclBhZ2UgPT0gItCS0YHQtSIpIHsKICAgICAgICB0aGlzLml0ZW1zUGVyUGFnZSA9IGRhdGEubGVuZ3RoOwogICAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSAxOwogICAgICAgIHJlc3VsdCA9IGRhdGE7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbGV0IGZyb20gPSAodGhpcy5jdXJyZW50UGFnZSAtIDEpICogdGhpcy5pdGVtc1BlclBhZ2U7CiAgICAgICAgbGV0IHRvID0gZnJvbSArIHRoaXMuaXRlbXNQZXJQYWdlOwogICAgICAgIHJlc3VsdCA9IGRhdGEuc2xpY2UoZnJvbSwgdG8pOwogICAgICB9CiAgICAgIHRoaXMuJGVtaXQoImNoYW5nZVBhZ2luYXRlZEl0ZW1zIiwgcmVzdWx0KTsgLy/QntGC0L/RgNCw0LLQu9GP0LXQvCDQtNCw0L3QvdGL0LUg0LIg0YDQvtC00LjRgtC10LvRjNGB0LrQuNC5INC60L7QvNC/0L7QvdC10L3RggogICAgfSwKCiAgICBjaGFuZ2VJdGVtc0ZvclZpZXdzKGNvdW50KSB7CiAgICAgIHRoaXMuaXRlbXNQZXJQYWdlID0gY291bnQ7CiAgICAgIHRoaXMuY3VycmVudENvdW50ID0gY291bnQ7CiAgICAgIHRoaXMuc2VuZERhdGEoKTsKICAgIH0sCiAgICBzd2l0Y2hQYWdlKGFycm93KSB7CiAgICAgIGlmIChhcnJvdyA9PSAiKyIpIHsKICAgICAgICB0aGlzLmN1cnJlbnRQYWdlID0gdGhpcy5wYWdlcy5sZW5ndGggPiAxID8gdGhpcy5jdXJyZW50UGFnZSA9PSB0aGlzLnBhZ2VzLmxlbmd0aCA/IHRoaXMuY3VycmVudFBhZ2UgOiB0aGlzLmN1cnJlbnRQYWdlICs9IDEgOiB1bmRlZmluZWQ7CiAgICAgICAgaWYgKHRoaXMuY3VycmVudFBhZ2UgPiB0aGlzLmxhc3RQYWdlKSB7CiAgICAgICAgICB0aGlzLmxhc3RQYWdlICs9IDE7CiAgICAgICAgICB0aGlzLmZpcnN0UGFnZSArPSAxOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmN1cnJlbnRQYWdlID0gdGhpcy5wYWdlcy5sZW5ndGggPiAxID8gdGhpcy5jdXJyZW50UGFnZSA9PSAxID8gdGhpcy5jdXJyZW50UGFnZSA6IHRoaXMuY3VycmVudFBhZ2UgLT0gMSA6IHVuZGVmaW5lZDsKICAgICAgICBpZiAodGhpcy5jdXJyZW50UGFnZSA8IHRoaXMuZmlyc3RQYWdlKSB7CiAgICAgICAgICB0aGlzLmxhc3RQYWdlIC09IDE7CiAgICAgICAgICB0aGlzLmZpcnN0UGFnZSAtPSAxOwogICAgICAgIH0KICAgICAgfQogICAgICB0aGlzLnNlbmREYXRhKCk7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgaXRlbXMobmV3VmFsdWUpIHsKICAgICAgdGhpcy5zZW5kRGF0YShuZXdWYWx1ZSk7CiAgICB9LAogICAgcGFnZXMobmV3VmFsdWUpIHsKICAgICAgaWYgKG5ld1ZhbHVlID09IDEpIHsKICAgICAgICB0aGlzLmN1cnJlbnRQYWdlID0gMTsKICAgICAgICB0aGlzLnNlbmREYXRhKCk7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"names":["LeftArrowIcon","RightArrowIcon","props","items","type","Array","default","data","currentPage","paginatedItems","itemsPerPage","firstPage","lastPage","currentCount","components","mounted","sendData","computed","pages","result","i","Math","ceil","length","push","viewPages","slice","viewItems","methods","pageClick","page","from","to","$emit","changeItemsForViews","count","switchPage","arrow","undefined","watch","newValue"],"sources":["src/components/main/Paginator.vue"],"sourcesContent":["<template>\n  <div class=\"main-paginator\">\n    <div class=\"main-paginator__content main-color main-table__column\">\n      <div class=\"main-paginator__column\">\n        <ul class=\"main-paginator__count\">\n          <li\n            v-for=\"count in viewItems\"\n            :key=\"count\"\n            @click=\"changeItemsForViews(count)\"\n          >\n            <p\n              class=\"main-paginator__number\"\n              :class=\"{\n                'main-paginator__number_active': currentCount == count,\n              }\"\n            >\n              {{ count }}\n            </p>\n          </li>\n        </ul>\n      </div>\n      <div class=\"main-paginator__column\">\n        <div\n          class=\"main-paginator__arrow\"\n          @click=\"switchPage('-')\"\n          :class=\"{ 'main-paginator__arrow_disable': pages == 1 }\"\n        >\n          <LeftArrowIcon />\n        </div>\n        <ul class=\"main-paginator__pages\">\n          <li\n            class=\"main-paginator__page\"\n            :class=\"{ 'main-paginator__page_active': page == currentPage }\"\n            v-for=\"page in viewPages\"\n            :key=\"page\"\n            @click=\"pageClick(page)\"\n          >\n            <p>{{ page }}</p>\n          </li>\n          <li>\n            <p class=\"main-paginator__page\" v-if=\"pages > 1\">\n              ...\n            </p>\n          </li>\n        </ul>\n        <div\n          class=\"main-paginator__arrow\"\n          @click=\"switchPage('+')\"\n          :class=\"{ 'main-paginator__arrow_disable': pages.length == 1 }\"\n        >\n          <RightArrowIcon />\n        </div>\n      </div>\n      <div class=\"main-paginator__column\">\n        <div class=\"main-paginator__view\">\n          <p>\n            Просмотр {{ itemsPerPage * (currentPage - 1) + 1 }} -\n            {{\n              itemsPerPage * currentPage > items.length\n                ? items.length\n                : itemsPerPage * currentPage\n            }}\n            из {{ items.length }}\n          </p>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport LeftArrowIcon from \"@/assets/images/icons/arrowLeft.svg?inline\";\nimport RightArrowIcon from \"@/assets/images/icons/arrowRight.svg?inline\";\nexport default {\n  props: {\n    items: {\n      type: Array,\n      default: () => {\n        return [];\n      },\n    },\n  },\n  data() {\n    return {\n      currentPage: 1,\n      paginatedItems: [],\n      itemsPerPage: 50,\n      firstPage: 1,\n      lastPage: 5,\n      currentCount: 50,\n    };\n  },\n  components: {\n    LeftArrowIcon,\n    RightArrowIcon,\n  },\n  mounted() {\n    if (this.items) this.sendData(this.items);\n  },\n  computed: {\n    pages() {\n      let result = [];\n      for (\n        let i = 1;\n        i < Math.ceil(this.items.length / this.itemsPerPage) + 1;\n        i++\n      ) {\n        result.push(i);\n      }\n      return result;\n    },\n    viewPages() {\n      return this.pages.slice(this.firstPage - 1, this.lastPage);\n    },\n    viewItems() {\n      let result = [50];\n      if (this.items.length > 50) {\n        result.push(100);\n      } else if (this.items.length > 100) {\n        result.push(500);\n      }\n      result.push(\"Все\");\n      return result;\n    },\n  },\n  methods: {\n    pageClick(page) {\n      this.currentPage = page;\n      this.sendData(this.items);\n    },\n    sendData(data = this.items) {\n      let result = [];\n      if (this.itemsPerPage == \"Все\") {\n        this.itemsPerPage = data.length;\n        this.currentPage = 1;\n        result = data;\n      } else {\n        let from = (this.currentPage - 1) * this.itemsPerPage;\n        let to = from + this.itemsPerPage;\n        result = data.slice(from, to);\n      }\n      this.$emit(\"changePaginatedItems\", result); //Отправляем данные в родительский компонент\n    },\n    changeItemsForViews(count) {\n      this.itemsPerPage = count;\n      this.currentCount = count;\n      this.sendData();\n    },\n    switchPage(arrow) {\n      if (arrow == \"+\") {\n        this.currentPage =\n          this.pages.length > 1\n            ? this.currentPage == this.pages.length\n              ? this.currentPage\n              : (this.currentPage += 1)\n            : undefined;\n        if (this.currentPage > this.lastPage) {\n          this.lastPage += 1;\n          this.firstPage += 1;\n        }\n      } else {\n        this.currentPage =\n          this.pages.length > 1\n            ? this.currentPage == 1\n              ? this.currentPage\n              : (this.currentPage -= 1)\n            : undefined;\n        if (this.currentPage < this.firstPage) {\n          this.lastPage -= 1;\n          this.firstPage -= 1;\n        }\n      }\n      this.sendData();\n    },\n  },\n  watch: {\n    items(newValue) {\n      this.sendData(newValue);\n    },\n    pages(newValue) {\n      if (newValue == 1) {\n        this.currentPage = 1;\n        this.sendData();\n      }\n    },\n  },\n};\n</script>\n<style lang=\"scss\">\n.main-paginator {\n  &__content,\n  &__column,\n  &__count,\n  &__pages {\n    display: flex;\n    align-items: center;\n  }\n  &__content {\n    background: #fff;\n    padding: 8px;\n    justify-content: space-between;\n    border-radius: 0px 0px 8px 8px;\n  }\n  &__count {\n    li {\n      position: relative;\n      &:not(:last-child) {\n        margin-right: 18px;\n        &::after {\n          content: \"\";\n          position: absolute;\n          top: -2px;\n          right: -9px;\n          height: 30px;\n          width: 2px;\n          background: #f4f4f4;\n        }\n      }\n    }\n  }\n  &__number,\n  &__arrow,\n  &__page {\n    cursor: pointer;\n  }\n  &__number {\n    padding: 2px 8px;\n    font-size: 12px;\n    line-height: 20px;\n    font-weight: 700;\n    color: #b90c0c;\n    border-radius: 8px;\n\n    &_active,\n    &:hover {\n      background: #e11b1b !important;\n      color: #fff;\n      border-radius: 8px;\n    }\n  }\n  &__arrow {\n    padding: 7px 9px;\n    border: 1px solid #f4f4f4;\n    border-radius: 8px;\n    &:hover {\n      background: #e11b1b;\n      path {\n        fill: #fff;\n      }\n    }\n    &_disable {\n      background: none;\n      border-color: rgba(192, 192, 192, 0.5);\n      pointer-events: none;\n      path {\n        fill: rgba(192, 192, 192, 1);\n      }\n    }\n  }\n  &__page {\n    font-size: 12px;\n    font-weight: 700;\n    line-height: 20px;\n    padding: 2px 8px;\n    margin: 0 8px;\n    border-radius: 8px;\n    &_active,\n    &:hover {\n      color: #fff;\n      background: #e11b1b !important;\n    }\n  }\n  &__view {\n    font-size: 12px;\n    font-weight: 400;\n    line-height: 18px;\n  }\n}\n</style>"],"mappings":";AAsEA,OAAAA,aAAA;AACA,OAAAC,cAAA;AACA;EACAC,KAAA;IACAC,KAAA;MACAC,IAAA,EAAAC,KAAA;MACAC,OAAA,EAAAA,CAAA;QACA;MACA;IACA;EACA;EACAC,KAAA;IACA;MACAC,WAAA;MACAC,cAAA;MACAC,YAAA;MACAC,SAAA;MACAC,QAAA;MACAC,YAAA;IACA;EACA;EACAC,UAAA;IACAd,aAAA;IACAC;EACA;EACAc,QAAA;IACA,SAAAZ,KAAA,OAAAa,QAAA,MAAAb,KAAA;EACA;EACAc,QAAA;IACAC,MAAA;MACA,IAAAC,MAAA;MACA,KACA,IAAAC,CAAA,MACAA,CAAA,GAAAC,IAAA,CAAAC,IAAA,MAAAnB,KAAA,CAAAoB,MAAA,QAAAb,YAAA,OACAU,CAAA,IACA;QACAD,MAAA,CAAAK,IAAA,CAAAJ,CAAA;MACA;MACA,OAAAD,MAAA;IACA;IACAM,UAAA;MACA,YAAAP,KAAA,CAAAQ,KAAA,MAAAf,SAAA,WAAAC,QAAA;IACA;IACAe,UAAA;MACA,IAAAR,MAAA;MACA,SAAAhB,KAAA,CAAAoB,MAAA;QACAJ,MAAA,CAAAK,IAAA;MACA,gBAAArB,KAAA,CAAAoB,MAAA;QACAJ,MAAA,CAAAK,IAAA;MACA;MACAL,MAAA,CAAAK,IAAA;MACA,OAAAL,MAAA;IACA;EACA;EACAS,OAAA;IACAC,UAAAC,IAAA;MACA,KAAAtB,WAAA,GAAAsB,IAAA;MACA,KAAAd,QAAA,MAAAb,KAAA;IACA;IACAa,SAAAT,IAAA,QAAAJ,KAAA;MACA,IAAAgB,MAAA;MACA,SAAAT,YAAA;QACA,KAAAA,YAAA,GAAAH,IAAA,CAAAgB,MAAA;QACA,KAAAf,WAAA;QACAW,MAAA,GAAAZ,IAAA;MACA;QACA,IAAAwB,IAAA,SAAAvB,WAAA,aAAAE,YAAA;QACA,IAAAsB,EAAA,GAAAD,IAAA,QAAArB,YAAA;QACAS,MAAA,GAAAZ,IAAA,CAAAmB,KAAA,CAAAK,IAAA,EAAAC,EAAA;MACA;MACA,KAAAC,KAAA,yBAAAd,MAAA;IACA;;IACAe,oBAAAC,KAAA;MACA,KAAAzB,YAAA,GAAAyB,KAAA;MACA,KAAAtB,YAAA,GAAAsB,KAAA;MACA,KAAAnB,QAAA;IACA;IACAoB,WAAAC,KAAA;MACA,IAAAA,KAAA;QACA,KAAA7B,WAAA,GACA,KAAAU,KAAA,CAAAK,MAAA,OACA,KAAAf,WAAA,SAAAU,KAAA,CAAAK,MAAA,GACA,KAAAf,WAAA,GACA,KAAAA,WAAA,QACA8B,SAAA;QACA,SAAA9B,WAAA,QAAAI,QAAA;UACA,KAAAA,QAAA;UACA,KAAAD,SAAA;QACA;MACA;QACA,KAAAH,WAAA,GACA,KAAAU,KAAA,CAAAK,MAAA,OACA,KAAAf,WAAA,QACA,KAAAA,WAAA,GACA,KAAAA,WAAA,QACA8B,SAAA;QACA,SAAA9B,WAAA,QAAAG,SAAA;UACA,KAAAC,QAAA;UACA,KAAAD,SAAA;QACA;MACA;MACA,KAAAK,QAAA;IACA;EACA;EACAuB,KAAA;IACApC,MAAAqC,QAAA;MACA,KAAAxB,QAAA,CAAAwB,QAAA;IACA;IACAtB,MAAAsB,QAAA;MACA,IAAAA,QAAA;QACA,KAAAhC,WAAA;QACA,KAAAQ,QAAA;MACA;IACA;EACA;AACA"}]}